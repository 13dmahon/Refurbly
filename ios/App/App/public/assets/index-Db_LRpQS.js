(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Ud={exports:{}},go={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function FS(){if(Xv)return go;Xv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:u}}return go.Fragment=e,go.jsx=n,go.jsxs=n,go}var $v;function GS(){return $v||($v=1,Ud.exports=FS()),Ud.exports}var E=GS(),zd={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function QS(){if(Jv)return Te;Jv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),w=Symbol.iterator;function D(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,z={};function $(M,J,se){this.props=M,this.context=J,this.refs=z,this.updater=se||L}$.prototype.isReactComponent={},$.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},$.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ne(){}ne.prototype=$.prototype;function ie(M,J,se){this.props=M,this.context=J,this.refs=z,this.updater=se||L}var me=ie.prototype=new ne;me.constructor=ie,Q(me,$.prototype),me.isPureReactComponent=!0;var re=Array.isArray;function ye(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(M,J,se){var he=se.ref;return{$$typeof:r,type:M,key:J,ref:he!==void 0?he:null,props:se}}function V(M,J){return R(M.type,J,M.props)}function j(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function k(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return J[se]})}var N=/\/+/g;function Ge(M,J){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):J.toString(36)}function xt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ye,ye):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,J,se,he,Ee){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var je=!1;if(M===null)je=!0;else switch(xe){case"bigint":case"string":case"number":je=!0;break;case"object":switch(M.$$typeof){case r:case e:je=!0;break;case b:return je=M._init,K(je(M._payload),J,se,he,Ee)}}if(je)return Ee=Ee(M),je=he===""?"."+Ge(M,0):he,re(Ee)?(se="",je!=null&&(se=je.replace(N,"$&/")+"/"),K(Ee,J,se,"",function(Wn){return Wn})):Ee!=null&&(j(Ee)&&(Ee=V(Ee,se+(Ee.key==null||M&&M.key===Ee.key?"":(""+Ee.key).replace(N,"$&/")+"/")+je)),J.push(Ee)),1;je=0;var Pt=he===""?".":he+":";if(re(M))for(var at=0;at<M.length;at++)he=M[at],xe=Pt+Ge(he,at),je+=K(he,J,se,xe,Ee);else if(at=D(M),typeof at=="function")for(M=at.call(M),at=0;!(he=M.next()).done;)he=he.value,xe=Pt+Ge(he,at++),je+=K(he,J,se,xe,Ee);else if(xe==="object"){if(typeof M.then=="function")return K(xt(M),J,se,he,Ee);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return je}function le(M,J,se){if(M==null)return M;var he=[],Ee=0;return K(M,he,"","",function(xe){return J.call(se,xe,Ee++)}),he}function de(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var Le=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ze={map:le,forEach:function(M,J,se){le(M,function(){J.apply(this,arguments)},se)},count:function(M){var J=0;return le(M,function(){J++}),J},toArray:function(M){return le(M,function(J){return J})||[]},only:function(M){if(!j(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Te.Activity=A,Te.Children=ze,Te.Component=$,Te.Fragment=n,Te.Profiler=l,Te.PureComponent=ie,Te.StrictMode=s,Te.Suspense=p,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Te.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Te.cache=function(M){return function(){return M.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(M,J,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var he=Q({},M.props),Ee=M.key;if(J!=null)for(xe in J.key!==void 0&&(Ee=""+J.key),J)!x.call(J,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&J.ref===void 0||(he[xe]=J[xe]);var xe=arguments.length-2;if(xe===1)he.children=se;else if(1<xe){for(var je=Array(xe),Pt=0;Pt<xe;Pt++)je[Pt]=arguments[Pt+2];he.children=je}return R(M.type,Ee,he)},Te.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Te.createElement=function(M,J,se){var he,Ee={},xe=null;if(J!=null)for(he in J.key!==void 0&&(xe=""+J.key),J)x.call(J,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ee[he]=J[he]);var je=arguments.length-2;if(je===1)Ee.children=se;else if(1<je){for(var Pt=Array(je),at=0;at<je;at++)Pt[at]=arguments[at+2];Ee.children=Pt}if(M&&M.defaultProps)for(he in je=M.defaultProps,je)Ee[he]===void 0&&(Ee[he]=je[he]);return R(M,xe,Ee)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(M){return{$$typeof:m,render:M}},Te.isValidElement=j,Te.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:de}},Te.memo=function(M,J){return{$$typeof:y,type:M,compare:J===void 0?null:J}},Te.startTransition=function(M){var J=I.T,se={};I.T=se;try{var he=M(),Ee=I.S;Ee!==null&&Ee(se,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ye,Le)}catch(xe){Le(xe)}finally{J!==null&&se.types!==null&&(J.types=se.types),I.T=J}},Te.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Te.use=function(M){return I.H.use(M)},Te.useActionState=function(M,J,se){return I.H.useActionState(M,J,se)},Te.useCallback=function(M,J){return I.H.useCallback(M,J)},Te.useContext=function(M){return I.H.useContext(M)},Te.useDebugValue=function(){},Te.useDeferredValue=function(M,J){return I.H.useDeferredValue(M,J)},Te.useEffect=function(M,J){return I.H.useEffect(M,J)},Te.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Te.useId=function(){return I.H.useId()},Te.useImperativeHandle=function(M,J,se){return I.H.useImperativeHandle(M,J,se)},Te.useInsertionEffect=function(M,J){return I.H.useInsertionEffect(M,J)},Te.useLayoutEffect=function(M,J){return I.H.useLayoutEffect(M,J)},Te.useMemo=function(M,J){return I.H.useMemo(M,J)},Te.useOptimistic=function(M,J){return I.H.useOptimistic(M,J)},Te.useReducer=function(M,J,se){return I.H.useReducer(M,J,se)},Te.useRef=function(M){return I.H.useRef(M)},Te.useState=function(M){return I.H.useState(M)},Te.useSyncExternalStore=function(M,J,se){return I.H.useSyncExternalStore(M,J,se)},Te.useTransition=function(){return I.H.useTransition()},Te.version="19.2.0",Te}var Zv;function Lm(){return Zv||(Zv=1,zd.exports=QS()),zd.exports}var F=Lm(),Bd={exports:{}},yo={},qd={exports:{}},Hd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function YS(){return Wv||(Wv=1,(function(r){function e(K,le){var de=K.length;K.push(le);e:for(;0<de;){var Le=de-1>>>1,ze=K[Le];if(0<l(ze,le))K[Le]=le,K[de]=ze,de=Le;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var le=K[0],de=K.pop();if(de!==le){K[0]=de;e:for(var Le=0,ze=K.length,M=ze>>>1;Le<M;){var J=2*(Le+1)-1,se=K[J],he=J+1,Ee=K[he];if(0>l(se,de))he<ze&&0>l(Ee,se)?(K[Le]=Ee,K[he]=de,Le=he):(K[Le]=se,K[J]=de,Le=J);else if(he<ze&&0>l(Ee,de))K[Le]=Ee,K[he]=de,Le=he;else break e}}return le}function l(K,le){var de=K.sortIndex-le.sortIndex;return de!==0?de:K.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],b=1,A=null,w=3,D=!1,L=!1,Q=!1,z=!1,$=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function me(K){for(var le=n(y);le!==null;){if(le.callback===null)s(y);else if(le.startTime<=K)s(y),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(y)}}function re(K){if(Q=!1,me(K),!L)if(n(p)!==null)L=!0,ye||(ye=!0,k());else{var le=n(y);le!==null&&xt(re,le.startTime-K)}}var ye=!1,I=-1,x=5,R=-1;function V(){return z?!0:!(r.unstable_now()-R<x)}function j(){if(z=!1,ye){var K=r.unstable_now();R=K;var le=!0;try{e:{L=!1,Q&&(Q=!1,ne(I),I=-1),D=!0;var de=w;try{t:{for(me(K),A=n(p);A!==null&&!(A.expirationTime>K&&V());){var Le=A.callback;if(typeof Le=="function"){A.callback=null,w=A.priorityLevel;var ze=Le(A.expirationTime<=K);if(K=r.unstable_now(),typeof ze=="function"){A.callback=ze,me(K),le=!0;break t}A===n(p)&&s(p),me(K)}else s(p);A=n(p)}if(A!==null)le=!0;else{var M=n(y);M!==null&&xt(re,M.startTime-K),le=!1}}break e}finally{A=null,w=de,D=!1}le=void 0}}finally{le?k():ye=!1}}}var k;if(typeof ie=="function")k=function(){ie(j)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ge=N.port2;N.port1.onmessage=j,k=function(){Ge.postMessage(null)}}else k=function(){$(j,0)};function xt(K,le){I=$(function(){K(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var de=w;w=le;try{return K()}finally{w=de}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=w;w=K;try{return le()}finally{w=de}},r.unstable_scheduleCallback=function(K,le,de){var Le=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Le+de:Le):de=Le,K){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=de+ze,K={id:b++,callback:le,priorityLevel:K,startTime:de,expirationTime:ze,sortIndex:-1},de>Le?(K.sortIndex=de,e(y,K),n(p)===null&&K===n(y)&&(Q?(ne(I),I=-1):Q=!0,xt(re,de-Le))):(K.sortIndex=ze,e(p,K),L||D||(L=!0,ye||(ye=!0,k()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var le=w;return function(){var de=w;w=le;try{return K.apply(this,arguments)}finally{w=de}}}})(Hd)),Hd}var e_;function KS(){return e_||(e_=1,qd.exports=YS()),qd.exports}var Fd={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function XS(){if(t_)return $t;t_=1;var r=Lm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:p,containerInfo:y,implementation:b}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,b)},$t.flushSync=function(p){var y=f.T,b=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=b,s.d.f()}},$t.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,A=m(b,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:D}):b==="script"&&s.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},$t.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=m(b,y.crossOrigin);s.d.L(p,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,y){return p(y)},$t.useFormState=function(p,y,b){return f.H.useFormState(p,y,b)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var n_;function $S(){if(n_)return Fd.exports;n_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fd.exports=XS(),Fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function JS(){if(i_)return yo;i_=1;var r=KS(),e=Lm(),n=$S();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===o)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,o=d;break}if(T===o){v=!0,o=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,o=h;break}if(T===o){v=!0,o=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case $:return"Profiler";case z:return"StrictMode";case re:return"Suspense";case ye:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case ie:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case me:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:Ge(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return Ge(t(i))}catch{}}return null}var xt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Le=[],ze=-1;function M(t){return{current:t}}function J(t){0>ze||(t.current=Le[ze],Le[ze]=null,ze--)}function se(t,i){ze++,Le[ze]=t.current,t.current=i}var he=M(null),Ee=M(null),xe=M(null),je=M(null);function Pt(t,i){switch(se(xe,i),se(Ee,t),se(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?vv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=vv(i),t=_v(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(he),se(he,t)}function at(){J(he),J(Ee),J(xe)}function Wn(t){t.memoizedState!==null&&se(je,t);var i=he.current,a=_v(i,t.type);i!==a&&(se(Ee,t),se(he,a))}function Ti(t){Ee.current===t&&(J(he),J(Ee)),je.current===t&&(J(je),ho._currentValue=de)}var us,na;function qn(t){if(us===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);us=i&&i[1]||"",na=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+us+t+na}var cs=!1;function ia(t,i){if(!t||cs)return"";cs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(G){var H=G}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(G){H=G}t.call(ee.prototype)}}else{try{throw Error()}catch(G){H=G}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),q=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===q.length)for(o=C.length-1,h=q.length-1;1<=o&&0<=h&&C[o]!==q[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==q[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==q[h]){var X=`
`+C[o].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=o&&0<=h);break}}}finally{cs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?qn(a):""}function Lh(t,i){switch(t.tag){case 26:case 27:case 5:return qn(t.type);case 16:return qn("Lazy");case 13:return t.child!==i&&i!==null?qn("Suspense Fallback"):qn("Suspense");case 19:return qn("SuspenseList");case 0:case 15:return ia(t.type,!1);case 11:return ia(t.type.render,!1);case 1:return ia(t.type,!0);case 31:return qn("Activity");default:return""}}function nu(t){try{var i="",a=null;do i+=Lh(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ra=Object.prototype.hasOwnProperty,hs=r.unstable_scheduleCallback,sa=r.unstable_cancelCallback,jh=r.unstable_shouldYield,ml=r.unstable_requestPaint,kt=r.unstable_now,iu=r.unstable_getCurrentPriorityLevel,Rt=r.unstable_ImmediatePriority,Dt=r.unstable_UserBlockingPriority,Si=r.unstable_NormalPriority,ru=r.unstable_LowPriority,pl=r.unstable_IdlePriority,Ph=r.log,fs=r.unstable_setDisableYieldValue,rr=null,Kt=null;function Cn(t){if(typeof Ph=="function"&&fs(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(rr,t)}catch{}}var Wt=Math.clz32?Math.clz32:su,kh=Math.log,gl=Math.LN2;function su(t){return t>>>=0,t===0?32:31-(kh(t)/gl|0)|0}var ds=256,ei=262144,sr=4194304;function Hn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Nn(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=Hn(o):(v&=T,v!==0?h=Hn(v):a||(a=T&~t,a!==0&&(h=Hn(a))))):(T=o&~d,T!==0?h=Hn(T):v!==0?h=Hn(v):a||(a=o&~t,a!==0&&(h=Hn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ar(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function aa(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yl(){var t=sr;return sr<<=1,(sr&62914560)===0&&(sr=4194304),t}function Ai(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function lr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ut(t,i,a,o,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Wt(a),ee=1<<X;T[X]=0,C[X]=-1;var H=q[X];if(H!==null)for(q[X]=null,X=0;X<H.length;X++){var G=H[X];G!==null&&(G.lane&=-536870913)}a&=~ee}o!==0&&vl(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function vl(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-Wt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function or(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-Wt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function ur(t,i){var a=i&-i;return a=(a&42)!==0?1:_l(a),(a&(t.suspendedLanes|i))!==0?0:a}function _l(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function El(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wi(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:qv(t.type))}function au(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var ti=Math.random().toString(36).slice(2),ut="__reactFiber$"+ti,zt="__reactProps$"+ti,ni="__reactContainer$"+ti,cr="__reactEvents$"+ti,ii="__reactListeners$"+ti,lu="__reactHandles$"+ti,bl="__reactResources$"+ti,xi="__reactMarker$"+ti;function ms(t){delete t[ut],delete t[zt],delete t[cr],delete t[ii],delete t[lu]}function Ri(t){var i=t[ut];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ni]||a[ut]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=xv(t);t!==null;){if(a=t[ut])return a;t=xv(t)}return i}t=a,a=t.parentNode}return null}function Ci(t){if(t=t[ut]||t[ni]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function ps(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Fn(t){var i=t[bl];return i||(i=t[bl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function dt(t){t[xi]=!0}var la=new Set,hr={};function en(t,i){ri(t,i),ri(t+"Capture",i)}function ri(t,i){for(hr[t]=i,t=0;t<i.length;t++)la.add(i[t])}var Uh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},Sl={};function ou(t){return ra.call(Sl,t)?!0:ra.call(Tl,t)?!1:Uh.test(t)?Sl[t]=!0:(Tl[t]=!0,!1)}function fr(t,i,a){if(ou(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function dr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function In(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zh(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function oa(t){if(!t._valueTracker){var i=uu(t)?"checked":"value";t._valueTracker=zh(t,i,""+t[i])}}function Al(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=uu(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function ua(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ni=/[\n"\\]/g;function ct(t){return t.replace(Ni,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function mr(t,i,a,o,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+tn(i)):t.value!==""+tn(i)&&(t.value=""+tn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?ca(t,v,tn(i)):a!=null?ca(t,v,tn(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function gs(t,i,a,o,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){oa(t);return}a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),oa(t)}function ca(t,i,a){i==="number"&&ua(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Be(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ys(t,i,a){if(i!=null&&(i=""+tn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+tn(a):""}function pr(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(xt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=tn(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),oa(t)}function Dn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Bh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Bh.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function cu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&wl(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&wl(t,d,i[d])}function xl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function si(t){return Hh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ot(){}var ha=null;function fa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ii=null,vn=null;function hu(t){var i=Ci(t);if(i&&(t=i.stateNode)){var a=t[zt]||null;e:switch(t=i.stateNode,i.type){case"input":if(mr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ct(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[zt]||null;if(!h)throw Error(s(90));mr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Al(o)}break e;case"textarea":ys(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Be(t,!!a.multiple,i,!1)}}}var Rl=!1;function fu(t,i,a){if(Rl)return t(i,a);Rl=!0;try{var o=t(i);return o}finally{if(Rl=!1,(Ii!==null||vn!==null)&&(oc(),Ii&&(i=Ii,t=vn,vn=Ii=null,hu(i),t)))for(i=0;i<t.length;i++)hu(t[i])}}function an(t,i){var a=t.stateNode;if(a===null)return null;var o=a[zt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=!1;if(Gn)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){Cl=!0}}),window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{Cl=!1}var _n=null,da=null,li=null;function gr(){if(li)return li;var t,i=da,a=i.length,o,h="value"in _n?_n.value:_n.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return li=h.slice(t,1<o?1-o:void 0)}function vs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function yr(){return!0}function tt(){return!1}function Xt(t){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?yr:tt,this.isPropagationStopped=tt,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),i}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=Xt(Di),vr=A({},Di,{view:0,detail:0}),du=Xt(vr),_r,ma,nn,Es=A({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nn&&(nn&&t.type==="mousemove"?(_r=t.screenX-nn.screenX,ma=t.screenY-nn.screenY):ma=_r=0,nn=t),_r)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),mu=Xt(Es),bs=A({},Es,{dataTransfer:0}),pu=Xt(bs),Nl=A({},vr,{relatedTarget:0}),Er=Xt(Nl),gu=A({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),pa=Xt(gu),Fh=A({},Di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yu=Xt(Fh),Ts=A({},Di,{data:0}),Il=Xt(Ts),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ol={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ol[t])?!!i[t]:!1}function br(){return _u}var Eu=A({},vr,{key:function(t){if(t.key){var i=vu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(t){return t.type==="keypress"?vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bu=Xt(Eu),Oi=A({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vl=Xt(Oi),Tu=A({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),Su=Xt(Tu),Au=A({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),ga=Xt(Au),rn=A({},Es,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wu=Xt(rn),xu=A({},Di,{newState:0,oldState:0}),Tr=Xt(xu),c=[9,13,27,32],g=Gn&&"CompositionEvent"in window,_=null;Gn&&"documentMode"in document&&(_=document.documentMode);var S=Gn&&"TextEvent"in window&&!_,U=Gn&&(!g||_&&8<_&&11>=_),Y=" ",ae=!1;function Qe(t,i){switch(t){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Re=!1;function Vt(t,i){switch(t){case"compositionend":return vt(i);case"keypress":return i.which!==32?null:(ae=!0,Y);case"textInput":return t=i.data,t===Y&&ae?null:t;default:return null}}function Mt(t,i){if(Re)return t==="compositionend"||!g&&Qe(t,i)?(t=gr(),li=da=_n=null,Re=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return U&&i.locale!=="ko"?null:i.data;default:return null}}var Sr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ln(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Sr[t.type]:i==="textarea"}function Ss(t,i,a,o){Ii?vn?vn.push(o):vn=[o]:Ii=o,i=pc(i,"onChange"),0<i.length&&(a=new _s("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Vi=null,Ml=null;function yT(t){fv(t,0)}function Ru(t){var i=ps(t);if(Al(i))return t}function Dp(t,i){if(t==="change")return i}var Op=!1;if(Gn){var Gh;if(Gn){var Qh="oninput"in document;if(!Qh){var Vp=document.createElement("div");Vp.setAttribute("oninput","return;"),Qh=typeof Vp.oninput=="function"}Gh=Qh}else Gh=!1;Op=Gh&&(!document.documentMode||9<document.documentMode)}function Mp(){Vi&&(Vi.detachEvent("onpropertychange",Lp),Ml=Vi=null)}function Lp(t){if(t.propertyName==="value"&&Ru(Ml)){var i=[];Ss(i,Ml,t,fa(t)),fu(yT,i)}}function vT(t,i,a){t==="focusin"?(Mp(),Vi=i,Ml=a,Vi.attachEvent("onpropertychange",Lp)):t==="focusout"&&Mp()}function _T(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Ml)}function ET(t,i){if(t==="click")return Ru(i)}function bT(t,i){if(t==="input"||t==="change")return Ru(i)}function TT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:TT;function Ll(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ra.call(i,h)||!En(t[h],i[h]))return!1}return!0}function jp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pp(t,i){var a=jp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jp(a)}}function kp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?kp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Up(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ua(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ua(t.document)}return i}function Yh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var ST=Gn&&"documentMode"in document&&11>=document.documentMode,ya=null,Kh=null,jl=null,Xh=!1;function zp(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xh||ya==null||ya!==ua(o)||(o=ya,"selectionStart"in o&&Yh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jl&&Ll(jl,o)||(jl=o,o=pc(Kh,"onSelect"),0<o.length&&(i=new _s("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=ya)))}function As(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var va={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},$h={},Bp={};Gn&&(Bp=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function ws(t){if($h[t])return $h[t];if(!va[t])return t;var i=va[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Bp)return $h[t]=i[a];return t}var qp=ws("animationend"),Hp=ws("animationiteration"),Fp=ws("animationstart"),AT=ws("transitionrun"),wT=ws("transitionstart"),xT=ws("transitioncancel"),Gp=ws("transitionend"),Qp=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function Qn(t,i){Qp.set(t,i),en(i,[t])}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],_a=0,Zh=0;function Nu(){for(var t=_a,i=Zh=_a=0;i<t;){var a=On[i];On[i++]=null;var o=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&Yp(a,h,d)}}function Iu(t,i,a,o){On[_a++]=t,On[_a++]=i,On[_a++]=a,On[_a++]=o,Zh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Wh(t,i,a,o){return Iu(t,i,a,o),Du(t)}function xs(t,i){return Iu(t,null,null,i),Du(t)}function Yp(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Wt(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Du(t){if(50<ro)throw ro=0,ud=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ea={};function RT(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,i,a,o){return new RT(t,i,a,o)}function ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mi(t,i){var a=t.alternate;return a===null?(a=bn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Kp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ou(t,i,a,o,h,d){var v=0;if(o=t,typeof t=="function")ef(t)&&(v=1);else if(typeof t=="string")v=OS(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=bn(31,a,i,h),t.elementType=R,t.lanes=d,t;case Q:return Rs(a.children,h,d,i);case z:v=8,h|=24;break;case $:return t=bn(12,a,i,h|2),t.elementType=$,t.lanes=d,t;case re:return t=bn(13,a,i,h),t.elementType=re,t.lanes=d,t;case ye:return t=bn(19,a,i,h),t.elementType=ye,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:v=10;break e;case ne:v=9;break e;case me:v=11;break e;case I:v=14;break e;case x:v=16,o=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=bn(v,a,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function Rs(t,i,a,o){return t=bn(7,t,o,i),t.lanes=a,t}function tf(t,i,a){return t=bn(6,t,null,i),t.lanes=a,t}function Xp(t){var i=bn(18,null,null,0);return i.stateNode=t,i}function nf(t,i,a){return i=bn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var $p=new WeakMap;function Vn(t,i){if(typeof t=="object"&&t!==null){var a=$p.get(t);return a!==void 0?a:(i={value:t,source:i,stack:nu(i)},$p.set(t,i),i)}return{value:t,source:i,stack:nu(i)}}var ba=[],Ta=0,Vu=null,Pl=0,Mn=[],Ln=0,Ar=null,oi=1,ui="";function Li(t,i){ba[Ta++]=Pl,ba[Ta++]=Vu,Vu=t,Pl=i}function Jp(t,i,a){Mn[Ln++]=oi,Mn[Ln++]=ui,Mn[Ln++]=Ar,Ar=t;var o=oi;t=ui;var h=32-Wt(o)-1;o&=~(1<<h),a+=1;var d=32-Wt(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,oi=1<<32-Wt(i)+h|a<<h|o,ui=d+t}else oi=1<<d|a<<h|o,ui=t}function rf(t){t.return!==null&&(Li(t,1),Jp(t,1,0))}function sf(t){for(;t===Vu;)Vu=ba[--Ta],ba[Ta]=null,Pl=ba[--Ta],ba[Ta]=null;for(;t===Ar;)Ar=Mn[--Ln],Mn[Ln]=null,ui=Mn[--Ln],Mn[Ln]=null,oi=Mn[--Ln],Mn[Ln]=null}function Zp(t,i){Mn[Ln++]=oi,Mn[Ln++]=ui,Mn[Ln++]=Ar,oi=i.id,ui=i.overflow,Ar=t}var Bt=null,nt=null,Pe=!1,wr=null,jn=!1,af=Error(s(519));function xr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(Vn(i,t)),af}function Wp(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[ut]=t,i[zt]=o,a){case"dialog":Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":case"embed":Ie("load",i);break;case"video":case"audio":for(a=0;a<ao.length;a++)Ie(ao[a],i);break;case"source":Ie("error",i);break;case"img":case"image":case"link":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"input":Ie("invalid",i),gs(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ie("invalid",i);break;case"textarea":Ie("invalid",i),pr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||gv(i.textContent,a)?(o.popover!=null&&(Ie("beforetoggle",i),Ie("toggle",i)),o.onScroll!=null&&Ie("scroll",i),o.onScrollEnd!=null&&Ie("scrollend",i),o.onClick!=null&&(i.onclick=Ot),i=!0):i=!1,i||xr(t,!0)}function eg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Bt=Bt.return}}function Sa(t){if(t!==Bt)return!1;if(!Pe)return eg(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ad(t.type,t.memoizedProps)),a=!a),a&&nt&&xr(t),eg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=wv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=wv(t)}else i===27?(i=nt,zr(t.type)?(t=Nd,Nd=null,nt=t):nt=i):nt=Bt?kn(t.stateNode.nextSibling):null;return!0}function Cs(){nt=Bt=null,Pe=!1}function lf(){var t=wr;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),wr=null),t}function kl(t){wr===null?wr=[t]:wr.push(t)}var of=M(null),Ns=null,ji=null;function Rr(t,i,a){se(of,i._currentValue),i._currentValue=a}function Pi(t){t._currentValue=of.current,J(of)}function uf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function cf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),uf(d.return,a,t),o||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),uf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Aa(t,i,a,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;En(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===je.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ho):t=[ho])}h=h.return}t!==null&&cf(i,t,a,o),i.flags|=262144}function Mu(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Is(t){Ns=t,ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return tg(Ns,t)}function Lu(t,i){return Ns===null&&Is(t),tg(t,i)}function tg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ji===null){if(t===null)throw Error(s(308));ji=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ji=ji.next=i;return a}var CT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},NT=r.unstable_scheduleCallback,IT=r.unstable_NormalPriority,_t={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new CT,data:new Map,refCount:0}}function Ul(t){t.refCount--,t.refCount===0&&NT(IT,function(){t.controller.abort()})}var zl=null,ff=0,wa=0,xa=null;function DT(t,i){if(zl===null){var a=zl=[];ff=0,wa=pd(),xa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return ff++,i.then(ng,ng),i}function ng(){if(--ff===0&&zl!==null){xa!==null&&(xa.status="fulfilled");var t=zl;zl=null,wa=0,xa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function OT(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ig=K.S;K.S=function(t,i){zy=kt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&DT(t,i),ig!==null&&ig(t,i)};var Ds=M(null);function df(){var t=Ds.current;return t!==null?t:We.pooledCache}function ju(t,i){i===null?se(Ds,Ds.current):se(Ds,i.pool)}function rg(){var t=df();return t===null?null:{parent:_t._currentValue,pool:t}}var Ra=Error(s(460)),mf=Error(s(474)),Pu=Error(s(542)),ku={then:function(){}};function sg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ag(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ot,Ot),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,og(t),t;default:if(typeof i.status=="string")i.then(Ot,Ot);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,og(t),t}throw Vs=i,Ra}}function Os(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vs=a,Ra):a}}var Vs=null;function lg(){if(Vs===null)throw Error(s(459));var t=Vs;return Vs=null,t}function og(t){if(t===Ra||t===Pu)throw Error(s(483))}var Ca=null,Bl=0;function Uu(t){var i=Bl;return Bl+=1,Ca===null&&(Ca=[]),ag(Ca,t,i)}function ql(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function zu(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ug(t){function i(P,O){if(t){var B=P.deletions;B===null?(P.deletions=[O],P.flags|=16):B.push(O)}}function a(P,O){if(!t)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function o(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Mi(P,O),P.index=0,P.sibling=null,P}function d(P,O,B){return P.index=B,t?(B=P.alternate,B!==null?(B=B.index,B<O?(P.flags|=67108866,O):B):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,O,B,Z){return O===null||O.tag!==6?(O=tf(B,P.mode,Z),O.return=P,O):(O=h(O,B),O.return=P,O)}function C(P,O,B,Z){var pe=B.type;return pe===Q?X(P,O,B.props.children,Z,B.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&Os(pe)===O.type)?(O=h(O,B.props),ql(O,B),O.return=P,O):(O=Ou(B.type,B.key,B.props,null,P.mode,Z),ql(O,B),O.return=P,O)}function q(P,O,B,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=nf(B,P.mode,Z),O.return=P,O):(O=h(O,B.children||[]),O.return=P,O)}function X(P,O,B,Z,pe){return O===null||O.tag!==7?(O=Rs(B,P.mode,Z,pe),O.return=P,O):(O=h(O,B),O.return=P,O)}function ee(P,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=tf(""+O,P.mode,B),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case D:return B=Ou(O.type,O.key,O.props,null,P.mode,B),ql(B,O),B.return=P,B;case L:return O=nf(O,P.mode,B),O.return=P,O;case x:return O=Os(O),ee(P,O,B)}if(xt(O)||k(O))return O=Rs(O,P.mode,B,null),O.return=P,O;if(typeof O.then=="function")return ee(P,Uu(O),B);if(O.$$typeof===ie)return ee(P,Lu(P,O),B);zu(P,O)}return null}function H(P,O,B,Z){var pe=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:T(P,O,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case D:return B.key===pe?C(P,O,B,Z):null;case L:return B.key===pe?q(P,O,B,Z):null;case x:return B=Os(B),H(P,O,B,Z)}if(xt(B)||k(B))return pe!==null?null:X(P,O,B,Z,null);if(typeof B.then=="function")return H(P,O,Uu(B),Z);if(B.$$typeof===ie)return H(P,O,Lu(P,B),Z);zu(P,B)}return null}function G(P,O,B,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return P=P.get(B)||null,T(O,P,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case D:return P=P.get(Z.key===null?B:Z.key)||null,C(O,P,Z,pe);case L:return P=P.get(Z.key===null?B:Z.key)||null,q(O,P,Z,pe);case x:return Z=Os(Z),G(P,O,B,Z,pe)}if(xt(Z)||k(Z))return P=P.get(B)||null,X(O,P,Z,pe,null);if(typeof Z.then=="function")return G(P,O,B,Uu(Z),pe);if(Z.$$typeof===ie)return G(P,O,B,Lu(O,Z),pe);zu(O,Z)}return null}function ce(P,O,B,Z){for(var pe=null,qe=null,fe=O,we=O=0,Oe=null;fe!==null&&we<B.length;we++){fe.index>we?(Oe=fe,fe=null):Oe=fe.sibling;var He=H(P,fe,B[we],Z);if(He===null){fe===null&&(fe=Oe);break}t&&fe&&He.alternate===null&&i(P,fe),O=d(He,O,we),qe===null?pe=He:qe.sibling=He,qe=He,fe=Oe}if(we===B.length)return a(P,fe),Pe&&Li(P,we),pe;if(fe===null){for(;we<B.length;we++)fe=ee(P,B[we],Z),fe!==null&&(O=d(fe,O,we),qe===null?pe=fe:qe.sibling=fe,qe=fe);return Pe&&Li(P,we),pe}for(fe=o(fe);we<B.length;we++)Oe=G(fe,P,we,B[we],Z),Oe!==null&&(t&&Oe.alternate!==null&&fe.delete(Oe.key===null?we:Oe.key),O=d(Oe,O,we),qe===null?pe=Oe:qe.sibling=Oe,qe=Oe);return t&&fe.forEach(function(Gr){return i(P,Gr)}),Pe&&Li(P,we),pe}function ve(P,O,B,Z){if(B==null)throw Error(s(151));for(var pe=null,qe=null,fe=O,we=O=0,Oe=null,He=B.next();fe!==null&&!He.done;we++,He=B.next()){fe.index>we?(Oe=fe,fe=null):Oe=fe.sibling;var Gr=H(P,fe,He.value,Z);if(Gr===null){fe===null&&(fe=Oe);break}t&&fe&&Gr.alternate===null&&i(P,fe),O=d(Gr,O,we),qe===null?pe=Gr:qe.sibling=Gr,qe=Gr,fe=Oe}if(He.done)return a(P,fe),Pe&&Li(P,we),pe;if(fe===null){for(;!He.done;we++,He=B.next())He=ee(P,He.value,Z),He!==null&&(O=d(He,O,we),qe===null?pe=He:qe.sibling=He,qe=He);return Pe&&Li(P,we),pe}for(fe=o(fe);!He.done;we++,He=B.next())He=G(fe,P,we,He.value,Z),He!==null&&(t&&He.alternate!==null&&fe.delete(He.key===null?we:He.key),O=d(He,O,we),qe===null?pe=He:qe.sibling=He,qe=He);return t&&fe.forEach(function(HS){return i(P,HS)}),Pe&&Li(P,we),pe}function Ze(P,O,B,Z){if(typeof B=="object"&&B!==null&&B.type===Q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case D:e:{for(var pe=B.key;O!==null;){if(O.key===pe){if(pe=B.type,pe===Q){if(O.tag===7){a(P,O.sibling),Z=h(O,B.props.children),Z.return=P,P=Z;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&Os(pe)===O.type){a(P,O.sibling),Z=h(O,B.props),ql(Z,B),Z.return=P,P=Z;break e}a(P,O);break}else i(P,O);O=O.sibling}B.type===Q?(Z=Rs(B.props.children,P.mode,Z,B.key),Z.return=P,P=Z):(Z=Ou(B.type,B.key,B.props,null,P.mode,Z),ql(Z,B),Z.return=P,P=Z)}return v(P);case L:e:{for(pe=B.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(P,O.sibling),Z=h(O,B.children||[]),Z.return=P,P=Z;break e}else{a(P,O);break}else i(P,O);O=O.sibling}Z=nf(B,P.mode,Z),Z.return=P,P=Z}return v(P);case x:return B=Os(B),Ze(P,O,B,Z)}if(xt(B))return ce(P,O,B,Z);if(k(B)){if(pe=k(B),typeof pe!="function")throw Error(s(150));return B=pe.call(B),ve(P,O,B,Z)}if(typeof B.then=="function")return Ze(P,O,Uu(B),Z);if(B.$$typeof===ie)return Ze(P,O,Lu(P,B),Z);zu(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(P,O.sibling),Z=h(O,B),Z.return=P,P=Z):(a(P,O),Z=tf(B,P.mode,Z),Z.return=P,P=Z),v(P)):a(P,O)}return function(P,O,B,Z){try{Bl=0;var pe=Ze(P,O,B,Z);return Ca=null,pe}catch(fe){if(fe===Ra||fe===Pu)throw fe;var qe=bn(29,fe,null,P.mode);return qe.lanes=Z,qe.return=P,qe}finally{}}}var Ms=ug(!0),cg=ug(!1),Cr=!1;function pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Nr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Fe&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Du(t),Yp(t,null,a),i}return Iu(t,o,i,a),Du(t)}function Hl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,or(t,a)}}function yf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var vf=!1;function Fl(){if(vf){var t=xa;if(t!==null)throw t}}function Gl(t,i,a,o){vf=!1;var h=t.updateQueue;Cr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,q=C.next;C.next=null,v===null?d=q:v.next=q,v=C;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=q:T.next=q,X.lastBaseUpdate=C))}if(d!==null){var ee=h.baseState;v=0,X=q=C=null,T=d;do{var H=T.lane&-536870913,G=H!==T.lane;if(G?(De&H)===H:(o&H)===H){H!==0&&H===wa&&(vf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,ve=T;H=i;var Ze=a;switch(ve.tag){case 1:if(ce=ve.payload,typeof ce=="function"){ee=ce.call(Ze,ee,H);break e}ee=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ve.payload,H=typeof ce=="function"?ce.call(Ze,ee,H):ce,H==null)break e;ee=A({},ee,H);break e;case 2:Cr=!0}}H=T.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[H]:G.push(H))}else G={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(q=X=G,C=ee):X=X.next=G,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);X===null&&(C=ee),h.baseState=C,h.firstBaseUpdate=q,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Lr|=v,t.lanes=v,t.memoizedState=ee}}function hg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function fg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)hg(a[t],i)}var Na=M(null),Bu=M(0);function dg(t,i){t=Qi,se(Bu,t),se(Na,i),Qi=t|i.baseLanes}function _f(){se(Bu,Qi),se(Na,Na.current)}function Ef(){Qi=Bu.current,J(Na),J(Bu)}var Tn=M(null),Pn=null;function Dr(t){var i=t.alternate;se(mt,mt.current&1),se(Tn,t),Pn===null&&(i===null||Na.current!==null||i.memoizedState!==null)&&(Pn=t)}function bf(t){se(mt,mt.current),se(Tn,t),Pn===null&&(Pn=t)}function mg(t){t.tag===22?(se(mt,mt.current),se(Tn,t),Pn===null&&(Pn=t)):Or()}function Or(){se(mt,mt.current),se(Tn,Tn.current)}function Sn(t){J(Tn),Pn===t&&(Pn=null),J(mt)}var mt=M(0);function qu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rd(a)||Cd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ki=0,Ae=null,$e=null,Et=null,Hu=!1,Ia=!1,Ls=!1,Fu=0,Ql=0,Da=null,VT=0;function ht(){throw Error(s(321))}function Tf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!En(t[a],i[a]))return!1;return!0}function Sf(t,i,a,o,h,d){return ki=d,Ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?Jg:kf,Ls=!1,d=a(o,h),Ls=!1,Ia&&(d=gg(i,a,o,h)),pg(t),d}function pg(t){K.H=Xl;var i=$e!==null&&$e.next!==null;if(ki=0,Et=$e=Ae=null,Hu=!1,Ql=0,Da=null,i)throw Error(s(300));t===null||bt||(t=t.dependencies,t!==null&&Mu(t)&&(bt=!0))}function gg(t,i,a,o){Ae=t;var h=0;do{if(Ia&&(Da=null),Ql=0,Ia=!1,25<=h)throw Error(s(301));if(h+=1,Et=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Zg,d=i(a,o)}while(Ia);return d}function MT(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?Yl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ae.flags|=1024),i}function Af(){var t=Fu!==0;return Fu=0,t}function wf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function xf(t){if(Hu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Hu=!1}ki=0,Et=$e=Ae=null,Ia=!1,Ql=Fu=0,Da=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ae.memoizedState=Et=t:Et=Et.next=t,Et}function pt(){if($e===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=Et===null?Ae.memoizedState:Et.next;if(i!==null)Et=i,$e=t;else{if(t===null)throw Ae.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Et===null?Ae.memoizedState=Et=t:Et=Et.next=t}return Et}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(t){var i=Ql;return Ql+=1,Da===null&&(Da=[]),t=ag(Da,t,i),i=Ae,(Et===null?i.memoizedState:Et.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Jg:kf),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Yl(t);if(t.$$typeof===ie)return qt(t)}throw Error(s(438,String(t)))}function Rf(t){var i=null,a=Ae.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ae.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Gu(),Ae.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=V;return i.index++,a}function Ui(t,i){return typeof i=="function"?i(t):i}function Yu(t){var i=pt();return Cf(i,$e,t)}function Cf(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,C=null,q=i,X=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(De&ee)===ee:(ki&ee)===ee){var H=q.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===wa&&(X=!0);else if((ki&H)===H){q=q.next,H===wa&&(X=!0);continue}else ee={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(T=C=ee,v=d):C=C.next=ee,Ae.lanes|=H,Lr|=H;ee=q.action,Ls&&a(d,ee),d=q.hasEagerState?q.eagerState:a(d,ee)}else H={lane:ee,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(T=C=H,v=d):C=C.next=H,Ae.lanes|=ee,Lr|=ee;q=q.next}while(q!==null&&q!==i);if(C===null?v=d:C.next=T,!En(d,t.memoizedState)&&(bt=!0,X&&(a=xa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Nf(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);En(d,i.memoizedState)||(bt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function yg(t,i,a){var o=Ae,h=pt(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!En(($e||h).memoizedState,a);if(v&&(h.memoizedState=a,bt=!0),h=h.queue,Of(Eg.bind(null,o,h,t),[t]),h.getSnapshot!==i||v||Et!==null&&Et.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},_g.bind(null,o,h,a,i),null),We===null)throw Error(s(349));d||(ki&127)!==0||vg(o,i,a)}return a}function vg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ae.updateQueue,i===null?(i=Gu(),Ae.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function _g(t,i,a,o){i.value=a,i.getSnapshot=o,bg(i)&&Tg(t)}function Eg(t,i,a){return a(function(){bg(i)&&Tg(t)})}function bg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!En(t,a)}catch{return!0}}function Tg(t){var i=xs(t,2);i!==null&&fn(i,t,2)}function If(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Ls){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},i}function Sg(t,i,a,o){return t.baseState=a,Cf(t,$e,typeof o=="function"?o:Ui)}function LT(t,i,a,o,h){if($u(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Ag(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ag(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,o),C=K.S;C!==null&&C(v,T),wg(t,i,T)}catch(q){Df(t,i,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),K.T=d}}else try{d=a(h,o),wg(t,i,d)}catch(q){Df(t,i,q)}}function wg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){xg(t,i,o)},function(o){return Df(t,i,o)}):xg(t,i,a)}function xg(t,i,a){i.status="fulfilled",i.value=a,Rg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ag(t,a)))}function Df(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Rg(i),i=i.next;while(i!==o)}t.action=null}function Rg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Cg(t,i){return i}function Ng(t,i){if(Pe){var a=We.formState;if(a!==null){e:{var o=Ae;if(Pe){if(nt){t:{for(var h=nt,d=jn;h.nodeType!==8;){if(!d){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){nt=kn(h.nextSibling),o=h.data==="F!";break e}}xr(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cg,lastRenderedState:i},a.queue=o,a=Kg.bind(null,Ae,o),o.dispatch=a,o=If(!1),d=Pf.bind(null,Ae,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=LT.bind(null,Ae,h,d,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function Ig(t){var i=pt();return Dg(i,$e,t)}function Dg(t,i,a){if(i=Cf(t,i,Cg)[0],t=Yu(Ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Yl(i)}catch(v){throw v===Ra?Pu:v}else o=i;i=pt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ae.flags|=2048,Oa(9,{destroy:void 0},jT.bind(null,h,a),null)),[o,d,t]}function jT(t,i){t.action=i}function Og(t){var i=pt(),a=$e;if(a!==null)return Dg(i,a,t);pt(),i=i.memoizedState,a=pt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Oa(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Ae.updateQueue,i===null&&(i=Gu(),Ae.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Vg(){return pt().memoizedState}function Ku(t,i,a,o){var h=sn();Ae.flags|=t,h.memoizedState=Oa(1|i,{destroy:void 0},a,o===void 0?null:o)}function Xu(t,i,a,o){var h=pt();o=o===void 0?null:o;var d=h.memoizedState.inst;$e!==null&&o!==null&&Tf(o,$e.memoizedState.deps)?h.memoizedState=Oa(i,d,a,o):(Ae.flags|=t,h.memoizedState=Oa(1|i,d,a,o))}function Mg(t,i){Ku(8390656,8,t,i)}function Of(t,i){Xu(2048,8,t,i)}function PT(t){Ae.flags|=4;var i=Ae.updateQueue;if(i===null)i=Gu(),Ae.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Lg(t){var i=pt().memoizedState;return PT({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function jg(t,i){return Xu(4,2,t,i)}function Pg(t,i){return Xu(4,4,t,i)}function kg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ug(t,i,a){a=a!=null?a.concat([t]):null,Xu(4,4,kg.bind(null,i,t),a)}function Vf(){}function zg(t,i){var a=pt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Tf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Bg(t,i){var a=pt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Tf(i,o[1]))return o[0];if(o=t(),Ls){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[o,i],o}function Mf(t,i,a){return a===void 0||(ki&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=qy(),Ae.lanes|=t,Lr|=t,a)}function qg(t,i,a,o){return En(a,i)?a:Na.current!==null?(t=Mf(t,a,o),En(t,i)||(bt=!0),t):(ki&42)===0||(ki&1073741824)!==0&&(De&261930)===0?(bt=!0,t.memoizedState=a):(t=qy(),Ae.lanes|=t,Lr|=t,i)}function Hg(t,i,a,o,h){var d=le.p;le.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,Pf(t,!1,i,a);try{var C=h(),q=K.S;if(q!==null&&q(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=OT(C,o);Kl(t,i,X,xn(t))}else Kl(t,i,o,xn(t))}catch(ee){Kl(t,i,{then:function(){},status:"rejected",reason:ee},xn())}finally{le.p=d,v!==null&&T.types!==null&&(v.types=T.types),K.T=v}}function kT(){}function Lf(t,i,a,o){if(t.tag!==5)throw Error(s(476));var h=Fg(t).queue;Hg(t,h,i,de,a===null?kT:function(){return Gg(t),a(o)})}function Fg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Gg(t){var i=Fg(t);i.next===null&&(i=t.alternate.memoizedState),Kl(t,i.next.queue,{},xn())}function jf(){return qt(ho)}function Qg(){return pt().memoizedState}function Yg(){return pt().memoizedState}function UT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=xn();t=Nr(a);var o=Ir(i,t,a);o!==null&&(fn(o,i,a),Hl(o,i,a)),i={cache:hf()},t.payload=i;return}i=i.return}}function zT(t,i,a){var o=xn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$u(t)?Xg(i,a):(a=Wh(t,i,a,o),a!==null&&(fn(a,t,o),$g(a,i,o)))}function Kg(t,i,a){var o=xn();Kl(t,i,a,o)}function Kl(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($u(t))Xg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,En(T,v))return Iu(t,i,h,0),We===null&&Nu(),!1}catch{}finally{}if(a=Wh(t,i,h,o),a!==null)return fn(a,t,o),$g(a,i,o),!0}return!1}function Pf(t,i,a,o){if(o={lane:2,revertLane:pd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(i)throw Error(s(479))}else i=Wh(t,a,o,2),i!==null&&fn(i,t,2)}function $u(t){var i=t.alternate;return t===Ae||i!==null&&i===Ae}function Xg(t,i){Ia=Hu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function $g(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,or(t,a)}}var Xl={readContext:qt,use:Qu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};Xl.useEffectEvent=ht;var Jg={readContext:qt,use:Qu,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:qt,useEffect:Mg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ku(4194308,4,kg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ku(4194308,4,t,i)},useInsertionEffect:function(t,i){Ku(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var o=t();if(Ls){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=sn();if(a!==void 0){var h=a(i);if(Ls){Cn(!0);try{a(i)}finally{Cn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=zT.bind(null,Ae,t),[o.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=If(t);var i=t.queue,a=Kg.bind(null,Ae,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(t,i){var a=sn();return Mf(a,t,i)},useTransition:function(){var t=If(!1);return t=Hg.bind(null,Ae,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Ae,h=sn();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),We===null)throw Error(s(349));(De&127)!==0||vg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Mg(Eg.bind(null,o,d,t),[t]),o.flags|=2048,Oa(9,{destroy:void 0},_g.bind(null,o,d,a,i),null),a},useId:function(){var t=sn(),i=We.identifierPrefix;if(Pe){var a=ui,o=oi;a=(o&~(1<<32-Wt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Fu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=VT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:jf,useFormState:Ng,useActionState:Ng,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Pf.bind(null,Ae,!0,a),a.dispatch=i,[t,i]},useMemoCache:Rf,useCacheRefresh:function(){return sn().memoizedState=UT.bind(null,Ae)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},kf={readContext:qt,use:Qu,useCallback:zg,useContext:qt,useEffect:Of,useImperativeHandle:Ug,useInsertionEffect:jg,useLayoutEffect:Pg,useMemo:Bg,useReducer:Yu,useRef:Vg,useState:function(){return Yu(Ui)},useDebugValue:Vf,useDeferredValue:function(t,i){var a=pt();return qg(a,$e.memoizedState,t,i)},useTransition:function(){var t=Yu(Ui)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Yl(t),i]},useSyncExternalStore:yg,useId:Qg,useHostTransitionStatus:jf,useFormState:Ig,useActionState:Ig,useOptimistic:function(t,i){var a=pt();return Sg(a,$e,t,i)},useMemoCache:Rf,useCacheRefresh:Yg};kf.useEffectEvent=Lg;var Zg={readContext:qt,use:Qu,useCallback:zg,useContext:qt,useEffect:Of,useImperativeHandle:Ug,useInsertionEffect:jg,useLayoutEffect:Pg,useMemo:Bg,useReducer:Nf,useRef:Vg,useState:function(){return Nf(Ui)},useDebugValue:Vf,useDeferredValue:function(t,i){var a=pt();return $e===null?Mf(a,t,i):qg(a,$e.memoizedState,t,i)},useTransition:function(){var t=Nf(Ui)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Yl(t),i]},useSyncExternalStore:yg,useId:Qg,useHostTransitionStatus:jf,useFormState:Og,useActionState:Og,useOptimistic:function(t,i){var a=pt();return $e!==null?Sg(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Yg};Zg.useEffectEvent=Lg;function Uf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var zf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=xn(),h=Nr(o);h.payload=i,a!=null&&(h.callback=a),i=Ir(t,h,o),i!==null&&(fn(i,t,o),Hl(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=xn(),h=Nr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ir(t,h,o),i!==null&&(fn(i,t,o),Hl(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=xn(),o=Nr(a);o.tag=2,i!=null&&(o.callback=i),i=Ir(t,o,a),i!==null&&(fn(i,t,a),Hl(i,t,a))}};function Wg(t,i,a,o,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Ll(a,o)||!Ll(h,d):!0}function ey(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&zf.enqueueReplaceState(i,i.state,null)}function js(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ty(t){Cu(t)}function ny(t){console.error(t)}function iy(t){Cu(t)}function Ju(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function ry(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(t,i,a){return a=Nr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ju(t,i)},a}function sy(t){return t=Nr(t),t.tag=3,t}function ay(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){ry(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ry(i,a,o),typeof h!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function BT(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Aa(i,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?uc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===ku?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),fd(t,o,h)),!1;case 22:return a.flags|=65536,o===ku?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),fd(t,o,h)),!1}throw Error(s(435,a.tag))}return fd(t,o,h),uc(),!1}if(Pe)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==af&&(t=Error(s(422),{cause:o}),kl(Vn(t,a)))):(o!==af&&(i=Error(s(423),{cause:o}),kl(Vn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Vn(o,a),h=Bf(t.stateNode,o,h),yf(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:o});if(d=Vn(d,a),io===null?io=[d]:io.push(d),ft!==4&&(ft=2),i===null)return!0;o=Vn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Bf(a.stateNode,o,t),yf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(jr===null||!jr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=sy(h),ay(h,t,a,o),yf(a,h),!1}a=a.return}while(a!==null);return!1}var qf=Error(s(461)),bt=!1;function Ht(t,i,a,o){i.child=t===null?cg(i,null,a,o):Ms(i,t.child,a,o)}function ly(t,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return Is(i),o=Sf(t,i,a,v,d,h),T=Af(),t!==null&&!bt?(wf(t,i,h),zi(t,i,h)):(Pe&&T&&rf(i),i.flags|=1,Ht(t,i,o,h),i.child)}function oy(t,i,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,uy(t,i,d,o,h)):(t=Ou(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!$f(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ll,a(v,o)&&t.ref===i.ref)return zi(t,i,h)}return i.flags|=1,t=Mi(d,o),t.ref=i.ref,t.return=i,i.child=t}function uy(t,i,a,o,h){if(t!==null){var d=t.memoizedProps;if(Ll(d,o)&&t.ref===i.ref)if(bt=!1,i.pendingProps=o=d,$f(t,h))(t.flags&131072)!==0&&(bt=!0);else return i.lanes=t.lanes,zi(t,i,h)}return Hf(t,i,a,o,h)}function cy(t,i,a,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return hy(t,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(i,d!==null?d.cachePool:null),d!==null?dg(i,d):_f(),mg(i);else return o=i.lanes=536870912,hy(t,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(ju(i,d.cachePool),dg(i,d),Or(),i.memoizedState=null):(t!==null&&ju(i,null),_f(),Or());return Ht(t,i,h,a),i.child}function $l(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function hy(t,i,a,o,h){var d=df();return d=d===null?null:{parent:_t._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&ju(i,null),_f(),mg(i),t!==null&&Aa(t,i,o,!0),i.childLanes=h,null}function Zu(t,i){return i=ec({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function fy(t,i,a){return Ms(i,t.child,null,a),t=Zu(i,i.pendingProps),t.flags|=2,Sn(i),i.memoizedState=null,t}function qT(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(o.mode==="hidden")return t=Zu(i,o),i.lanes=536870912,$l(null,t);if(bf(i),(t=nt)?(t=Av(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ar!==null?{id:oi,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},a=Xp(t),a.return=i,i.child=a,Bt=i,nt=null)):t=null,t===null)throw xr(i);return i.lanes=536870912,null}return Zu(i,o)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(bf(i),h)if(i.flags&256)i.flags&=-257,i=fy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(bt||Aa(t,i,a,!1),h=(a&t.childLanes)!==0,bt||h){if(o=We,o!==null&&(v=ur(o,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,xs(t,v),fn(o,t,v),qf;uc(),i=fy(t,i,a)}else t=d.treeContext,nt=kn(v.nextSibling),Bt=i,Pe=!0,wr=null,jn=!1,t!==null&&Zp(i,t),i=Zu(i,o),i.flags|=4096;return i}return t=Mi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Wu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Hf(t,i,a,o,h){return Is(i),a=Sf(t,i,a,o,void 0,h),o=Af(),t!==null&&!bt?(wf(t,i,h),zi(t,i,h)):(Pe&&o&&rf(i),i.flags|=1,Ht(t,i,a,h),i.child)}function dy(t,i,a,o,h,d){return Is(i),i.updateQueue=null,a=gg(i,o,a,h),pg(t),o=Af(),t!==null&&!bt?(wf(t,i,d),zi(t,i,d)):(Pe&&o&&rf(i),i.flags|=1,Ht(t,i,a,d),i.child)}function my(t,i,a,o,h){if(Is(i),i.stateNode===null){var d=Ea,v=a.contextType;typeof v=="object"&&v!==null&&(d=qt(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},pf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?qt(v):Ea,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Uf(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&zf.enqueueReplaceState(d,d.state,null),Gl(i,o,d,h),Fl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,C=js(a,T);d.props=C;var q=d.context,X=a.contextType;v=Ea,typeof X=="object"&&X!==null&&(v=qt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==v)&&ey(i,d,o,v),Cr=!1;var H=i.memoizedState;d.state=H,Gl(i,o,d,h),Fl(),q=i.memoizedState,T||H!==q||Cr?(typeof ee=="function"&&(Uf(i,a,ee,o),q=i.memoizedState),(C=Cr||Wg(i,a,C,o,H,q,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=q),d.props=o,d.state=q,d.context=v,o=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,gf(t,i),v=i.memoizedProps,X=js(a,v),d.props=X,ee=i.pendingProps,H=d.context,q=a.contextType,C=Ea,typeof q=="object"&&q!==null&&(C=qt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||H!==C)&&ey(i,d,o,C),Cr=!1,H=i.memoizedState,d.state=H,Gl(i,o,d,h),Fl();var G=i.memoizedState;v!==ee||H!==G||Cr||t!==null&&t.dependencies!==null&&Mu(t.dependencies)?(typeof T=="function"&&(Uf(i,a,T,o),G=i.memoizedState),(X=Cr||Wg(i,a,X,o,H,G,C)||t!==null&&t.dependencies!==null&&Mu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,G,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=G),d.props=o,d.state=G,d.context=C,o=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,Wu(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=Ms(i,t.child,null,h),i.child=Ms(i,null,a,h)):Ht(t,i,a,h),i.memoizedState=d.state,t=i.child):t=zi(t,i,h),t}function py(t,i,a,o){return Cs(),i.flags|=256,Ht(t,i,a,o),i.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(t){return{baseLanes:t,cachePool:rg()}}function Qf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=wn),t}function gy(t,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(h?Dr(i):Or(),(t=nt)?(t=Av(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ar!==null?{id:oi,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},a=Xp(t),a.return=i,i.child=a,Bt=i,nt=null)):t=null,t===null)throw xr(i);return Cd(t)?i.lanes=32:i.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Or(),h=i.mode,T=ec({mode:"hidden",children:T},h),o=Rs(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,o=i.child,o.memoizedState=Gf(a),o.childLanes=Qf(t,v,a),i.memoizedState=Ff,$l(null,o)):(Dr(i),Yf(i,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(Dr(i),i.flags&=-257,i=Kf(t,i,a)):i.memoizedState!==null?(Or(),i.child=t.child,i.flags|=128,i=null):(Or(),T=o.fallback,h=i.mode,o=ec({mode:"visible",children:o.children},h),T=Rs(T,h,a,null),T.flags|=2,o.return=i,T.return=i,o.sibling=T,i.child=o,Ms(i,t.child,null,a),o=i.child,o.memoizedState=Gf(a),o.childLanes=Qf(t,v,a),i.memoizedState=Ff,i=$l(null,o));else if(Dr(i),Cd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,o=Error(s(419)),o.stack="",o.digest=v,kl({value:o,source:null,stack:null}),i=Kf(t,i,a)}else if(bt||Aa(t,i,a,!1),v=(a&t.childLanes)!==0,bt||v){if(v=We,v!==null&&(o=ur(v,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,xs(t,o),fn(v,t,o),qf;Rd(T)||uc(),i=Kf(t,i,a)}else Rd(T)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,nt=kn(T.nextSibling),Bt=i,Pe=!0,wr=null,jn=!1,t!==null&&Zp(i,t),i=Yf(i,o.children),i.flags|=4096);return i}return h?(Or(),T=o.fallback,h=i.mode,C=t.child,q=C.sibling,o=Mi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,q!==null?T=Mi(q,T):(T=Rs(T,h,a,null),T.flags|=2),T.return=i,o.return=i,o.sibling=T,i.child=o,$l(null,o),o=i.child,T=t.child.memoizedState,T===null?T=Gf(a):(h=T.cachePool,h!==null?(C=_t._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=rg(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Qf(t,v,a),i.memoizedState=Ff,$l(t.child,o)):(Dr(i),a=t.child,t=a.sibling,a=Mi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Yf(t,i){return i=ec({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ec(t,i){return t=bn(22,t,null,i),t.lanes=0,t}function Kf(t,i,a){return Ms(i,t.child,null,a),t=Yf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function yy(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),uf(t.return,i,a)}function Xf(t,i,a,o,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function vy(t,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var v=mt.current,T=(v&2)!==0;if(T?(v=v&1|2,i.flags|=128):v&=1,se(mt,v),Ht(t,i,o,a),o=Pe?Pl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yy(t,a,i);else if(t.tag===19)yy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&qu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Xf(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&qu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Xf(i,!0,a,null,d,o);break;case"together":Xf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Lr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Aa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Mi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Mi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function $f(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Mu(t)))}function HT(t,i,a){switch(i.tag){case 3:Pt(i,i.stateNode.containerInfo),Rr(i,_t,t.memoizedState.cache),Cs();break;case 27:case 5:Wn(i);break;case 4:Pt(i,i.stateNode.containerInfo);break;case 10:Rr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,bf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Dr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?gy(t,i,a):(Dr(i),t=zi(t,i,a),t!==null?t.sibling:null);Dr(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Aa(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return vy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(mt,mt.current),o)break;return null;case 22:return i.lanes=0,cy(t,i,a,i.pendingProps);case 24:Rr(i,_t,t.memoizedState.cache)}return zi(t,i,a)}function _y(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)bt=!0;else{if(!$f(t,a)&&(i.flags&128)===0)return bt=!1,HT(t,i,a);bt=(t.flags&131072)!==0}else bt=!1,Pe&&(i.flags&1048576)!==0&&Jp(i,Pl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Os(i.elementType),i.type=t,typeof t=="function")ef(t)?(o=js(t,o),i.tag=1,i=my(null,i,t,o,a)):(i.tag=0,i=Hf(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===me){i.tag=11,i=ly(null,i,t,o,a);break e}else if(h===I){i.tag=14,i=oy(null,i,t,o,a);break e}}throw i=Ge(t)||t,Error(s(306,i,""))}}return i;case 0:return Hf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=js(o,i.pendingProps),my(t,i,o,h,a);case 3:e:{if(Pt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,gf(t,i),Gl(i,o,null,a);var v=i.memoizedState;if(o=v.cache,Rr(i,_t,o),o!==d.cache&&cf(i,[_t],a,!0),Fl(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=py(t,i,o,a);break e}else if(o!==h){h=Vn(Error(s(424)),i),kl(h),i=py(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=kn(t.firstChild),Bt=i,Pe=!0,wr=null,jn=!0,a=cg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Cs(),o===h){i=zi(t,i,a);break e}Ht(t,i,o,a)}i=i.child}return i;case 26:return Wu(t,i),t===null?(a=Iv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,o=gc(xe.current).createElement(a),o[ut]=i,o[zt]=t,Ft(o,a,t),dt(o),i.stateNode=o):i.memoizedState=Iv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Wn(i),t===null&&Pe&&(o=i.stateNode=Rv(i.type,i.pendingProps,xe.current),Bt=i,jn=!0,h=nt,zr(i.type)?(Nd=h,nt=kn(o.firstChild)):nt=h),Ht(t,i,i.pendingProps.children,a),Wu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((h=o=nt)&&(o=_S(o,i.type,i.pendingProps,jn),o!==null?(i.stateNode=o,Bt=i,nt=kn(o.firstChild),jn=!1,h=!0):h=!1),h||xr(i)),Wn(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,Ad(h,d)?o=null:v!==null&&Ad(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Sf(t,i,MT,null,null,a),ho._currentValue=h),Wu(t,i),Ht(t,i,o,a),i.child;case 6:return t===null&&Pe&&((t=a=nt)&&(a=ES(a,i.pendingProps,jn),a!==null?(i.stateNode=a,Bt=i,nt=null,t=!0):t=!1),t||xr(i)),null;case 13:return gy(t,i,a);case 4:return Pt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Ms(i,null,o,a):Ht(t,i,o,a),i.child;case 11:return ly(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Rr(i,i.type,o.value),Ht(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Is(i),h=qt(h),o=o(h),i.flags|=1,Ht(t,i,o,a),i.child;case 14:return oy(t,i,i.type,i.pendingProps,a);case 15:return uy(t,i,i.type,i.pendingProps,a);case 19:return vy(t,i,a);case 31:return qT(t,i,a);case 22:return cy(t,i,a,i.pendingProps);case 24:return Is(i),o=qt(_t),t===null?(h=df(),h===null&&(h=We,d=hf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},pf(i),Rr(i,_t,h)):((t.lanes&a)!==0&&(gf(t,i),Gl(i,null,null,a),Fl()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Rr(i,_t,o)):(o=d.cache,Rr(i,_t,o),o!==h.cache&&cf(i,[_t],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Bi(t){t.flags|=4}function Jf(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Qy())t.flags|=8192;else throw Vs=ku,mf}else t.flags&=-16777217}function Ey(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Lv(i))if(Qy())t.flags|=8192;else throw Vs=ku,mf}function tc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?yl():536870912,t.lanes|=i,ja|=i)}function Jl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function FT(t,i,a){var o=i.pendingProps;switch(sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Pi(_t),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Sa(i)?Bi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lf())),it(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Bi(i),d!==null?(it(i),Ey(i,d)):(it(i),Jf(i,h,null,o,a))):d?d!==t.memoizedState?(Bi(i),it(i),Ey(i,d)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Bi(i),it(i),Jf(i,h,t,o,a)),null;case 27:if(Ti(i),a=xe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Bi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=he.current,Sa(i)?Wp(i):(t=Rv(h,o,a),i.stateNode=t,Bi(i))}return it(i),null;case 5:if(Ti(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Bi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(d=he.current,Sa(i))Wp(i);else{var v=gc(xe.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?v.createElement(h,{is:o.is}):v.createElement(h)}}d[ut]=i,d[zt]=o;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Ft(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Bi(i)}}return it(i),Jf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Bi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,Sa(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[ut]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||gv(t.nodeValue,a)),t||xr(i,!0)}else t=gc(t).createTextNode(o),t[ut]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Sa(i),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ut]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Sn(i),i):(Sn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return it(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Sa(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ut]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Sn(i),i):(Sn(i),null)}return Sn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),tc(i,i.updateQueue),it(i),null);case 4:return at(),t===null&&_d(i.stateNode.containerInfo),it(i),null;case 10:return Pi(i.type),it(i),null;case 19:if(J(mt),o=i.memoizedState,o===null)return it(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)Jl(o,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=qu(t),d!==null){for(i.flags|=128,Jl(o,!1),t=d.updateQueue,i.updateQueue=t,tc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Kp(a,t),a=a.sibling;return se(mt,mt.current&1|2),Pe&&Li(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&kt()>ac&&(i.flags|=128,h=!0,Jl(o,!1),i.lanes=4194304)}else{if(!h)if(t=qu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,tc(i,t),Jl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Pe)return it(i),null}else 2*kt()-o.renderingStartTime>ac&&a!==536870912&&(i.flags|=128,h=!0,Jl(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(t=o.last,t!==null?t.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=kt(),t.sibling=null,a=mt.current,se(mt,h?a&1|2:a&1),Pe&&Li(i,o.treeForkCount),t):(it(i),null);case 22:case 23:return Sn(i),Ef(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&tc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&J(Ds),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Pi(_t),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function GT(t,i){switch(sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Pi(_t),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ti(i),null;case 31:if(i.memoizedState!==null){if(Sn(i),i.alternate===null)throw Error(s(340));Cs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Sn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Cs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(mt),null;case 4:return at(),null;case 10:return Pi(i.type),null;case 22:case 23:return Sn(i),Ef(),t!==null&&J(Ds),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Pi(_t),null;case 25:return null;default:return null}}function by(t,i){switch(sf(i),i.tag){case 3:Pi(_t),at();break;case 26:case 27:case 5:Ti(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Sn(i);break;case 13:Sn(i);break;case 19:J(mt);break;case 10:Pi(i.type);break;case 22:case 23:Sn(i),Ef(),t!==null&&J(Ds);break;case 24:Pi(_t)}}function Zl(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(T){Xe(i,i.return,T)}}function Vr(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var C=a,q=T;try{q()}catch(X){Xe(h,C,X)}}}o=o.next}while(o!==d)}}catch(X){Xe(i,i.return,X)}}function Ty(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{fg(i,a)}catch(o){Xe(t,t.return,o)}}}function Sy(t,i,a){a.props=js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Xe(t,i,o)}}function Wl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Xe(t,i,h)}}function ci(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,i,h)}else a.current=null}function Ay(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function Zf(t,i,a){try{var o=t.stateNode;dS(o,t.type,a,i),o[zt]=i}catch(h){Xe(t,t.return,h)}}function wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zr(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ed(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ot));else if(o!==4&&(o===27&&zr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(ed(t,i,a),t=t.sibling;t!==null;)ed(t,i,a),t=t.sibling}function nc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&zr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(nc(t,i,a),t=t.sibling;t!==null;)nc(t,i,a),t=t.sibling}function xy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,o,a),i[ut]=t,i[zt]=a}catch(d){Xe(t,t.return,d)}}var qi=!1,Tt=!1,td=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function QT(t,i){if(t=t.containerInfo,Td=Sc,t=Up(t),Yh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,C=-1,q=0,X=0,ee=t,H=null;t:for(;;){for(var G;ee!==a||h!==0&&ee.nodeType!==3||(T=v+h),ee!==d||o!==0&&ee.nodeType!==3||(C=v+o),ee.nodeType===3&&(v+=ee.nodeValue.length),(G=ee.firstChild)!==null;)H=ee,ee=G;for(;;){if(ee===t)break t;if(H===a&&++q===h&&(T=v),H===d&&++X===o&&(C=v),(G=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=G}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sd={focusedElem:t,selectionRange:a},Sc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var ce=js(a.type,h);t=o.getSnapshotBeforeUpdate(ce,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Xe(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)xd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}}function Cy(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(t,a),o&4&&Zl(5,a);break;case 1:if(Fi(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Xe(a,a.return,v)}else{var h=js(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Xe(a,a.return,v)}}o&64&&Ty(a),o&512&&Wl(a,a.return);break;case 3:if(Fi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{fg(t,i)}catch(v){Xe(a,a.return,v)}}break;case 27:i===null&&o&4&&xy(a);case 26:case 5:Fi(t,a),i===null&&o&4&&Ay(a),o&512&&Wl(a,a.return);break;case 12:Fi(t,a);break;case 31:Fi(t,a),o&4&&Dy(t,a);break;case 13:Fi(t,a),o&4&&Oy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=tS.bind(null,a),bS(t,a))));break;case 22:if(o=a.memoizedState!==null||qi,!o){i=i!==null&&i.memoizedState!==null||Tt,h=qi;var d=Tt;qi=o,(Tt=i)&&!d?Gi(t,a,(a.subtreeFlags&8772)!==0):Fi(t,a),qi=h,Tt=d}break;case 30:break;default:Fi(t,a)}}function Ny(t){var i=t.alternate;i!==null&&(t.alternate=null,Ny(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ms(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,on=!1;function Hi(t,i,a){for(a=a.child;a!==null;)Iy(t,i,a),a=a.sibling}function Iy(t,i,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(rr,a)}catch{}switch(a.tag){case 26:Tt||ci(a,i),Hi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Tt||ci(a,i);var o=st,h=on;zr(a.type)&&(st=a.stateNode,on=!1),Hi(t,i,a),oo(a.stateNode),st=o,on=h;break;case 5:Tt||ci(a,i);case 6:if(o=st,h=on,st=null,Hi(t,i,a),st=o,on=h,st!==null)if(on)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{st.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:st!==null&&(on?(t=st,Tv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fa(t)):Tv(st,a.stateNode));break;case 4:o=st,h=on,st=a.stateNode.containerInfo,on=!0,Hi(t,i,a),st=o,on=h;break;case 0:case 11:case 14:case 15:Vr(2,a,i),Tt||Vr(4,a,i),Hi(t,i,a);break;case 1:Tt||(ci(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Sy(a,i,o)),Hi(t,i,a);break;case 21:Hi(t,i,a);break;case 22:Tt=(o=Tt)||a.memoizedState!==null,Hi(t,i,a),Tt=o;break;default:Hi(t,i,a)}}function Dy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Fa(t)}catch(a){Xe(i,i.return,a)}}}function Oy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fa(t)}catch(a){Xe(i,i.return,a)}}function YT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ry),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ry),i;default:throw Error(s(435,t.tag))}}function ic(t,i){var a=YT(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=nS.bind(null,t,o);o.then(h,h)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(zr(T.type)){st=T.stateNode,on=!1;break e}break;case 5:st=T.stateNode,on=!1;break e;case 3:case 4:st=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(st===null)throw Error(s(160));Iy(d,v,h),st=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Vy(i,t),i=i.sibling}var Yn=null;function Vy(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),o&4&&(Vr(3,t,t.return),Zl(3,t),Vr(5,t,t.return));break;case 1:un(i,t),cn(t),o&512&&(Tt||a===null||ci(a,a.return)),o&64&&qi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Yn;if(un(i,t),cn(t),o&512&&(Tt||a===null||ci(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[xi]||d[ut]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,o,a),d[ut]=t,dt(d),o=d;break e;case"link":var v=Vv("link","href",h).get(o+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(o),Ft(d,o,a),h.head.appendChild(d);break;case"meta":if(v=Vv("meta","content",h).get(o+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(o),Ft(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[ut]=t,dt(d),o=d}t.stateNode=o}else Mv(h,t.type,t.stateNode);else t.stateNode=Ov(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Mv(h,t.type,t.stateNode):Ov(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),o&512&&(Tt||a===null||ci(a,a.return)),a!==null&&o&4&&Zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),o&512&&(Tt||a===null||ci(a,a.return)),t.flags&32){h=t.stateNode;try{Dn(h,"")}catch(ce){Xe(t,t.return,ce)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Zf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(td=!0);break;case 6:if(un(i,t),cn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ce){Xe(t,t.return,ce)}}break;case 3:if(_c=null,h=Yn,Yn=yc(i.containerInfo),un(i,t),Yn=h,cn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Fa(i.containerInfo)}catch(ce){Xe(t,t.return,ce)}td&&(td=!1,My(t));break;case 4:o=Yn,Yn=yc(t.stateNode.containerInfo),un(i,t),cn(t),Yn=o;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ic(t,o)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sc=kt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ic(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,q=qi,X=Tt;if(qi=q||h,Tt=X||C,un(i,t),Tt=X,qi=q,cn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||qi||Tt||Ps(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var ee=C.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ce){Xe(C,C.return,ce)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){Xe(C,C.return,ce)}}}else if(i.tag===18){if(a===null){C=i;try{var G=C.stateNode;h?Sv(G,!0):Sv(C.stateNode,!1)}catch(ce){Xe(C,C.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ic(t,a))));break;case 19:un(i,t),cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ic(t,o)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(wy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Wf(t);nc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Dn(v,""),a.flags&=-33);var T=Wf(t);nc(t,T,v);break;case 3:case 4:var C=a.stateNode.containerInfo,q=Wf(t);ed(t,q,C);break;default:throw Error(s(161))}}catch(X){Xe(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function My(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;My(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Fi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Cy(t,i.alternate,i),i=i.sibling}function Ps(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Vr(4,i,i.return),Ps(i);break;case 1:ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Sy(i,i.return,a),Ps(i);break;case 27:oo(i.stateNode);case 26:case 5:ci(i,i.return),Ps(i);break;case 22:i.memoizedState===null&&Ps(i);break;case 30:Ps(i);break;default:Ps(i)}t=t.sibling}}function Gi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Gi(h,d,a),Zl(4,d);break;case 1:if(Gi(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Xe(o,o.return,q)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)hg(C[h],T)}catch(q){Xe(o,o.return,q)}}a&&v&64&&Ty(d),Wl(d,d.return);break;case 27:xy(d);case 26:case 5:Gi(h,d,a),a&&o===null&&v&4&&Ay(d),Wl(d,d.return);break;case 12:Gi(h,d,a);break;case 31:Gi(h,d,a),a&&v&4&&Dy(h,d);break;case 13:Gi(h,d,a),a&&v&4&&Oy(h,d);break;case 22:d.memoizedState===null&&Gi(h,d,a),Wl(d,d.return);break;case 30:break;default:Gi(h,d,a)}i=i.sibling}}function nd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ul(a))}function id(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ul(t))}function Kn(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ly(t,i,a,o),i=i.sibling}function Ly(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Kn(t,i,a,o),h&2048&&Zl(9,i);break;case 1:Kn(t,i,a,o);break;case 3:Kn(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ul(t)));break;case 12:if(h&2048){Kn(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Xe(i,i.return,C)}}else Kn(t,i,a,o);break;case 31:Kn(t,i,a,o);break;case 13:Kn(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Kn(t,i,a,o):eo(t,i):d._visibility&2?Kn(t,i,a,o):(d._visibility|=2,Va(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&nd(v,i);break;case 24:Kn(t,i,a,o),h&2048&&id(i.alternate,i);break;default:Kn(t,i,a,o)}}function Va(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,T=a,C=o,q=v.flags;switch(v.tag){case 0:case 11:case 15:Va(d,v,T,C,h),Zl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Va(d,v,T,C,h):eo(d,v):(X._visibility|=2,Va(d,v,T,C,h)),h&&q&2048&&nd(v.alternate,v);break;case 24:Va(d,v,T,C,h),h&&q&2048&&id(v.alternate,v);break;default:Va(d,v,T,C,h)}i=i.sibling}}function eo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:eo(a,o),h&2048&&nd(o.alternate,o);break;case 24:eo(a,o),h&2048&&id(o.alternate,o);break;default:eo(a,o)}i=i.sibling}}var to=8192;function Ma(t,i,a){if(t.subtreeFlags&to)for(t=t.child;t!==null;)jy(t,i,a),t=t.sibling}function jy(t,i,a){switch(t.tag){case 26:Ma(t,i,a),t.flags&to&&t.memoizedState!==null&&VS(a,Yn,t.memoizedState,t.memoizedProps);break;case 5:Ma(t,i,a);break;case 3:case 4:var o=Yn;Yn=yc(t.stateNode.containerInfo),Ma(t,i,a),Yn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=to,to=16777216,Ma(t,i,a),to=o):Ma(t,i,a));break;default:Ma(t,i,a)}}function Py(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function no(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Lt=o,Uy(o,t)}Py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ky(t),t=t.sibling}function ky(t){switch(t.tag){case 0:case 11:case 15:no(t),t.flags&2048&&Vr(9,t,t.return);break;case 3:no(t);break;case 12:no(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,rc(t)):no(t);break;default:no(t)}}function rc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Lt=o,Uy(o,t)}Py(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Vr(8,i,i.return),rc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,rc(i));break;default:rc(i)}t=t.sibling}}function Uy(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Vr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ul(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Lt=o;else e:for(a=t;Lt!==null;){o=Lt;var h=o.sibling,d=o.return;if(Ny(o),o===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}var KT={getCacheForType:function(t){var i=qt(_t),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return qt(_t).controller.signal}},XT=typeof WeakMap=="function"?WeakMap:Map,Fe=0,We=null,Ne=null,De=0,Ke=0,An=null,Mr=!1,La=!1,rd=!1,Qi=0,ft=0,Lr=0,ks=0,sd=0,wn=0,ja=0,io=null,hn=null,ad=!1,sc=0,zy=0,ac=1/0,lc=null,jr=null,Ct=0,Pr=null,Pa=null,Yi=0,ld=0,od=null,By=null,ro=0,ud=null;function xn(){return(Fe&2)!==0&&De!==0?De&-De:K.T!==null?pd():wi()}function qy(){if(wn===0)if((De&536870912)===0||Pe){var t=ei;ei<<=1,(ei&3932160)===0&&(ei=262144),wn=t}else wn=536870912;return t=Tn.current,t!==null&&(t.flags|=32),wn}function fn(t,i,a){(t===We&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(ka(t,0),kr(t,De,wn,!1)),lr(t,a),((Fe&2)===0||t!==We)&&(t===We&&((Fe&2)===0&&(ks|=a),ft===4&&kr(t,De,wn,!1)),hi(t))}function Hy(t,i,a){if((Fe&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ar(t,i),h=o?ZT(t,i):hd(t,i,!0),d=o;do{if(h===0){La&&!o&&kr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!$T(a)){h=hd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=io;var C=T.current.memoizedState.isDehydrated;if(C&&(ka(T,v).flags|=256),v=hd(T,v,!1),v!==2){if(rd&&!C){T.errorRecoveryDisabledLanes|=d,ks|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ka(t,0),kr(t,i,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:kr(o,i,wn,!Mr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=sc+300-kt(),10<h)){if(kr(o,i,wn,!Mr),Nn(o,0,!0)!==0)break e;Yi=i,o.timeoutHandle=Ev(Fy.bind(null,o,a,hn,lc,ad,i,wn,ks,ja,Mr,d,"Throttled",-0,0),h);break e}Fy(o,a,hn,lc,ad,i,wn,ks,ja,Mr,d,null,-0,0)}}break}while(!0);hi(t)}function Fy(t,i,a,o,h,d,v,T,C,q,X,ee,H,G){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ot},jy(i,d,ee);var ce=(d&62914560)===d?sc-kt():(d&4194048)===d?zy-kt():0;if(ce=MS(ee,ce),ce!==null){Yi=d,t.cancelPendingCommit=ce(Zy.bind(null,t,i,d,a,o,h,v,T,C,X,ee,null,H,G)),kr(t,d,v,!q);return}}Zy(t,i,d,a,o,h,v,T,C)}function $T(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function kr(t,i,a,o){i&=~sd,i&=~ks,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-Wt(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&vl(t,a,i)}function oc(){return(Fe&6)===0?(so(0),!1):!0}function cd(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,ji=Ns=null,xf(t),Ca=null,Bl=0,t=Ne;for(;t!==null;)by(t.alternate,t),t=t.return;Ne=null}}function ka(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,gS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Yi=0,cd(),We=t,Ne=a=Mi(t.current,null),De=i,Ke=0,An=null,Mr=!1,La=ar(t,i),rd=!1,ja=wn=sd=ks=Lr=ft=0,hn=io=null,ad=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-Wt(o),d=1<<h;i|=t[h],o&=~d}return Qi=i,Nu(),a}function Gy(t,i){Ae=null,K.H=Xl,i===Ra||i===Pu?(i=lg(),Ke=3):i===mf?(i=lg(),Ke=4):Ke=i===qf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Ne===null&&(ft=1,Ju(t,Vn(i,t.current)))}function Qy(){var t=Tn.current;return t===null?!0:(De&4194048)===De?Pn===null:(De&62914560)===De||(De&536870912)!==0?t===Pn:!1}function Yy(){var t=K.H;return K.H=Xl,t===null?Xl:t}function Ky(){var t=K.A;return K.A=KT,t}function uc(){ft=4,Mr||(De&4194048)!==De&&Tn.current!==null||(La=!0),(Lr&134217727)===0&&(ks&134217727)===0||We===null||kr(We,De,wn,!1)}function hd(t,i,a){var o=Fe;Fe|=2;var h=Yy(),d=Ky();(We!==t||De!==i)&&(lc=null,ka(t,i)),i=!1;var v=ft;e:do try{if(Ke!==0&&Ne!==null){var T=Ne,C=An;switch(Ke){case 8:cd(),v=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var q=Ke;if(Ke=0,An=null,Ua(t,T,C,q),a&&La){v=0;break e}break;default:q=Ke,Ke=0,An=null,Ua(t,T,C,q)}}JT(),v=ft;break}catch(X){Gy(t,X)}while(!0);return i&&t.shellSuspendCounter++,ji=Ns=null,Fe=o,K.H=h,K.A=d,Ne===null&&(We=null,De=0,Nu()),v}function JT(){for(;Ne!==null;)Xy(Ne)}function ZT(t,i){var a=Fe;Fe|=2;var o=Yy(),h=Ky();We!==t||De!==i?(lc=null,ac=kt()+500,ka(t,i)):La=ar(t,i);e:do try{if(Ke!==0&&Ne!==null){i=Ne;var d=An;t:switch(Ke){case 1:Ke=0,An=null,Ua(t,i,d,1);break;case 2:case 9:if(sg(d)){Ke=0,An=null,$y(i);break}i=function(){Ke!==2&&Ke!==9||We!==t||(Ke=7),hi(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:sg(d)?(Ke=0,An=null,$y(i)):(Ke=0,An=null,Ua(t,i,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var T=Ne;if(v?Lv(v):T.stateNode.complete){Ke=0,An=null;var C=T.sibling;if(C!==null)Ne=C;else{var q=T.return;q!==null?(Ne=q,cc(q)):Ne=null}break t}}Ke=0,An=null,Ua(t,i,d,5);break;case 6:Ke=0,An=null,Ua(t,i,d,6);break;case 8:cd(),ft=6;break e;default:throw Error(s(462))}}WT();break}catch(X){Gy(t,X)}while(!0);return ji=Ns=null,K.H=o,K.A=h,Fe=a,Ne!==null?0:(We=null,De=0,Nu(),ft)}function WT(){for(;Ne!==null&&!jh();)Xy(Ne)}function Xy(t){var i=_y(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,i===null?cc(t):Ne=i}function $y(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=dy(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=dy(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:xf(i);default:by(a,i),i=Ne=Kp(i,Qi),i=_y(a,i,Qi)}t.memoizedProps=t.pendingProps,i===null?cc(t):Ne=i}function Ua(t,i,a,o){ji=Ns=null,xf(i),Ca=null,Bl=0;var h=i.return;try{if(BT(t,h,i,a,De)){ft=1,Ju(t,Vn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ft=1,Ju(t,Vn(a,t.current)),Ne=null;return}i.flags&32768?(Pe||o===1?t=!0:La||(De&536870912)!==0?t=!1:(Mr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Tn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Jy(i,t)):cc(i)}function cc(t){var i=t;do{if((i.flags&32768)!==0){Jy(i,Mr);return}t=i.return;var a=FT(i.alternate,i,Qi);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ft===0&&(ft=5)}function Jy(t,i){do{var a=GT(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ft=6,Ne=null}function Zy(t,i,a,o,h,d,v,T,C){t.cancelPendingCommit=null;do hc();while(Ct!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Zh,Ut(t,a,d,v,T,C),t===We&&(Ne=We=null,De=0),Pa=i,Pr=t,Yi=a,ld=d,od=h,By=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,iS(Si,function(){return iv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=le.p,le.p=2,v=Fe,Fe|=4;try{QT(t,i,a)}finally{Fe=v,le.p=h,K.T=o}}Ct=1,Wy(),ev(),tv()}}function Wy(){if(Ct===1){Ct=0;var t=Pr,i=Pa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var o=le.p;le.p=2;var h=Fe;Fe|=4;try{Vy(i,t);var d=Sd,v=Up(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&kp(T.ownerDocument.documentElement,T)){if(C!==null&&Yh(T)){var q=C.start,X=C.end;if(X===void 0&&(X=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(X,T.value.length);else{var ee=T.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var G=H.getSelection(),ce=T.textContent.length,ve=Math.min(C.start,ce),Ze=C.end===void 0?ve:Math.min(C.end,ce);!G.extend&&ve>Ze&&(v=Ze,Ze=ve,ve=v);var P=Pp(T,ve),O=Pp(T,Ze);if(P&&O&&(G.rangeCount!==1||G.anchorNode!==P.node||G.anchorOffset!==P.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var B=ee.createRange();B.setStart(P.node,P.offset),G.removeAllRanges(),ve>Ze?(G.addRange(B),G.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),G.addRange(B))}}}}for(ee=[],G=T;G=G.parentNode;)G.nodeType===1&&ee.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Sc=!!Td,Sd=Td=null}finally{Fe=h,le.p=o,K.T=a}}t.current=i,Ct=2}}function ev(){if(Ct===2){Ct=0;var t=Pr,i=Pa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var o=le.p;le.p=2;var h=Fe;Fe|=4;try{Cy(t,i.alternate,i)}finally{Fe=h,le.p=o,K.T=a}}Ct=3}}function tv(){if(Ct===4||Ct===3){Ct=0,ml();var t=Pr,i=Pa,a=Yi,o=By;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ct=5:(Ct=0,Pa=Pr=null,nv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(jr=null),El(a),i=i.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(rr,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=K.T,h=le.p,le.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<o.length;v++){var T=o[v];d(T.value,{componentStack:T.stack})}}finally{K.T=i,le.p=h}}(Yi&3)!==0&&hc(),hi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ud?ro++:(ro=0,ud=t):ro=0,so(0)}}function nv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ul(i)))}function hc(){return Wy(),ev(),tv(),iv()}function iv(){if(Ct!==5)return!1;var t=Pr,i=ld;ld=0;var a=El(Yi),o=K.T,h=le.p;try{le.p=32>a?32:a,K.T=null,a=od,od=null;var d=Pr,v=Yi;if(Ct=0,Pa=Pr=null,Yi=0,(Fe&6)!==0)throw Error(s(331));var T=Fe;if(Fe|=4,ky(d.current),Ly(d,d.current,v,a),Fe=T,so(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(rr,d)}catch{}return!0}finally{le.p=h,K.T=o,nv(t,i)}}function rv(t,i,a){i=Vn(a,i),i=Bf(t.stateNode,i,2),t=Ir(t,i,2),t!==null&&(lr(t,2),hi(t))}function Xe(t,i,a){if(t.tag===3)rv(t,t,a);else for(;i!==null;){if(i.tag===3){rv(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(jr===null||!jr.has(o))){t=Vn(a,t),a=sy(2),o=Ir(i,a,2),o!==null&&(ay(a,o,i,t),lr(o,2),hi(o));break}}i=i.return}}function fd(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new XT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(rd=!0,h.add(a),t=eS.bind(null,t,i,a),i.then(t,t))}function eS(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(De&a)===a&&(ft===4||ft===3&&(De&62914560)===De&&300>kt()-sc?(Fe&2)===0&&ka(t,0):sd|=a,ja===De&&(ja=0)),hi(t)}function sv(t,i){i===0&&(i=yl()),t=xs(t,i),t!==null&&(lr(t,i),hi(t))}function tS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),sv(t,a)}function nS(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),sv(t,a)}function iS(t,i){return hs(t,i)}var fc=null,za=null,dd=!1,dc=!1,md=!1,Ur=0;function hi(t){t!==za&&t.next===null&&(za===null?fc=za=t:za=za.next=t),dc=!0,dd||(dd=!0,sS())}function so(t,i){if(!md&&dc){md=!0;do for(var a=!1,o=fc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-Wt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,uv(o,d))}else d=De,d=Nn(o,o===We?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||ar(o,d)||(a=!0,uv(o,d));o=o.next}while(a);md=!1}}function rS(){av()}function av(){dc=dd=!1;var t=0;Ur!==0&&pS()&&(t=Ur);for(var i=kt(),a=null,o=fc;o!==null;){var h=o.next,d=lv(o,i);d===0?(o.next=null,a===null?fc=h:a.next=h,h===null&&(za=a)):(a=o,(t!==0||(d&3)!==0)&&(dc=!0)),o=h}Ct!==0&&Ct!==5||so(t),Ur!==0&&(Ur=0)}function lv(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Wt(d),T=1<<v,C=h[v];C===-1?((T&a)===0||(T&o)!==0)&&(h[v]=aa(T,i)):C<=i&&(t.expiredLanes|=T),d&=~T}if(i=We,a=De,a=Nn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&sa(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ar(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&sa(o),El(a)){case 2:case 8:a=Dt;break;case 32:a=Si;break;case 268435456:a=pl;break;default:a=Si}return o=ov.bind(null,t),a=hs(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&sa(o),t.callbackPriority=2,t.callbackNode=null,2}function ov(t,i){if(Ct!==0&&Ct!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(hc()&&t.callbackNode!==a)return null;var o=De;return o=Nn(t,t===We?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Hy(t,o,i),lv(t,kt()),t.callbackNode!=null&&t.callbackNode===a?ov.bind(null,t):null)}function uv(t,i){if(hc())return null;Hy(t,i,!0)}function sS(){yS(function(){(Fe&6)!==0?hs(Rt,rS):av()})}function pd(){if(Ur===0){var t=wa;t===0&&(t=ds,ds<<=1,(ds&261888)===0&&(ds=256)),Ur=t}return Ur}function cv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:si(""+t)}function hv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function aS(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=cv((h[zt]||null).action),v=o.submitter;v&&(i=(i=v[zt]||null)?cv(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new _s("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ur!==0){var C=v?hv(h,v):new FormData(h);Lf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?hv(h,v):new FormData(h),Lf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var gd=0;gd<Jh.length;gd++){var yd=Jh[gd],lS=yd.toLowerCase(),oS=yd[0].toUpperCase()+yd.slice(1);Qn(lS,"on"+oS)}Qn(qp,"onAnimationEnd"),Qn(Hp,"onAnimationIteration"),Qn(Fp,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(AT,"onTransitionRun"),Qn(wT,"onTransitionStart"),Qn(xT,"onTransitionCancel"),Qn(Gp,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ao));function fv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var T=o[v],C=T.instance,q=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(X){Cu(X)}h.currentTarget=null,d=C}else for(v=0;v<o.length;v++){if(T=o[v],C=T.instance,q=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(X){Cu(X)}h.currentTarget=null,d=C}}}}function Ie(t,i){var a=i[cr];a===void 0&&(a=i[cr]=new Set);var o=t+"__bubble";a.has(o)||(dv(i,t,2,!1),a.add(o))}function vd(t,i,a){var o=0;i&&(o|=4),dv(a,t,o,i)}var mc="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[mc]){t[mc]=!0,la.forEach(function(a){a!=="selectionchange"&&(uS.has(a)||vd(a,!1,t),vd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[mc]||(i[mc]=!0,vd("selectionchange",!1,i))}}function dv(t,i,a,o){switch(qv(i)){case 2:var h=PS;break;case 8:h=kS;break;default:h=Md}a=h.bind(null,i,a,t),h=void 0,!Cl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Ed(t,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=o.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ri(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){o=d=v;continue e}T=T.parentNode}}o=o.return}fu(function(){var q=d,X=fa(a),ee=[];e:{var H=Qp.get(t);if(H!==void 0){var G=_s,ce=t;switch(t){case"keypress":if(vs(a)===0)break e;case"keydown":case"keyup":G=bu;break;case"focusin":ce="focus",G=Er;break;case"focusout":ce="blur",G=Er;break;case"beforeblur":case"afterblur":G=Er;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Su;break;case qp:case Hp:case Fp:G=pa;break;case Gp:G=ga;break;case"scroll":case"scrollend":G=du;break;case"wheel":G=wu;break;case"copy":case"cut":case"paste":G=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Vl;break;case"toggle":case"beforetoggle":G=Tr}var ve=(i&4)!==0,Ze=!ve&&(t==="scroll"||t==="scrollend"),P=ve?H!==null?H+"Capture":null:H;ve=[];for(var O=q,B;O!==null;){var Z=O;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||P===null||(Z=an(O,P),Z!=null&&ve.push(lo(O,Z,B))),Ze)break;O=O.return}0<ve.length&&(H=new G(H,ce,null,a,X),ee.push({event:H,listeners:ve}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&a!==ha&&(ce=a.relatedTarget||a.fromElement)&&(Ri(ce)||ce[ni]))break e;if((G||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,G?(ce=a.relatedTarget||a.toElement,G=q,ce=ce?Ri(ce):null,ce!==null&&(Ze=u(ce),ve=ce.tag,ce!==Ze||ve!==5&&ve!==27&&ve!==6)&&(ce=null)):(G=null,ce=q),G!==ce)){if(ve=mu,Z="onMouseLeave",P="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Vl,Z="onPointerLeave",P="onPointerEnter",O="pointer"),Ze=G==null?H:ps(G),B=ce==null?H:ps(ce),H=new ve(Z,O+"leave",G,a,X),H.target=Ze,H.relatedTarget=B,Z=null,Ri(X)===q&&(ve=new ve(P,O+"enter",ce,a,X),ve.target=B,ve.relatedTarget=Ze,Z=ve),Ze=Z,G&&ce)t:{for(ve=cS,P=G,O=ce,B=0,Z=P;Z;Z=ve(Z))B++;Z=0;for(var pe=O;pe;pe=ve(pe))Z++;for(;0<B-Z;)P=ve(P),B--;for(;0<Z-B;)O=ve(O),Z--;for(;B--;){if(P===O||O!==null&&P===O.alternate){ve=P;break t}P=ve(P),O=ve(O)}ve=null}else ve=null;G!==null&&mv(ee,H,G,ve,!1),ce!==null&&Ze!==null&&mv(ee,Ze,ce,ve,!0)}}e:{if(H=q?ps(q):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var qe=Dp;else if(ln(H))if(Op)qe=bT;else{qe=_T;var fe=vT}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&xl(q.elementType)&&(qe=Dp):qe=ET;if(qe&&(qe=qe(t,q))){Ss(ee,qe,a,X);break e}fe&&fe(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&ca(H,"number",H.value)}switch(fe=q?ps(q):window,t){case"focusin":(ln(fe)||fe.contentEditable==="true")&&(ya=fe,Kh=q,jl=null);break;case"focusout":jl=Kh=ya=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,zp(ee,a,X);break;case"selectionchange":if(ST)break;case"keydown":case"keyup":zp(ee,a,X)}var we;if(g)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Re?Qe(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(U&&a.locale!=="ko"&&(Re||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Re&&(we=gr()):(_n=X,da="value"in _n?_n.value:_n.textContent,Re=!0)),fe=pc(q,Oe),0<fe.length&&(Oe=new Il(Oe,t,null,a,X),ee.push({event:Oe,listeners:fe}),we?Oe.data=we:(we=vt(a),we!==null&&(Oe.data=we)))),(we=S?Vt(t,a):Mt(t,a))&&(Oe=pc(q,"onBeforeInput"),0<Oe.length&&(fe=new Il("onBeforeInput","beforeinput",null,a,X),ee.push({event:fe,listeners:Oe}),fe.data=we)),aS(ee,t,q,a,X)}fv(ee,i)})}function lo(t,i,a){return{instance:t,listener:i,currentTarget:a}}function pc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=an(t,a),h!=null&&o.unshift(lo(t,h,d)),h=an(t,i),h!=null&&o.push(lo(t,h,d))),t.tag===3)return o;t=t.return}return[]}function cS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function mv(t,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var T=a,C=T.alternate,q=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||q===null||(C=q,h?(q=an(a,d),q!=null&&v.unshift(lo(a,q,C))):h||(q=an(a,d),q!=null&&v.push(lo(a,q,C)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var hS=/\r\n?/g,fS=/\u0000|\uFFFD/g;function pv(t){return(typeof t=="string"?t:""+t).replace(hS,`
`).replace(fS,"")}function gv(t,i){return i=pv(i),pv(t)===i}function Je(t,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Dn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Dn(t,""+o);break;case"className":dr(t,"class",o);break;case"tabIndex":dr(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(t,a,o);break;case"style":cu(t,o,d);break;case"data":if(i!=="object"){dr(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=si(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=si(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Ot);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=si(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),fr(t,"popover",o);break;case"xlinkActuate":In(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":In(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":In(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":In(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":In(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":In(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":In(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":In(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":In(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qh.get(a)||a,fr(t,a,o))}}function bd(t,i,a,o,h,d){switch(a){case"style":cu(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Dn(t,o):(typeof o=="number"||typeof o=="bigint")&&Dn(t,""+o);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Ot);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[zt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):fr(t,a,o)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,v,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),o&&Je(t,i,"src",a.src,a,null);return;case"input":Ie("invalid",t);var T=d=v=h=null,C=null,q=null;for(o in a)if(a.hasOwnProperty(o)){var X=a[o];if(X!=null)switch(o){case"name":h=X;break;case"type":v=X;break;case"checked":C=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Je(t,i,o,X,a,null)}}gs(t,d,T,C,q,v,h,!1);return;case"select":Ie("invalid",t),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:Je(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!o,i!=null?Be(t,!!o,i,!1):a!=null&&Be(t,!!o,a,!0);return;case"textarea":Ie("invalid",t),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,i,v,T,a,null)}pr(t,o,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Je(t,i,C,o,a,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(o=0;o<ao.length;o++)Ie(ao[o],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(o=a[q],o!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,q,o,a,null)}return;default:if(xl(i)){for(X in a)a.hasOwnProperty(X)&&(o=a[X],o!==void 0&&bd(t,i,X,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Je(t,i,T,o,a,null))}function dS(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,C=null,q=null,X=null;for(G in a){var ee=a[G];if(a.hasOwnProperty(G)&&ee!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=ee;default:o.hasOwnProperty(G)||Je(t,i,G,null,o,ee)}}for(var H in o){var G=o[H];if(ee=a[H],o.hasOwnProperty(H)&&(G!=null||ee!=null))switch(H){case"type":d=G;break;case"name":h=G;break;case"checked":q=G;break;case"defaultChecked":X=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==ee&&Je(t,i,H,G,o,ee)}}mr(t,v,T,C,q,X,d,h);return;case"select":G=v=T=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:o.hasOwnProperty(d)||Je(t,i,d,null,o,C)}for(h in o)if(d=o[h],C=a[h],o.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&Je(t,i,h,d,o,C)}i=T,a=v,o=G,H!=null?Be(t,!!a,H,!1):!!o!=!!a&&(i!=null?Be(t,!!a,i,!0):Be(t,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,i,T,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,v,h,o,d)}ys(t,H,G);return;case"option":for(var ce in a)if(H=a[ce],a.hasOwnProperty(ce)&&H!=null&&!o.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:Je(t,i,ce,null,o,H)}for(C in o)if(H=o[C],G=a[C],o.hasOwnProperty(C)&&H!==G&&(H!=null||G!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Je(t,i,C,H,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)H=a[ve],a.hasOwnProperty(ve)&&H!=null&&!o.hasOwnProperty(ve)&&Je(t,i,ve,null,o,H);for(q in o)if(H=o[q],G=a[q],o.hasOwnProperty(q)&&H!==G&&(H!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Je(t,i,q,H,o,G)}return;default:if(xl(i)){for(var Ze in a)H=a[Ze],a.hasOwnProperty(Ze)&&H!==void 0&&!o.hasOwnProperty(Ze)&&bd(t,i,Ze,void 0,o,H);for(X in o)H=o[X],G=a[X],!o.hasOwnProperty(X)||H===G||H===void 0&&G===void 0||bd(t,i,X,H,o,G);return}}for(var P in a)H=a[P],a.hasOwnProperty(P)&&H!=null&&!o.hasOwnProperty(P)&&Je(t,i,P,null,o,H);for(ee in o)H=o[ee],G=a[ee],!o.hasOwnProperty(ee)||H===G||H==null&&G==null||Je(t,i,ee,H,o,G)}function yv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,v=h.initiatorType,T=h.duration;if(d&&T&&yv(v)){for(v=0,T=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],q=C.startTime;if(q>T)break;var X=C.transferSize,ee=C.initiatorType;X&&yv(ee)&&(C=C.responseEnd,v+=X*(C<T?1:(T-q)/(C-q)))}if(--o,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Td=null,Sd=null;function gc(t){return t.nodeType===9?t:t.ownerDocument}function vv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _v(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ad(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wd=null;function pS(){var t=window.event;return t&&t.type==="popstate"?t===wd?!1:(wd=t,!0):(wd=null,!1)}var Ev=typeof setTimeout=="function"?setTimeout:void 0,gS=typeof clearTimeout=="function"?clearTimeout:void 0,bv=typeof Promise=="function"?Promise:void 0,yS=typeof queueMicrotask=="function"?queueMicrotask:typeof bv<"u"?function(t){return bv.resolve(null).then(t).catch(vS)}:Ev;function vS(t){setTimeout(function(){throw t})}function zr(t){return t==="head"}function Tv(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Fa(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")oo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,oo(a);for(var d=a.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[xi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&oo(t.ownerDocument.body);a=h}while(a);Fa(i)}function Sv(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function xd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xd(a),ms(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function _S(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[xi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function ES(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function Av(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=kn(t.nextSibling),t===null))return null;return t}function Rd(t){return t.data==="$?"||t.data==="$~"}function Cd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function bS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Nd=null;function wv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function xv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Rv(t,i,a){switch(i=gc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function oo(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ms(t)}var Un=new Map,Cv=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ki=le.d;le.d={f:TS,r:SS,D:AS,C:wS,L:xS,m:RS,X:NS,S:CS,M:IS};function TS(){var t=Ki.f(),i=oc();return t||i}function SS(t){var i=Ci(t);i!==null&&i.tag===5&&i.type==="form"?Gg(i):Ki.r(t)}var Ba=typeof document>"u"?null:document;function Nv(t,i,a){var o=Ba;if(o&&typeof i=="string"&&i){var h=ct(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Cv.has(h)||(Cv.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ft(i,"link",t),dt(i),o.head.appendChild(i)))}}function AS(t){Ki.D(t),Nv("dns-prefetch",t,null)}function wS(t,i){Ki.C(t,i),Nv("preconnect",t,i)}function xS(t,i,a){Ki.L(t,i,a);var o=Ba;if(o&&t&&i){var h='link[rel="preload"][as="'+ct(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ct(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ct(a.imageSizes)+'"]')):h+='[href="'+ct(t)+'"]';var d=h;switch(i){case"style":d=qa(t);break;case"script":d=Ha(t)}Un.has(d)||(t=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(uo(d))||i==="script"&&o.querySelector(co(d))||(i=o.createElement("link"),Ft(i,"link",t),dt(i),o.head.appendChild(i)))}}function RS(t,i){Ki.m(t,i);var a=Ba;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ct(o)+'"][href="'+ct(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ha(t)}if(!Un.has(d)&&(t=A({rel:"modulepreload",href:t},i),Un.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(co(d)))return}o=a.createElement("link"),Ft(o,"link",t),dt(o),a.head.appendChild(o)}}}function CS(t,i,a){Ki.S(t,i,a);var o=Ba;if(o&&t){var h=Fn(o).hoistableStyles,d=qa(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(uo(d)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(d))&&Id(t,a);var C=v=o.createElement("link");dt(C),Ft(C,"link",t),C._p=new Promise(function(q,X){C.onload=q,C.onerror=X}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,vc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function NS(t,i){Ki.X(t,i);var a=Ba;if(a&&t){var o=Fn(a).hoistableScripts,h=Ha(t),d=o.get(h);d||(d=a.querySelector(co(h)),d||(t=A({src:t,async:!0},i),(i=Un.get(h))&&Dd(t,i),d=a.createElement("script"),dt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function IS(t,i){Ki.M(t,i);var a=Ba;if(a&&t){var o=Fn(a).hoistableScripts,h=Ha(t),d=o.get(h);d||(d=a.querySelector(co(h)),d||(t=A({src:t,async:!0,type:"module"},i),(i=Un.get(h))&&Dd(t,i),d=a.createElement("script"),dt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Iv(t,i,a,o){var h=(h=xe.current)?yc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=qa(a.href),a=Fn(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qa(a.href);var d=Fn(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(uo(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||DS(h,t,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ha(a),a=Fn(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function qa(t){return'href="'+ct(t)+'"'}function uo(t){return'link[rel="stylesheet"]['+t+"]"}function Dv(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function DS(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ft(i,"link",a),dt(i),t.head.appendChild(i))}function Ha(t){return'[src="'+ct(t)+'"]'}function co(t){return"script[async]"+t}function Ov(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+ct(a.href)+'"]');if(o)return i.instance=o,dt(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),dt(o),Ft(o,"style",h),vc(o,a.precedence,t),i.instance=o;case"stylesheet":h=qa(a.href);var d=t.querySelector(uo(h));if(d)return i.state.loading|=4,i.instance=d,dt(d),d;o=Dv(a),(h=Un.get(h))&&Id(o,h),d=(t.ownerDocument||t).createElement("link"),dt(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Ft(d,"link",o),i.state.loading|=4,vc(d,a.precedence,t),i.instance=d;case"script":return d=Ha(a.src),(h=t.querySelector(co(d)))?(i.instance=h,dt(h),h):(o=a,(h=Un.get(d))&&(o=A({},a),Dd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),dt(h),Ft(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,vc(o,a.precedence,t));return i.instance}function vc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Id(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Dd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var _c=null;function Vv(t,i,a){if(_c===null){var o=new Map,h=_c=new Map;h.set(a,o)}else h=_c,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[xi]||d[ut]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function Mv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function OS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Lv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function VS(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=qa(o.href),d=i.querySelector(uo(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Ec.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,dt(d);return}d=i.ownerDocument||i,o=Dv(o),(h=Un.get(h))&&Id(o,h),d=d.createElement("link"),dt(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Ft(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ec.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Od=0;function MS(t,i){return t.stylesheets&&t.count===0&&Tc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Od===0&&(Od=62500*mS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Od?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Tc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,i.forEach(LS,t),bc=null,Ec.call(t))}function LS(t,i){if(!(i.state.loading&4)){var a=bc.get(t);if(a)var o=a.get(null);else{a=new Map,bc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=Ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ho={$$typeof:ie,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function jS(t,i,a,o,h,d,v,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function jv(t,i,a,o,h,d,v,T,C,q,X,ee){return t=new jS(t,i,a,v,C,q,X,ee,T),i=1,d===!0&&(i|=24),d=bn(3,null,null,i),t.current=d,d.stateNode=t,i=hf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},pf(d),t}function Pv(t){return t?(t=Ea,t):Ea}function kv(t,i,a,o,h,d){h=Pv(h),o.context===null?o.context=h:o.pendingContext=h,o=Nr(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Ir(t,o,i),a!==null&&(fn(a,t,i),Hl(a,t,i))}function Uv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Vd(t,i){Uv(t,i),(t=t.alternate)&&Uv(t,i)}function zv(t){if(t.tag===13||t.tag===31){var i=xs(t,67108864);i!==null&&fn(i,t,67108864),Vd(t,67108864)}}function Bv(t){if(t.tag===13||t.tag===31){var i=xn();i=_l(i);var a=xs(t,i);a!==null&&fn(a,t,i),Vd(t,i)}}var Sc=!0;function PS(t,i,a,o){var h=K.T;K.T=null;var d=le.p;try{le.p=2,Md(t,i,a,o)}finally{le.p=d,K.T=h}}function kS(t,i,a,o){var h=K.T;K.T=null;var d=le.p;try{le.p=8,Md(t,i,a,o)}finally{le.p=d,K.T=h}}function Md(t,i,a,o){if(Sc){var h=Ld(o);if(h===null)Ed(t,i,o,Ac,a),Hv(t,o);else if(zS(h,t,i,a,o))o.stopPropagation();else if(Hv(t,o),i&4&&-1<US.indexOf(t)){for(;h!==null;){var d=Ci(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Hn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Wt(v);T.entanglements[1]|=C,v&=~C}hi(d),(Fe&6)===0&&(ac=kt()+500,so(0))}}break;case 31:case 13:T=xs(d,2),T!==null&&fn(T,d,2),oc(),Vd(d,2)}if(d=Ld(o),d===null&&Ed(t,i,o,Ac,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Ed(t,i,o,null,a)}}function Ld(t){return t=fa(t),jd(t)}var Ac=null;function jd(t){if(Ac=null,t=Ri(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ac=t,null}function qv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(iu()){case Rt:return 2;case Dt:return 8;case Si:case ru:return 32;case pl:return 268435456;default:return 32}default:return 32}}var Pd=!1,Br=null,qr=null,Hr=null,fo=new Map,mo=new Map,Fr=[],US="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hv(t,i){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":fo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(i.pointerId)}}function po(t,i,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ci(i),i!==null&&zv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function zS(t,i,a,o,h){switch(i){case"focusin":return Br=po(Br,t,i,a,o,h),!0;case"dragenter":return qr=po(qr,t,i,a,o,h),!0;case"mouseover":return Hr=po(Hr,t,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return fo.set(d,po(fo.get(d)||null,t,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,mo.set(d,po(mo.get(d)||null,t,i,a,o,h)),!0}return!1}function Fv(t){var i=Ri(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,au(t.priority,function(){Bv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,au(t.priority,function(){Bv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ld(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);ha=o,a.target.dispatchEvent(o),ha=null}else return i=Ci(a),i!==null&&zv(i),t.blockedOn=a,!1;i.shift()}return!0}function Gv(t,i,a){wc(t)&&a.delete(i)}function BS(){Pd=!1,Br!==null&&wc(Br)&&(Br=null),qr!==null&&wc(qr)&&(qr=null),Hr!==null&&wc(Hr)&&(Hr=null),fo.forEach(Gv),mo.forEach(Gv)}function xc(t,i){t.blockedOn===i&&(t.blockedOn=null,Pd||(Pd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,BS)))}var Rc=null;function Qv(t){Rc!==t&&(Rc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rc===t&&(Rc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(jd(o||a)===null)continue;break}var d=Ci(a);d!==null&&(t.splice(i,3),i-=3,Lf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Fa(t){function i(C){return xc(C,t)}Br!==null&&xc(Br,t),qr!==null&&xc(qr,t),Hr!==null&&xc(Hr,t),fo.forEach(i),mo.forEach(i);for(var a=0;a<Fr.length;a++){var o=Fr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Fr.length&&(a=Fr[0],a.blockedOn===null);)Fv(a),a.blockedOn===null&&Fr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[zt]||null;if(typeof d=="function")v||Qv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[zt]||null)T=v.formAction;else if(jd(h)!==null)continue}else T=v.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),Qv(a)}}}function Yv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function kd(t){this._internalRoot=t}Cc.prototype.render=kd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=xn();kv(a,o,t,i,null,null)},Cc.prototype.unmount=kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;kv(t.current,2,null,t,null,null),oc(),i[ni]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var i=wi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Fr.length&&i!==0&&i<Fr[a].priority;a++);Fr.splice(a,0,t),a===0&&Fv(t)}};var Kv=e.version;if(Kv!=="19.2.0")throw Error(s(527,Kv,"19.2.0"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var qS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{rr=Nc.inject(qS),Kt=Nc}catch{}}return yo.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",h=ty,d=ny,v=iy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=jv(t,1,!1,null,null,a,o,null,h,d,v,Yv),t[ni]=i.current,_d(t),new kd(i)},yo.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,h="",d=ty,v=ny,T=iy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=jv(t,1,!0,i,a??null,o,h,C,d,v,T,Yv),i.context=Pv(null),a=i.current,o=xn(),o=_l(o),h=Nr(o),h.callback=null,Ir(a,h,o),a=o,i.current.lanes=a,lr(i,a),hi(i),t[ni]=i.current,_d(t),new Cc(i)},yo.version="19.2.0",yo}var r_;function ZS(){if(r_)return Bd.exports;r_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bd.exports=JS(),Bd.exports}var WS=ZS();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var s_="popstate";function eA(r={}){function e(l,u){let{pathname:f="/",search:m="",hash:p=""}=Ks(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),rm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let f=l.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=l.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof u=="string"?u:Oo(u))}function s(l,u){Jn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return nA(e,n,s,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Jn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tA(){return Math.random().toString(36).substring(2,10)}function a_(r,e){return{usr:r.state,key:r.key,idx:e}}function rm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ks(e):e,state:n,key:e&&e.key||s||tA()}}function Oo({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ks(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function nA(r,e,n,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,m="POP",p=null,y=b();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function b(){return(f.state||{idx:null}).idx}function A(){m="POP";let z=b(),$=z==null?null:z-y;y=z,p&&p({action:m,location:Q.location,delta:$})}function w(z,$){m="PUSH";let ne=rm(Q.location,z,$);n&&n(ne,z),y=b()+1;let ie=a_(ne,y),me=Q.createHref(ne);try{f.pushState(ie,"",me)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;l.location.assign(me)}u&&p&&p({action:m,location:Q.location,delta:1})}function D(z,$){m="REPLACE";let ne=rm(Q.location,z,$);n&&n(ne,z),y=b();let ie=a_(ne,y),me=Q.createHref(ne);f.replaceState(ie,"",me),u&&p&&p({action:m,location:Q.location,delta:0})}function L(z){return iA(z)}let Q={get action(){return m},get location(){return r(l,f)},listen(z){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(s_,A),p=z,()=>{l.removeEventListener(s_,A),p=null}},createHref(z){return e(l,z)},createURL:L,encodeLocation(z){let $=L(z);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:D,go(z){return f.go(z)}};return Q}function iA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Oo(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function P0(r,e,n="/"){return rA(r,e,n,!1)}function rA(r,e,n,s){let l=typeof e=="string"?Ks(e):e,u=Wi(l.pathname||"/",n);if(u==null)return null;let f=k0(r);sA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=gA(u);m=mA(f[p],y,s)}return m}function k0(r,e=[],n=[],s="",l=!1){let u=(f,m,p=l,y)=>{let b={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&p)return;lt(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let A=$i([s,b.relativePath]),w=n.concat(b);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),k0(f.children,e,w,A,p)),!(f.path==null&&!f.index)&&e.push({path:A,score:fA(A,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of U0(f.path))u(f,m,!0,p)}),e}function U0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=U0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function sA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:dA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var aA=/^:[\w-]+$/,lA=3,oA=2,uA=1,cA=10,hA=-2,l_=r=>r==="*";function fA(r,e){let n=r.split("/"),s=n.length;return n.some(l_)&&(s+=hA),e&&(s+=oA),n.filter(l=>!l_(l)).reduce((l,u)=>l+(aA.test(u)?lA:u===""?uA:cA),s)}function dA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,l)=>s===e[l])?r[r.length-1]-e[e.length-1]:0}function mA(r,e,n=!1){let{routesMeta:s}=r,l={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",A=Qc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},b),w=p.route;if(!A&&y&&n&&!s[s.length-1].route.index&&(A=Qc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!A)return null;Object.assign(l,A.params),f.push({params:l,pathname:$i([u,A.pathname]),pathnameBase:EA($i([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=$i([u,A.pathnameBase]))}return f}function Qc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=pA(r.path,r.caseSensitive,r.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((y,{paramName:b,isOptional:A},w)=>{if(b==="*"){let L=m[w]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const D=m[w];return A&&!D?y[b]=void 0:y[b]=(D||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function pA(r,e=!1,n=!0){Jn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function gA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Wi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function yA(r,e="/"){let{pathname:n,search:s="",hash:l=""}=typeof r=="string"?Ks(r):r;return{pathname:n?n.startsWith("/")?n:vA(n,e):e,search:bA(s),hash:TA(l)}}function vA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Gd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _A(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function z0(r){let e=_A(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function B0(r,e,n,s=!1){let l;typeof r=="string"?l=Ks(r):(l={...r},lt(!l.pathname||!l.pathname.includes("?"),Gd("?","pathname","search",l)),lt(!l.pathname||!l.pathname.includes("#"),Gd("#","pathname","hash",l)),lt(!l.search||!l.search.includes("#"),Gd("#","search","hash",l)));let u=r===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),A-=1;l.pathname=w.join("/")}m=A>=0?e[A]:"/"}let p=yA(l,m),y=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||b)&&(p.pathname+="/"),p}var $i=r=>r.join("/").replace(/\/\/+/g,"/"),EA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),bA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,TA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function SA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var q0=["POST","PUT","PATCH","DELETE"];new Set(q0);var AA=["GET",...q0];new Set(AA);var al=F.createContext(null);al.displayName="DataRouter";var dh=F.createContext(null);dh.displayName="DataRouterState";F.createContext(!1);var H0=F.createContext({isTransitioning:!1});H0.displayName="ViewTransition";var wA=F.createContext(new Map);wA.displayName="Fetchers";var xA=F.createContext(null);xA.displayName="Await";var Ei=F.createContext(null);Ei.displayName="Navigation";var Ho=F.createContext(null);Ho.displayName="Location";var ir=F.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var jm=F.createContext(null);jm.displayName="RouteError";function RA(r,{relative:e}={}){lt(Fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(Ei),{hash:l,pathname:u,search:f}=Go(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:$i([n,u])),s.createHref({pathname:m,search:f,hash:l})}function Fo(){return F.useContext(Ho)!=null}function Xs(){return lt(Fo(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Ho).location}var F0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G0(r){F.useContext(Ei).static||F.useLayoutEffect(r)}function Q0(){let{isDataRoute:r}=F.useContext(ir);return r?zA():CA()}function CA(){lt(Fo(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(al),{basename:e,navigator:n}=F.useContext(Ei),{matches:s}=F.useContext(ir),{pathname:l}=Xs(),u=JSON.stringify(z0(s)),f=F.useRef(!1);return G0(()=>{f.current=!0}),F.useCallback((p,y={})=>{if(Jn(f.current,F0),!f.current)return;if(typeof p=="number"){n.go(p);return}let b=B0(p,JSON.parse(u),l,y.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:$i([e,b.pathname])),(y.replace?n.replace:n.push)(b,y.state,y)},[e,n,u,l,r])}F.createContext(null);function Go(r,{relative:e}={}){let{matches:n}=F.useContext(ir),{pathname:s}=Xs(),l=JSON.stringify(z0(n));return F.useMemo(()=>B0(r,JSON.parse(l),s,e==="path"),[r,l,s,e])}function NA(r,e){return Y0(r,e)}function Y0(r,e,n,s,l){lt(Fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=F.useContext(Ei),{matches:f}=F.useContext(ir),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",b=m?m.pathnameBase:"/",A=m&&m.route;{let ne=A&&A.path||"";K0(y,!A||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let w=Xs(),D;if(e){let ne=typeof e=="string"?Ks(e):e;lt(b==="/"||ne.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),D=ne}else D=w;let L=D.pathname||"/",Q=L;if(b!=="/"){let ne=b.replace(/^\//,"").split("/");Q="/"+L.replace(/^\//,"").split("/").slice(ne.length).join("/")}let z=P0(r,{pathname:Q});Jn(A||z!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Jn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=MA(z&&z.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:$i([b,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?b:$i([b,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),f,n,s,l);return e&&$?F.createElement(Ho.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},$):$}function IA(){let r=UA(),e=SA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:l},n):null,f)}var DA=F.createElement(IA,null),OA=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?F.createElement(ir.Provider,{value:this.props.routeContext},F.createElement(jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VA({routeContext:r,match:e,children:n}){let s=F.useContext(al);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(ir.Provider,{value:r},n)}function MA(r,e=[],n=null,s=null,l=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let y=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);lt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,p=-1;if(n)for(let y=0;y<u.length;y++){let b=u[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=y),b.route.id){let{loaderData:A,errors:w}=n,D=b.route.loader&&!A.hasOwnProperty(b.route.id)&&(!w||w[b.route.id]===void 0);if(b.route.lazy||D){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,b,A)=>{let w,D=!1,L=null,Q=null;n&&(w=f&&b.route.id?f[b.route.id]:void 0,L=b.route.errorElement||DA,m&&(p<0&&A===0?(K0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,Q=null):p===A&&(D=!0,Q=b.route.hydrateFallbackElement||null)));let z=e.concat(u.slice(0,A+1)),$=()=>{let ne;return w?ne=L:D?ne=Q:b.route.Component?ne=F.createElement(b.route.Component,null):b.route.element?ne=b.route.element:ne=y,F.createElement(VA,{match:b,routeContext:{outlet:y,matches:z,isDataRoute:n!=null},children:ne})};return n&&(b.route.ErrorBoundary||b.route.errorElement||A===0)?F.createElement(OA,{location:n.location,revalidation:n.revalidation,component:L,error:w,children:$(),routeContext:{outlet:null,matches:z,isDataRoute:!0},unstable_onError:s}):$()},null)}function Pm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LA(r){let e=F.useContext(al);return lt(e,Pm(r)),e}function jA(r){let e=F.useContext(dh);return lt(e,Pm(r)),e}function PA(r){let e=F.useContext(ir);return lt(e,Pm(r)),e}function km(r){let e=PA(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function kA(){return km("useRouteId")}function UA(){let r=F.useContext(jm),e=jA("useRouteError"),n=km("useRouteError");return r!==void 0?r:e.errors?.[n]}function zA(){let{router:r}=LA("useNavigate"),e=km("useNavigate"),n=F.useRef(!1);return G0(()=>{n.current=!0}),F.useCallback(async(l,u={})=>{Jn(n.current,F0),n.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:e,...u}))},[r,e])}var o_={};function K0(r,e,n){!e&&!o_[r]&&(o_[r]=!0,Jn(!1,n))}F.memo(BA);function BA({routes:r,future:e,state:n,unstable_onError:s}){return Y0(r,void 0,n,s,e)}function sm(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:l,static:u=!1}){lt(!Fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof n=="string"&&(n=Ks(n));let{pathname:p="/",search:y="",hash:b="",state:A=null,key:w="default"}=n,D=F.useMemo(()=>{let L=Wi(p,f);return L==null?null:{location:{pathname:L,search:y,hash:b,state:A,key:w},navigationType:s}},[f,p,y,b,A,w,s]);return Jn(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:F.createElement(Ei.Provider,{value:m},F.createElement(Ho.Provider,{children:e,value:D}))}function HA({children:r,location:e}){return NA(am(r),e)}function am(r,e=[]){let n=[];return F.Children.forEach(r,(s,l)=>{if(!F.isValidElement(s))return;let u=[...e,l];if(s.type===F.Fragment){n.push.apply(n,am(s.props.children,u));return}lt(s.type===sm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=am(s.props.children,u)),n.push(f)}),n}var Pc="get",kc="application/x-www-form-urlencoded";function mh(r){return r!=null&&typeof r.tagName=="string"}function FA(r){return mh(r)&&r.tagName.toLowerCase()==="button"}function GA(r){return mh(r)&&r.tagName.toLowerCase()==="form"}function QA(r){return mh(r)&&r.tagName.toLowerCase()==="input"}function YA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function KA(r,e){return r.button===0&&(!e||e==="_self")&&!YA(r)}var Ic=null;function XA(){if(Ic===null)try{new FormData(document.createElement("form"),0),Ic=!1}catch{Ic=!0}return Ic}var $A=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qd(r){return r!=null&&!$A.has(r)?(Jn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kc}"`),null):r}function JA(r,e){let n,s,l,u,f;if(GA(r)){let m=r.getAttribute("action");s=m?Wi(m,e):null,n=r.getAttribute("method")||Pc,l=Qd(r.getAttribute("enctype"))||kc,u=new FormData(r)}else if(FA(r)||QA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Wi(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Pc,l=Qd(r.getAttribute("formenctype"))||Qd(m.getAttribute("enctype"))||kc,u=new FormData(m,r),!XA()){let{name:y,type:b,value:A}=r;if(b==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,A)}}else{if(mh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pc,s=null,l=kc,f=r}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Um(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ZA(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Wi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function WA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ew(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function tw(r,e,n){let s=await Promise.all(r.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await WA(u,n);return f.links?f.links():[]}return[]}));return sw(s.flat(1).filter(ew).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function u_(r,e,n,s,l,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let b=s.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function nw(r,e,{includeHydrateFallback:n}={}){return iw(r.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function iw(r){return[...new Set(r)]}function rw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function sw(r,e){let n=new Set;return new Set(e),r.reduce((s,l)=>{let u=JSON.stringify(rw(l));return n.has(u)||(n.add(u),s.push({key:u,link:l})),s},[])}function X0(){let r=F.useContext(al);return Um(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function aw(){let r=F.useContext(dh);return Um(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var zm=F.createContext(void 0);zm.displayName="FrameworkContext";function $0(){let r=F.useContext(zm);return Um(r,"You must render this element inside a <HydratedRouter> element"),r}function lw(r,e){let n=F.useContext(zm),[s,l]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:b,onTouchStart:A}=e,w=F.useRef(null);F.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=$=>{$.forEach(ne=>{f(ne.isIntersecting)})},z=new IntersectionObserver(Q,{threshold:.5});return w.current&&z.observe(w.current),()=>{z.disconnect()}}},[r]),F.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let D=()=>{l(!0)},L=()=>{l(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:vo(m,D),onBlur:vo(p,L),onMouseEnter:vo(y,D),onMouseLeave:vo(b,L),onTouchStart:vo(A,D)}]:[!1,w,{}]}function vo(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function ow({page:r,...e}){let{router:n}=X0(),s=F.useMemo(()=>P0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?F.createElement(cw,{page:r,matches:s,...e}):null}function uw(r){let{manifest:e,routeModules:n}=$0(),[s,l]=F.useState([]);return F.useEffect(()=>{let u=!1;return tw(r,e,n).then(f=>{u||l(f)}),()=>{u=!0}},[r,e,n]),s}function cw({page:r,matches:e,...n}){let s=Xs(),{manifest:l,routeModules:u}=$0(),{basename:f}=X0(),{loaderData:m,matches:p}=aw(),y=F.useMemo(()=>u_(r,e,p,l,s,"data"),[r,e,p,l,s]),b=F.useMemo(()=>u_(r,e,p,l,s,"assets"),[r,e,p,l,s]),A=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,Q=!1;if(e.forEach($=>{let ne=l.routes[$.route.id];!ne||!ne.hasLoader||(!y.some(ie=>ie.route.id===$.route.id)&&$.route.id in m&&u[$.route.id]?.shouldRevalidate||ne.hasClientLoader?Q=!0:L.add($.route.id))}),L.size===0)return[];let z=ZA(r,f,"data");return Q&&L.size>0&&z.searchParams.set("_routes",e.filter($=>L.has($.route.id)).map($=>$.route.id).join(",")),[z.pathname+z.search]},[f,m,s,l,y,e,r,u]),w=F.useMemo(()=>nw(b,l),[b,l]),D=uw(b);return F.createElement(F.Fragment,null,A.map(L=>F.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),w.map(L=>F.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),D.map(({key:L,link:Q})=>F.createElement("link",{key:L,nonce:n.nonce,...Q})))}function hw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var J0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{J0&&(window.__reactRouterVersion="7.9.5")}catch{}function fw({basename:r,children:e,window:n}){let s=F.useRef();s.current==null&&(s.current=eA({window:n,v5Compat:!0}));let l=s.current,[u,f]=F.useState({action:l.action,location:l.location}),m=F.useCallback(p=>{F.startTransition(()=>f(p))},[f]);return F.useLayoutEffect(()=>l.listen(m),[l,m]),F.createElement(qA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:l})}var Z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W0=F.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:b,viewTransition:A,...w},D){let{basename:L}=F.useContext(Ei),Q=typeof y=="string"&&Z0.test(y),z,$=!1;if(typeof y=="string"&&Q&&(z=y,J0))try{let R=new URL(window.location.href),V=y.startsWith("//")?new URL(R.protocol+y):new URL(y),j=Wi(V.pathname,L);V.origin===R.origin&&j!=null?y=j+V.search+V.hash:$=!0}catch{Jn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=RA(y,{relative:l}),[ie,me,re]=lw(s,w),ye=gw(y,{replace:f,state:m,target:p,preventScrollReset:b,relative:l,viewTransition:A});function I(R){e&&e(R),R.defaultPrevented||ye(R)}let x=F.createElement("a",{...w,...re,href:z||ne,onClick:$||u?e:I,ref:hw(D,me),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return ie&&!Q?F.createElement(F.Fragment,null,x,F.createElement(ow,{page:ne})):x});W0.displayName="Link";var dw=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:m,children:p,...y},b){let A=Go(f,{relative:y.relative}),w=Xs(),D=F.useContext(dh),{navigator:L,basename:Q}=F.useContext(Ei),z=D!=null&&bw(A)&&m===!0,$=L.encodeLocation?L.encodeLocation(A).pathname:A.pathname,ne=w.pathname,ie=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,$=$.toLowerCase()),ie&&Q&&(ie=Wi(ie,Q)||ie);const me=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let re=ne===$||!l&&ne.startsWith($)&&ne.charAt(me)==="/",ye=ie!=null&&(ie===$||!l&&ie.startsWith($)&&ie.charAt($.length)==="/"),I={isActive:re,isPending:ye,isTransitioning:z},x=re?e:void 0,R;typeof s=="function"?R=s(I):R=[s,re?"active":null,ye?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(I):u;return F.createElement(W0,{...y,"aria-current":x,className:R,ref:b,style:V,to:f,viewTransition:m},typeof p=="function"?p(I):p)});dw.displayName="NavLink";var mw=F.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:l,state:u,method:f=Pc,action:m,onSubmit:p,relative:y,preventScrollReset:b,viewTransition:A,...w},D)=>{let L=_w(),Q=Ew(m,{relative:y}),z=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&Z0.test(m),ne=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let me=ie.nativeEvent.submitter,re=me?.getAttribute("formmethod")||f;L(me||ie.currentTarget,{fetcherKey:e,method:re,navigate:n,replace:l,state:u,relative:y,preventScrollReset:b,viewTransition:A})};return F.createElement("form",{ref:D,method:z,action:Q,onSubmit:s?p:ne,...w,"data-discover":!$&&r==="render"?"true":void 0})});mw.displayName="Form";function pw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eE(r){let e=F.useContext(al);return lt(e,pw(r)),e}function gw(r,{target:e,replace:n,state:s,preventScrollReset:l,relative:u,viewTransition:f}={}){let m=Q0(),p=Xs(),y=Go(r,{relative:u});return F.useCallback(b=>{if(KA(b,e)){b.preventDefault();let A=n!==void 0?n:Oo(p)===Oo(y);m(r,{replace:A,state:s,preventScrollReset:l,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,l,u,f])}var yw=0,vw=()=>`__${String(++yw)}__`;function _w(){let{router:r}=eE("useSubmit"),{basename:e}=F.useContext(Ei),n=kA();return F.useCallback(async(s,l={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=JA(s,e);if(l.navigate===!1){let b=l.fetcherKey||vw();await r.fetch(b,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,e,n])}function Ew(r,{relative:e}={}){let{basename:n}=F.useContext(Ei),s=F.useContext(ir);lt(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...Go(r||".",{relative:e})},f=Xs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let b=m.toString();u.search=b?`?${b}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:$i([n,u.pathname])),Oo(u)}function bw(r,{relative:e}={}){let n=F.useContext(H0);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=eE("useViewTransitionState"),l=Go(r,{relative:e});if(!n.isTransitioning)return!1;let u=Wi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Wi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Qc(l.pathname,f)!=null||Qc(l.pathname,u)!=null}const Tw=()=>{};var c_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Sw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],f=r[n++],m=r[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},nE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,m=f?r[l+1]:0,p=l+2<r.length,y=p?r[l+2]:0,b=u>>2,A=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,D=y&63;p||(D=64,f||(w=64)),s.push(n[b],n[A],n[w],n[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(tE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Sw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],m=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const A=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||m==null||y==null||A==null)throw new Aw;const w=u<<2|m>>4;if(s.push(w),y!==64){const D=m<<4&240|y>>2;if(s.push(D),A!==64){const L=y<<6&192|A;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Aw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ww=function(r){const e=tE(r);return nE.encodeByteArray(e,!0)},iE=function(r){return ww(r).replace(/\./g,"")},rE=function(r){try{return nE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=()=>xw().__FIREBASE_DEFAULTS__,Cw=()=>{if(typeof process>"u"||typeof c_>"u")return;const r=c_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Nw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&rE(r[1]);return e&&JSON.parse(e)},ph=()=>{try{return Tw()||Rw()||Cw()||Nw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Iw=r=>{var e,n;return(n=(e=ph())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Dw=r=>{const e=Iw(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},sE=()=>{var r;return(r=ph())===null||r===void 0?void 0:r.config},Ow=r=>{var e;return(e=ph())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aE(r){return(await fetch(r,{credentials:"include"})).ok}const xo={};function Mw(){const r={prod:[],emulator:[]};for(const e of Object.keys(xo))xo[e]?r.emulator.push(e):r.prod.push(e);return r}function Lw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let h_=!1;function jw(r,e){if(typeof window>"u"||typeof document>"u"||!ll(window.location.host)||xo[r]===e||xo[r]||h_)return;xo[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=Mw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{h_=!0,f()},w}function b(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=Lw(s),D=n("text"),L=document.getElementById(D)||document.createElement("span"),Q=n("learnmore"),z=document.getElementById(Q)||document.createElement("a"),$=n("preprendIcon"),ne=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ie=w.element;m(ie),b(z,Q);const me=y();p(ne,$),ie.append(ne,L,z,me),document.body.appendChild(ie)}u?(L.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function kw(){var r;const e=(r=ph())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Bw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qw(){const r=yn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Hw(){return!kw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fw(){try{return typeof indexedDB=="object"}catch{return!1}}function Gw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="FirebaseError";class bi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Qw,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qo.prototype.create)}}class Qo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?Yw(u,s):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new bi(l,m,s)}}function Yw(r,e){return r.replace(Kw,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const Kw=/\{\$([^}]+)}/g;function Vo(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=r[l],f=e[l];if(f_(u)&&f_(f)){if(!Vo(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function f_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function _o(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Eo(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Xw(r,e){const n=new $w(r,e);return n.subscribe.bind(n)}class $w{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Jw(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=Yd),l.error===void 0&&(l.error=Yd),l.complete===void 0&&(l.complete=Yd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Yd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(r){return r&&r._delegate?r._delegate:r}class es{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Vw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e?.identifier),l=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e1(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(l)}return l}onInit(e,n){var s;const l=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&e(f,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ww(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ww(r){return r===Us?void 0:r}function e1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Zw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const n1={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},i1=Ve.INFO,r1={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},s1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=r1[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bm{constructor(e){this.name=e,this._logLevel=i1,this._logHandler=s1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const a1=(r,e)=>e.some(n=>r instanceof n);let d_,m_;function l1(){return d_||(d_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o1(){return m_||(m_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oE=new WeakMap,lm=new WeakMap,uE=new WeakMap,Kd=new WeakMap,qm=new WeakMap;function u1(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Xr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&oE.set(n,r)}).catch(()=>{}),qm.set(e,r),e}function c1(r){if(lm.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});lm.set(r,e)}let om={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return lm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||uE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function h1(r){om=r(om)}function f1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Xd(this),e,...n);return uE.set(s,e.sort?e.sort():[e]),Xr(s)}:o1().includes(r)?function(...e){return r.apply(Xd(this),e),Xr(oE.get(this))}:function(...e){return Xr(r.apply(Xd(this),e))}}function d1(r){return typeof r=="function"?f1(r):(r instanceof IDBTransaction&&c1(r),a1(r,l1())?new Proxy(r,om):r)}function Xr(r){if(r instanceof IDBRequest)return u1(r);if(Kd.has(r))return Kd.get(r);const e=d1(r);return e!==r&&(Kd.set(r,e),qm.set(e,r)),e}const Xd=r=>qm.get(r);function m1(r,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(r,e),m=Xr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Xr(f.result),p.oldVersion,p.newVersion,Xr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const p1=["get","getKey","getAll","getAllKeys","count"],g1=["put","add","delete","clear"],$d=new Map;function p_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=g1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||p1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,l?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),l&&p.done]))[0]};return $d.set(e,u),u}h1(r=>({...r,get:(e,n,s)=>p_(e,n)||r.get(e,n,s),has:(e,n)=>!!p_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function v1(r){const e=r.getComponent();return e?.type==="VERSION"}const um="@firebase/app",g_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new Bm("@firebase/app"),_1="@firebase/app-compat",E1="@firebase/analytics-compat",b1="@firebase/analytics",T1="@firebase/app-check-compat",S1="@firebase/app-check",A1="@firebase/auth",w1="@firebase/auth-compat",x1="@firebase/database",R1="@firebase/data-connect",C1="@firebase/database-compat",N1="@firebase/functions",I1="@firebase/functions-compat",D1="@firebase/installations",O1="@firebase/installations-compat",V1="@firebase/messaging",M1="@firebase/messaging-compat",L1="@firebase/performance",j1="@firebase/performance-compat",P1="@firebase/remote-config",k1="@firebase/remote-config-compat",U1="@firebase/storage",z1="@firebase/storage-compat",B1="@firebase/firestore",q1="@firebase/ai",H1="@firebase/firestore-compat",F1="firebase",G1="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="[DEFAULT]",Q1={[um]:"fire-core",[_1]:"fire-core-compat",[b1]:"fire-analytics",[E1]:"fire-analytics-compat",[S1]:"fire-app-check",[T1]:"fire-app-check-compat",[A1]:"fire-auth",[w1]:"fire-auth-compat",[x1]:"fire-rtdb",[R1]:"fire-data-connect",[C1]:"fire-rtdb-compat",[N1]:"fire-fn",[I1]:"fire-fn-compat",[D1]:"fire-iid",[O1]:"fire-iid-compat",[V1]:"fire-fcm",[M1]:"fire-fcm-compat",[L1]:"fire-perf",[j1]:"fire-perf-compat",[P1]:"fire-rc",[k1]:"fire-rc-compat",[U1]:"fire-gcs",[z1]:"fire-gcs-compat",[B1]:"fire-fst",[H1]:"fire-fst-compat",[q1]:"fire-vertex","fire-js":"fire-js",[F1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Map,Y1=new Map,hm=new Map;function y_(r,e){try{r.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Fs(r){const e=r.name;if(hm.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;hm.set(e,r);for(const n of Yc.values())y_(n,r);for(const n of Y1.values())y_(n,r);return!0}function Hm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Xn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new Qo("app","Firebase",K1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=G1;function cE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:cm,automaticDataCollectionEnabled:!0},e),l=s.name;if(typeof l!="string"||!l)throw $r.create("bad-app-name",{appName:String(l)});if(n||(n=sE()),!n)throw $r.create("no-options");const u=Yc.get(l);if(u){if(Vo(n,u.options)&&Vo(s,u.config))return u;throw $r.create("duplicate-app",{appName:l})}const f=new t1(l);for(const p of hm.values())f.addComponent(p);const m=new X1(n,s,f);return Yc.set(l,m),m}function $1(r=cm){const e=Yc.get(r);if(!e&&r===cm&&sE())return cE();if(!e)throw $r.create("no-app",{appName:r});return e}function di(r,e,n){var s;let l=(s=Q1[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${l}" with version "${e}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(m.join(" "));return}Fs(new es(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="firebase-heartbeat-database",Z1=1,Mo="firebase-heartbeat-store";let Jd=null;function hE(){return Jd||(Jd=m1(J1,Z1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Mo)}catch(n){console.warn(n)}}}}).catch(r=>{throw $r.create("idb-open",{originalErrorMessage:r.message})})),Jd}async function W1(r){try{const n=(await hE()).transaction(Mo),s=await n.objectStore(Mo).get(fE(r));return await n.done,s}catch(e){if(e instanceof bi)er.warn(e.message);else{const n=$r.create("idb-get",{originalErrorMessage:e?.message});er.warn(n.message)}}}async function v_(r,e){try{const s=(await hE()).transaction(Mo,"readwrite");await s.objectStore(Mo).put(e,fE(r)),await s.done}catch(n){if(n instanceof bi)er.warn(n.message);else{const s=$r.create("idb-set",{originalErrorMessage:n?.message});er.warn(s.message)}}}function fE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=1024,tx=30;class nx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=__();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>tx){const f=sx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){er.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=__(),{heartbeatsToSend:s,unsentEntries:l}=ix(this._heartbeatsCache.heartbeats),u=iE(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return er.warn(n),""}}}function __(){return new Date().toISOString().substring(0,10)}function ix(r,e=ex){const n=[];let s=r.slice();for(const l of r){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),E_(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),E_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class rx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fw()?Gw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await W1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return v_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return v_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function E_(r){return iE(JSON.stringify({version:2,heartbeats:r})).length}function sx(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(r){Fs(new es("platform-logger",e=>new y1(e),"PRIVATE")),Fs(new es("heartbeat",e=>new nx(e),"PRIVATE")),di(um,g_,r),di(um,g_,"esm2017"),di("fire-js","")}ax("");var b_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jr,dE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function R(){}R.prototype=x.prototype,I.D=x.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(V,j,k){for(var N=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)N[Ge-2]=arguments[Ge];return x.prototype[j].apply(V,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,x,R){R||(R=0);var V=Array(16);if(typeof x=="string")for(var j=0;16>j;++j)V[j]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(j=0;16>j;++j)V[j]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=I.g[0],R=I.g[1],j=I.g[2];var k=I.g[3],N=x+(k^R&(j^k))+V[0]+3614090360&4294967295;x=R+(N<<7&4294967295|N>>>25),N=k+(j^x&(R^j))+V[1]+3905402710&4294967295,k=x+(N<<12&4294967295|N>>>20),N=j+(R^k&(x^R))+V[2]+606105819&4294967295,j=k+(N<<17&4294967295|N>>>15),N=R+(x^j&(k^x))+V[3]+3250441966&4294967295,R=j+(N<<22&4294967295|N>>>10),N=x+(k^R&(j^k))+V[4]+4118548399&4294967295,x=R+(N<<7&4294967295|N>>>25),N=k+(j^x&(R^j))+V[5]+1200080426&4294967295,k=x+(N<<12&4294967295|N>>>20),N=j+(R^k&(x^R))+V[6]+2821735955&4294967295,j=k+(N<<17&4294967295|N>>>15),N=R+(x^j&(k^x))+V[7]+4249261313&4294967295,R=j+(N<<22&4294967295|N>>>10),N=x+(k^R&(j^k))+V[8]+1770035416&4294967295,x=R+(N<<7&4294967295|N>>>25),N=k+(j^x&(R^j))+V[9]+2336552879&4294967295,k=x+(N<<12&4294967295|N>>>20),N=j+(R^k&(x^R))+V[10]+4294925233&4294967295,j=k+(N<<17&4294967295|N>>>15),N=R+(x^j&(k^x))+V[11]+2304563134&4294967295,R=j+(N<<22&4294967295|N>>>10),N=x+(k^R&(j^k))+V[12]+1804603682&4294967295,x=R+(N<<7&4294967295|N>>>25),N=k+(j^x&(R^j))+V[13]+4254626195&4294967295,k=x+(N<<12&4294967295|N>>>20),N=j+(R^k&(x^R))+V[14]+2792965006&4294967295,j=k+(N<<17&4294967295|N>>>15),N=R+(x^j&(k^x))+V[15]+1236535329&4294967295,R=j+(N<<22&4294967295|N>>>10),N=x+(j^k&(R^j))+V[1]+4129170786&4294967295,x=R+(N<<5&4294967295|N>>>27),N=k+(R^j&(x^R))+V[6]+3225465664&4294967295,k=x+(N<<9&4294967295|N>>>23),N=j+(x^R&(k^x))+V[11]+643717713&4294967295,j=k+(N<<14&4294967295|N>>>18),N=R+(k^x&(j^k))+V[0]+3921069994&4294967295,R=j+(N<<20&4294967295|N>>>12),N=x+(j^k&(R^j))+V[5]+3593408605&4294967295,x=R+(N<<5&4294967295|N>>>27),N=k+(R^j&(x^R))+V[10]+38016083&4294967295,k=x+(N<<9&4294967295|N>>>23),N=j+(x^R&(k^x))+V[15]+3634488961&4294967295,j=k+(N<<14&4294967295|N>>>18),N=R+(k^x&(j^k))+V[4]+3889429448&4294967295,R=j+(N<<20&4294967295|N>>>12),N=x+(j^k&(R^j))+V[9]+568446438&4294967295,x=R+(N<<5&4294967295|N>>>27),N=k+(R^j&(x^R))+V[14]+3275163606&4294967295,k=x+(N<<9&4294967295|N>>>23),N=j+(x^R&(k^x))+V[3]+4107603335&4294967295,j=k+(N<<14&4294967295|N>>>18),N=R+(k^x&(j^k))+V[8]+1163531501&4294967295,R=j+(N<<20&4294967295|N>>>12),N=x+(j^k&(R^j))+V[13]+2850285829&4294967295,x=R+(N<<5&4294967295|N>>>27),N=k+(R^j&(x^R))+V[2]+4243563512&4294967295,k=x+(N<<9&4294967295|N>>>23),N=j+(x^R&(k^x))+V[7]+1735328473&4294967295,j=k+(N<<14&4294967295|N>>>18),N=R+(k^x&(j^k))+V[12]+2368359562&4294967295,R=j+(N<<20&4294967295|N>>>12),N=x+(R^j^k)+V[5]+4294588738&4294967295,x=R+(N<<4&4294967295|N>>>28),N=k+(x^R^j)+V[8]+2272392833&4294967295,k=x+(N<<11&4294967295|N>>>21),N=j+(k^x^R)+V[11]+1839030562&4294967295,j=k+(N<<16&4294967295|N>>>16),N=R+(j^k^x)+V[14]+4259657740&4294967295,R=j+(N<<23&4294967295|N>>>9),N=x+(R^j^k)+V[1]+2763975236&4294967295,x=R+(N<<4&4294967295|N>>>28),N=k+(x^R^j)+V[4]+1272893353&4294967295,k=x+(N<<11&4294967295|N>>>21),N=j+(k^x^R)+V[7]+4139469664&4294967295,j=k+(N<<16&4294967295|N>>>16),N=R+(j^k^x)+V[10]+3200236656&4294967295,R=j+(N<<23&4294967295|N>>>9),N=x+(R^j^k)+V[13]+681279174&4294967295,x=R+(N<<4&4294967295|N>>>28),N=k+(x^R^j)+V[0]+3936430074&4294967295,k=x+(N<<11&4294967295|N>>>21),N=j+(k^x^R)+V[3]+3572445317&4294967295,j=k+(N<<16&4294967295|N>>>16),N=R+(j^k^x)+V[6]+76029189&4294967295,R=j+(N<<23&4294967295|N>>>9),N=x+(R^j^k)+V[9]+3654602809&4294967295,x=R+(N<<4&4294967295|N>>>28),N=k+(x^R^j)+V[12]+3873151461&4294967295,k=x+(N<<11&4294967295|N>>>21),N=j+(k^x^R)+V[15]+530742520&4294967295,j=k+(N<<16&4294967295|N>>>16),N=R+(j^k^x)+V[2]+3299628645&4294967295,R=j+(N<<23&4294967295|N>>>9),N=x+(j^(R|~k))+V[0]+4096336452&4294967295,x=R+(N<<6&4294967295|N>>>26),N=k+(R^(x|~j))+V[7]+1126891415&4294967295,k=x+(N<<10&4294967295|N>>>22),N=j+(x^(k|~R))+V[14]+2878612391&4294967295,j=k+(N<<15&4294967295|N>>>17),N=R+(k^(j|~x))+V[5]+4237533241&4294967295,R=j+(N<<21&4294967295|N>>>11),N=x+(j^(R|~k))+V[12]+1700485571&4294967295,x=R+(N<<6&4294967295|N>>>26),N=k+(R^(x|~j))+V[3]+2399980690&4294967295,k=x+(N<<10&4294967295|N>>>22),N=j+(x^(k|~R))+V[10]+4293915773&4294967295,j=k+(N<<15&4294967295|N>>>17),N=R+(k^(j|~x))+V[1]+2240044497&4294967295,R=j+(N<<21&4294967295|N>>>11),N=x+(j^(R|~k))+V[8]+1873313359&4294967295,x=R+(N<<6&4294967295|N>>>26),N=k+(R^(x|~j))+V[15]+4264355552&4294967295,k=x+(N<<10&4294967295|N>>>22),N=j+(x^(k|~R))+V[6]+2734768916&4294967295,j=k+(N<<15&4294967295|N>>>17),N=R+(k^(j|~x))+V[13]+1309151649&4294967295,R=j+(N<<21&4294967295|N>>>11),N=x+(j^(R|~k))+V[4]+4149444226&4294967295,x=R+(N<<6&4294967295|N>>>26),N=k+(R^(x|~j))+V[11]+3174756917&4294967295,k=x+(N<<10&4294967295|N>>>22),N=j+(x^(k|~R))+V[2]+718787259&4294967295,j=k+(N<<15&4294967295|N>>>17),N=R+(k^(j|~x))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+k&4294967295}s.prototype.u=function(I,x){x===void 0&&(x=I.length);for(var R=x-this.blockSize,V=this.B,j=this.h,k=0;k<x;){if(j==0)for(;k<=R;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<x;)if(V[j++]=I.charCodeAt(k++),j==this.blockSize){l(this,V),j=0;break}}else for(;k<x;)if(V[j++]=I[k++],j==this.blockSize){l(this,V),j=0;break}}this.h=j,this.o+=x},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;var R=8*this.o;for(x=I.length-8;x<I.length;++x)I[x]=R&255,R/=256;for(this.u(I),I=Array(16),x=R=0;4>x;++x)for(var V=0;32>V;V+=8)I[R++]=this.g[x]>>>V&255;return I};function u(I,x){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=x(I)}function f(I,x){this.h=x;for(var R=[],V=!0,j=I.length-1;0<=j;j--){var k=I[j]|0;V&&k==x||(R[j]=k,V=!1)}this.g=R}var m={};function p(I){return-128<=I&&128>I?u(I,function(x){return new f([x|0],0>x?-1:0)}):new f([I|0],0>I?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return A;if(0>I)return z(y(-I));for(var x=[],R=1,V=0;I>=R;V++)x[V]=I/R|0,R*=4294967296;return new f(x,0)}function b(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return z(b(I.substring(1),x));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(x,8)),V=A,j=0;j<I.length;j+=8){var k=Math.min(8,I.length-j),N=parseInt(I.substring(j,j+k),x);8>k?(k=y(Math.pow(x,k)),V=V.j(k).add(y(N))):(V=V.j(R),V=V.add(y(N)))}return V}var A=p(0),w=p(1),D=p(16777216);r=f.prototype,r.m=function(){if(Q(this))return-z(this).m();for(var I=0,x=1,R=0;R<this.g.length;R++){var V=this.i(R);I+=(0<=V?V:4294967296+V)*x,x*=4294967296}return I},r.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(L(this))return"0";if(Q(this))return"-"+z(this).toString(I);for(var x=y(Math.pow(I,6)),R=this,V="";;){var j=me(R,x).g;R=$(R,j.j(x));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=j,L(R))return k+V;for(;6>k.length;)k="0"+k;V=k+V}},r.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function L(I){if(I.h!=0)return!1;for(var x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function Q(I){return I.h==-1}r.l=function(I){return I=$(this,I),Q(I)?-1:L(I)?0:1};function z(I){for(var x=I.g.length,R=[],V=0;V<x;V++)R[V]=~I.g[V];return new f(R,~I.h).add(w)}r.abs=function(){return Q(this)?z(this):this},r.add=function(I){for(var x=Math.max(this.g.length,I.g.length),R=[],V=0,j=0;j<=x;j++){var k=V+(this.i(j)&65535)+(I.i(j)&65535),N=(k>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);V=N>>>16,k&=65535,N&=65535,R[j]=N<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function $(I,x){return I.add(z(x))}r.j=function(I){if(L(this)||L(I))return A;if(Q(this))return Q(I)?z(this).j(z(I)):z(z(this).j(I));if(Q(I))return z(this.j(z(I)));if(0>this.l(D)&&0>I.l(D))return y(this.m()*I.m());for(var x=this.g.length+I.g.length,R=[],V=0;V<2*x;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var j=0;j<I.g.length;j++){var k=this.i(V)>>>16,N=this.i(V)&65535,Ge=I.i(j)>>>16,xt=I.i(j)&65535;R[2*V+2*j]+=N*xt,ne(R,2*V+2*j),R[2*V+2*j+1]+=k*xt,ne(R,2*V+2*j+1),R[2*V+2*j+1]+=N*Ge,ne(R,2*V+2*j+1),R[2*V+2*j+2]+=k*Ge,ne(R,2*V+2*j+2)}for(V=0;V<x;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=x;V<2*x;V++)R[V]=0;return new f(R,0)};function ne(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function ie(I,x){this.g=I,this.h=x}function me(I,x){if(L(x))throw Error("division by zero");if(L(I))return new ie(A,A);if(Q(I))return x=me(z(I),x),new ie(z(x.g),z(x.h));if(Q(x))return x=me(I,z(x)),new ie(z(x.g),x.h);if(30<I.g.length){if(Q(I)||Q(x))throw Error("slowDivide_ only works with positive integers.");for(var R=w,V=x;0>=V.l(I);)R=re(R),V=re(V);var j=ye(R,1),k=ye(V,1);for(V=ye(V,2),R=ye(R,2);!L(V);){var N=k.add(V);0>=N.l(I)&&(j=j.add(R),k=N),V=ye(V,1),R=ye(R,1)}return x=$(I,j.j(x)),new ie(j,x)}for(j=A;0<=I.l(x);){for(R=Math.max(1,Math.floor(I.m()/x.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),k=y(R),N=k.j(x);Q(N)||0<N.l(I);)R-=V,k=y(R),N=k.j(x);L(k)&&(k=w),j=j.add(k),I=$(I,N)}return new ie(j,I)}r.A=function(I){return me(this,I).h},r.and=function(I){for(var x=Math.max(this.g.length,I.g.length),R=[],V=0;V<x;V++)R[V]=this.i(V)&I.i(V);return new f(R,this.h&I.h)},r.or=function(I){for(var x=Math.max(this.g.length,I.g.length),R=[],V=0;V<x;V++)R[V]=this.i(V)|I.i(V);return new f(R,this.h|I.h)},r.xor=function(I){for(var x=Math.max(this.g.length,I.g.length),R=[],V=0;V<x;V++)R[V]=this.i(V)^I.i(V);return new f(R,this.h^I.h)};function re(I){for(var x=I.g.length+1,R=[],V=0;V<x;V++)R[V]=I.i(V)<<1|I.i(V-1)>>>31;return new f(R,I.h)}function ye(I,x){var R=x>>5;x%=32;for(var V=I.g.length-R,j=[],k=0;k<V;k++)j[k]=0<x?I.i(k+R)>>>x|I.i(k+R+1)<<32-x:I.i(k+R);return new f(j,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,dE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,Jr=f}).apply(typeof b_<"u"?b_:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mE,bo,pE,Uc,fm,gE,yE,vE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function l(c,g){if(g)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in _))break e;_=_[U]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,S=!1,U={next:function(){if(!S&&_<c.length){var Y=_++;return{value:g(Y,c[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function b(c,g,_){return c.call.apply(c.bind,arguments)}function A(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function w(c,g,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:A,w.apply(null,arguments)}function D(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function L(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,U,Y){for(var ae=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ae[Qe-2]=arguments[Qe];return g.prototype[U].apply(S,ae)}}function Q(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function z(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const U=c.length||0,Y=S.length||0;c.length=U+Y;for(let ae=0;ae<Y;ae++)c[U+ae]=S[ae]}else c.push(S)}}class ${constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ne(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function me(c){return me[" "](c),c}me[" "]=function(){};var re=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function ye(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function I(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function x(c){const g={};for(const _ in c)g[_]=c[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,g){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)c[_]=S[_];for(let Y=0;Y<R.length;Y++)_=R[Y],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function j(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function N(){var c=Le;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Ge{constructor(){this.h=this.g=null}add(g,_){const S=xt.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var xt=new $(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,de=!1,Le=new Ge,ze=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(M)}};var M=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){k(_)}var g=xt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}de=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var he=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c})();function Ee(c,g){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(re){e:{try{me(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ee.aa.h.call(this)}}L(Ee,se);var xe={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function at(c,g,_,S,U){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=U,this.key=++Pt,this.da=this.fa=!1}function Wn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ti(c){this.src=c,this.g={},this.h=0}Ti.prototype.add=function(c,g,_,S,U){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ae=na(c,g,S,U);return-1<ae?(g=c[ae],_||(g.fa=!1)):(g=new at(g,this.src,Y,!!S,U),g.fa=_,c.push(g)),g};function us(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],U=Array.prototype.indexOf.call(S,g,void 0),Y;(Y=0<=U)&&Array.prototype.splice.call(S,U,1),Y&&(Wn(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function na(c,g,_,S){for(var U=0;U<c.length;++U){var Y=c[U];if(!Y.da&&Y.listener==g&&Y.capture==!!_&&Y.ha==S)return U}return-1}var qn="closure_lm_"+(1e6*Math.random()|0),cs={};function ia(c,g,_,S,U){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)ia(c,g[Y],_,S,U);return null}return _=iu(_),c&&c[je]?c.K(g,_,y(S)?!!S.capture:!1,U):Lh(c,g,_,!1,S,U)}function Lh(c,g,_,S,U,Y){if(!g)throw Error("Invalid event type");var ae=y(U)?!!U.capture:!!U,Qe=ml(c);if(Qe||(c[qn]=Qe=new Ti(c)),_=Qe.add(g,_,S,ae,Y),_.proxy)return _;if(S=nu(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)he||(U=ae),U===void 0&&(U=!1),c.addEventListener(g.toString(),S,U);else if(c.attachEvent)c.attachEvent(sa(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function nu(){function c(_){return g.call(c.src,c.listener,_)}const g=jh;return c}function ra(c,g,_,S,U){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)ra(c,g[Y],_,S,U);else S=y(S)?!!S.capture:!!S,_=iu(_),c&&c[je]?(c=c.i,g=String(g).toString(),g in c.g&&(Y=c.g[g],_=na(Y,_,S,U),-1<_&&(Wn(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[g],c.h--)))):c&&(c=ml(c))&&(g=c.g[g.toString()],c=-1,g&&(c=na(g,_,S,U)),(_=-1<c?g[c]:null)&&hs(_))}function hs(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[je])us(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(sa(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=ml(g))?(us(_,c),_.h==0&&(_.src=null,g[qn]=null)):Wn(c)}}}function sa(c){return c in cs?cs[c]:cs[c]="on"+c}function jh(c,g){if(c.da)c=!0;else{g=new Ee(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&hs(c),c=_.call(S,g)}return c}function ml(c){return c=c[qn],c instanceof Ti?c:null}var kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function iu(c){return typeof c=="function"?c:(c[kt]||(c[kt]=function(g){return c.handleEvent(g)}),c[kt])}function Rt(){J.call(this),this.i=new Ti(this),this.M=this,this.F=null}L(Rt,J),Rt.prototype[je]=!0,Rt.prototype.removeEventListener=function(c,g,_,S){ra(this,c,g,_,S)};function Dt(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new se(g,c);else if(g instanceof se)g.target=g.target||c;else{var U=g;g=new se(S,c),V(g,U)}if(U=!0,_)for(var Y=_.length-1;0<=Y;Y--){var ae=g.g=_[Y];U=Si(ae,S,!0,g)&&U}if(ae=g.g=c,U=Si(ae,S,!0,g)&&U,U=Si(ae,S,!1,g)&&U,_)for(Y=0;Y<_.length;Y++)ae=g.g=_[Y],U=Si(ae,S,!1,g)&&U}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)Wn(_[S]);delete c.g[g],c.h--}}this.F=null},Rt.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},Rt.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function Si(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,Y=0;Y<g.length;++Y){var ae=g[Y];if(ae&&!ae.da&&ae.capture==_){var Qe=ae.listener,vt=ae.ha||ae.src;ae.fa&&us(c.i,ae),U=Qe.call(vt,S)!==!1&&U}}return U&&!S.defaultPrevented}function ru(c,g,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function pl(c){c.g=ru(()=>{c.g=null,c.i&&(c.i=!1,pl(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ph extends J{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:pl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(c){J.call(this),this.h=c,this.g={}}L(fs,J);var rr=[];function Kt(c){ye(c.g,function(g,_){this.g.hasOwnProperty(_)&&hs(g)},c),c.g={}}fs.prototype.N=function(){fs.aa.N.call(this),Kt(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=m.JSON.stringify,Wt=m.JSON.parse,kh=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function gl(){}gl.prototype.h=null;function su(c){return c.h||(c.h=c.i())}function ds(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sr(){se.call(this,"d")}L(sr,se);function Hn(){se.call(this,"c")}L(Hn,se);var Nn={},ar=null;function aa(){return ar=ar||new Rt}Nn.La="serverreachability";function yl(c){se.call(this,Nn.La,c)}L(yl,se);function Ai(c){const g=aa();Dt(g,new yl(g))}Nn.STAT_EVENT="statevent";function lr(c,g){se.call(this,Nn.STAT_EVENT,c),this.stat=g}L(lr,se);function Ut(c){const g=aa();Dt(g,new lr(g,c))}Nn.Ma="timingevent";function vl(c,g){se.call(this,Nn.Ma,c),this.size=g}L(vl,se);function or(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function ur(){this.g=!0}ur.prototype.xa=function(){this.g=!1};function _l(c,g,_,S,U,Y){c.info(function(){if(c.g)if(Y)for(var ae="",Qe=Y.split("&"),vt=0;vt<Qe.length;vt++){var Re=Qe[vt].split("=");if(1<Re.length){var Vt=Re[0];Re=Re[1];var Mt=Vt.split("_");ae=2<=Mt.length&&Mt[1]=="type"?ae+(Vt+"="+Re+"&"):ae+(Vt+"=redacted&")}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+g+`
`+_+`
`+ae})}function El(c,g,_,S,U,Y,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+g+`
`+_+`
`+Y+" "+ae})}function wi(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ti(c,_)+(S?" "+S:"")})}function au(c,g){c.info(function(){return"TIMEOUT: "+g})}ur.prototype.info=function(){};function ti(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var Y=U[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ae=1;ae<U.length;ae++)U[ae]=""}}}}return Cn(_)}catch{return g}}var ut={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ni;function cr(){}L(cr,gl),cr.prototype.g=function(){return new XMLHttpRequest},cr.prototype.i=function(){return{}},ni=new cr;function ii(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lu}function lu(){this.i=null,this.g="",this.h=!1}var bl={},xi={};function ms(c,g,_){c.L=1,c.v=ys(ct(g)),c.m=_,c.P=!0,Ri(c,null)}function Ri(c,g){c.F=Date.now(),Fn(c),c.A=ct(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Ii(_.i,"t",S),c.C=0,_=c.j.J,c.h=new lu,c.g=Su(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Ph(w(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(rr[0]=U.toString()),U=rr);for(var Y=0;Y<U.length;Y++){var ae=ia(_,U[Y],S||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Ai(),_l(c.i,c.u,c.A,c.l,c.R,c.m)}ii.prototype.ca=function(c){c=c.target;const g=this.M;g&&nn(c)==3?g.j():this.Y(c)},ii.prototype.Y=function(c){try{if(c==this.g)e:{const Mt=nn(this.g);var g=this.g.Ba();const Sr=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||Es(this.g)))){this.J||Mt!=4||g==7||(g==8||0>=Sr?Ai(3):Ai(2)),la(this);var _=this.g.Z();this.X=_;t:if(Ci(this)){var S=Es(this.g);c="";var U=S.length,Y=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),hr(this);var ae="";break t}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(Y&&g==U-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,El(this.i,this.u,this.A,this.l,this.R,Mt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,vt=this.g;if((Qe=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Qe)){var Re=Qe;break t}}Re=null}if(_=Re)wi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ri(this,_);else{this.o=!1,this.s=3,Ut(12),en(this),hr(this);break e}}if(this.P){_=!0;let ln;for(;!this.J&&this.C<ae.length;)if(ln=ps(this,ae),ln==xi){Mt==4&&(this.s=4,Ut(14),_=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==bl){this.s=4,Ut(15),wi(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else wi(this.i,this.l,ln,null),ri(this,ln);if(Ci(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||ae.length!=0||this.h.h||(this.s=1,Ut(16),_=!1),this.o=this.o&&_,!_)wi(this.i,this.l,ae,"[Invalid Chunked Response]"),en(this),hr(this);else if(0<ae.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ol(Vt),Vt.M=!0,Ut(11))}}else wi(this.i,this.l,ae,null),ri(this,ae);Mt==4&&en(this),this.o&&!this.J&&(Mt==4?Eu(this.j,this):(this.o=!1,Fn(this)))}else mu(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),en(this),hr(this)}}}catch{}finally{}};function Ci(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ps(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?xi:(_=Number(g.substring(_,S)),isNaN(_)?bl:(S+=1,S+_>g.length?xi:(g=g.slice(S,S+_),c.C=S+_,g)))}ii.prototype.cancel=function(){this.J=!0,en(this)};function Fn(c){c.S=Date.now()+c.I,dt(c,c.I)}function dt(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=or(w(c.ba,c),g)}function la(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ii.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(au(this.i,this.A),this.L!=2&&(Ai(),Ut(17)),en(this),this.s=2,hr(this)):dt(this,this.S-c)};function hr(c){c.j.G==0||c.J||Eu(c.j,c)}function en(c){la(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Kt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ri(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||fr(_.h,c))){if(!c.K&&fr(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)br(_),Er(_);else break e;Dl(_),Ut(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=or(w(_.Za,_),6e3));if(1>=ou(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Oi(_,11)}else if((c.K||_.g==c)&&br(_),!ne(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let Re=U[g];if(_.T=Re[0],Re=Re[1],_.G==2)if(Re[0]=="c"){_.K=Re[1],_.ia=Re[2];const Vt=Re[3];Vt!=null&&(_.la=Vt,_.j.info("VER="+_.la));const Mt=Re[4];Mt!=null&&(_.Aa=Mt,_.j.info("SVER="+_.Aa));const Sr=Re[5];Sr!=null&&typeof Sr=="number"&&0<Sr&&(S=1.5*Sr,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const ln=c.g;if(ln){const Ss=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var Y=S.h;Y.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(dr(Y,Y.h),Y.h=null))}if(S.D){const Vi=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Vi&&(S.ya=Vi,Be(S.I,S.D,Vi))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ae=c;if(S.qa=Tu(S,S.J?S.ia:null,S.W),ae.K){In(S.h,ae);var Qe=ae,vt=S.L;vt&&(Qe.I=vt),Qe.B&&(la(Qe),Fn(Qe)),S.g=ae}else vu(S);0<_.i.length&&pa(_)}else Re[0]!="stop"&&Re[0]!="close"||Oi(_,7);else _.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Oi(_,7):Nl(_):Re[0]!="noop"&&_.l&&_.l.ta(Re),_.v=0)}}Ai(4)}catch{}}var Uh=class{constructor(c,g){this.g=c,this.map=g}};function Tl(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ou(c){return c.h?1:c.g?c.g.size:0}function fr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function dr(c,g){c.g?c.g.add(g):c.h=g}function In(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Tl.prototype.cancel=function(){if(this.i=tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return Q(c.i)}function uu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function zh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function oa(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=zh(c),S=uu(c),U=S.length,Y=0;Y<U;Y++)g.call(void 0,S[Y],_&&_[Y],c)}var Al=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),U=null;if(0<=S){var Y=c[_].substring(0,S);U=c[_].substring(S+1)}else Y=c[_];g(Y,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ni(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ni){this.h=c.h,mr(this,c.j),this.o=c.o,this.g=c.g,gs(this,c.s),this.l=c.l;var g=c.i,_=new si;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),ca(this,_),this.m=c.m}else c&&(g=String(c).match(Al))?(this.h=!1,mr(this,g[1]||"",!0),this.o=pr(g[2]||""),this.g=pr(g[3]||"",!0),gs(this,g[4]),this.l=pr(g[5]||"",!0),ca(this,g[6]||"",!0),this.m=pr(g[7]||"")):(this.h=!1,this.i=new si(null,this.h))}Ni.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Dn(g,wl,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Dn(g,wl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Dn(_,_.charAt(0)=="/"?xl:cu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Dn(_,Hh)),c.join("")};function ct(c){return new Ni(c)}function mr(c,g,_){c.j=_?pr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function gs(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ca(c,g,_){g instanceof si?(c.i=g,hu(c.i,c.h)):(_||(g=Dn(g,qh)),c.i=new si(g,c.h))}function Be(c,g,_){c.i.set(g,_)}function ys(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function pr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dn(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Bh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Bh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var wl=/[#\/\?@]/g,cu=/[#\?:]/g,xl=/[#\?]/g,qh=/[#\?@]/g,Hh=/#/g;function si(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Ot(c){c.g||(c.g=new Map,c.h=0,c.i&&ua(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=si.prototype,r.add=function(c,g){Ot(this),this.i=null,c=vn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function ha(c,g){Ot(c),g=vn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function fa(c,g){return Ot(c),g=vn(c,g),c.g.has(g)}r.forEach=function(c,g){Ot(this),this.g.forEach(function(_,S){_.forEach(function(U){c.call(g,U,S,this)},this)},this)},r.na=function(){Ot(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const U=c[S];for(let Y=0;Y<U.length;Y++)_.push(g[S])}return _},r.V=function(c){Ot(this);let g=[];if(typeof c=="string")fa(this,c)&&(g=g.concat(this.g.get(vn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return Ot(this),this.i=null,c=vn(this,c),fa(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Ii(c,g,_){ha(c,g),0<_.length&&(c.i=null,c.g.set(vn(c,g),Q(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const Y=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var U=Y;ae[S]!==""&&(U+="="+encodeURIComponent(String(ae[S]))),c.push(U)}}return this.i=c.join("&")};function vn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function hu(c,g){g&&!c.j&&(Ot(c),c.i=null,c.g.forEach(function(_,S){var U=S.toLowerCase();S!=U&&(ha(this,S),Ii(this,U,_))},c)),c.j=g}function Rl(c,g){const _=new ur;if(m.Image){const S=new Image;S.onload=D(an,_,"TestLoadImage: loaded",!0,g,S),S.onerror=D(an,_,"TestLoadImage: error",!1,g,S),S.onabort=D(an,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=D(an,_,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function fu(c,g){const _=new ur,S=new AbortController,U=setTimeout(()=>{S.abort(),an(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(U),Y.ok?an(_,"TestPingServer: ok",!0,g):an(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),an(_,"TestPingServer: error",!1,g)})}function an(c,g,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function Gn(){this.g=new kh}function Cl(c,g,_){const S=_||"";try{oa(c,function(U,Y){let ae=U;y(U)&&(ae=Cn(U)),g.push(S+Y+"="+encodeURIComponent(ae))})}catch(U){throw g.push(S+"type="+encodeURIComponent("_badmap")),U}}function ai(c){this.l=c.Ub||null,this.j=c.eb||!1}L(ai,gl),ai.prototype.g=function(){return new _n(this.l,this.j)},ai.prototype.i=(function(c){return function(){return c}})({});function _n(c,g){Rt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(_n,Rt),r=_n.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,gr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,li(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;da(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function da(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?li(this):gr(this),this.readyState==3&&da(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,li(this))},r.Qa=function(c){this.g&&(this.response=c,li(this))},r.ga=function(){this.g&&li(this)};function li(c){c.readyState=4,c.l=null,c.j=null,c.v=null,gr(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function gr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_n.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vs(c){let g="";return ye(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function yr(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=vs(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Be(c,g,_))}function tt(c){Rt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(tt,Rt);var Xt=/^https?$/i,Di=["POST","PUT"];r=tt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ni.g(),this.v=this.o?su(this.o):su(ni),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){_s(this,Y);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())_.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Di,g,void 0))||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of _)this.g.setRequestHeader(Y,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ma(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){_s(this,Y)}};function _s(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,vr(c),_r(c)}function vr(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Dt(this,"complete"),Dt(this,"abort"),_r(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),tt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?du(this):this.bb())},r.bb=function(){du(this)};function du(c){if(c.h&&typeof f<"u"&&(!c.v[1]||nn(c)!=4||c.Z()!=2)){if(c.u&&nn(c)==4)ru(c.Ea,0,c);else if(Dt(c,"readystatechange"),nn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=ae===0){var U=String(c.D).match(Al)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),S=!Xt.test(U?U.toLowerCase():"")}_=S}if(_)Dt(c,"complete"),Dt(c,"success");else{c.m=6;try{var Y=2<nn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",vr(c)}}finally{_r(c)}}}}function _r(c,g){if(c.g){ma(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Dt(c,"ready");try{_.onreadystatechange=S}catch{}}}function ma(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function nn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Wt(g)}};function Es(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function mu(c){const g={};c=(c.g&&2<=nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ne(c[S]))continue;var _=j(c[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=g[U]||[];g[U]=Y,Y.push(_)}I(g,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function pu(c){this.Aa=0,this.i=[],this.j=new ur,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bs("baseRetryDelayMs",5e3,c),this.cb=bs("retryDelaySeedMs",1e4,c),this.Wa=bs("forwardChannelMaxRetries",2,c),this.wa=bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Tl(c&&c.concurrentRequestLimit),this.Da=new Gn,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=pu.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,S){Ut(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Tu(this,null,this.W),pa(this)};function Nl(c){if(gu(c),c.G==3){var g=c.U++,_=ct(c.I);if(Be(_,"SID",c.K),Be(_,"RID",g),Be(_,"TYPE","terminate"),Ts(c,_),g=new ii(c,c.j,g),g.L=2,g.v=ys(ct(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Su(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Fn(g)}Vl(c)}function Er(c){c.g&&(Ol(c),c.g.cancel(),c.g=null)}function gu(c){Er(c),c.u&&(m.clearTimeout(c.u),c.u=null),br(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function pa(c){if(!Sl(c.h)&&!c.s){c.s=!0;var g=c.Ga;le||ze(),de||(le(),de=!0),Le.add(g,c),c.B=0}}function Fh(c,g){return ou(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=or(w(c.Ga,c,g),bu(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new ii(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=x(Y),V(Y,this.S)):Y=this.S),this.m!==null||this.O||(U.H=Y,Y=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Il(this,U,g),_=ct(this.I),Be(_,"RID",c),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),Ts(this,_),Y&&(this.O?g="headers="+encodeURIComponent(String(vs(Y)))+"&"+g:this.m&&yr(_,this.m,Y)),dr(this.h,U),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",g),Be(_,"SID","null"),U.T=!0,ms(U,_,null)):ms(U,_,g),this.G=2}}else this.G==3&&(c?yu(this,c):this.i.length==0||Sl(this.h)||yu(this))};function yu(c,g){var _;g?_=g.l:_=c.U++;const S=ct(c.I);Be(S,"SID",c.K),Be(S,"RID",_),Be(S,"AID",c.T),Ts(c,S),c.m&&c.o&&yr(S,c.m,c.o),_=new ii(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Il(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),dr(c.h,_),ms(_,S,g)}function Ts(c,g){c.H&&ye(c.H,function(_,S){Be(g,S,_)}),c.l&&oa({},function(_,S){Be(g,S,_)})}function Il(c,g,_){_=Math.min(c.i.length,_);var S=c.l?w(c.l.Na,c.l,c):null;e:{var U=c.i;let Y=-1;for(;;){const ae=["count="+_];Y==-1?0<_?(Y=U[0].g,ae.push("ofs="+Y)):Y=0:ae.push("ofs="+Y);let Qe=!0;for(let vt=0;vt<_;vt++){let Re=U[vt].g;const Vt=U[vt].map;if(Re-=Y,0>Re)Y=Math.max(0,U[vt].g-100),Qe=!1;else try{Cl(Vt,ae,"req"+Re+"_")}catch{S&&S(Vt)}}if(Qe){S=ae.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function vu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;le||ze(),de||(le(),de=!0),Le.add(g,c),c.v=0}}function Dl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=or(w(c.Fa,c),bu(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=or(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Er(this),_u(this))};function Ol(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function _u(c){c.g=new ii(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ct(c.qa);Be(g,"RID","rpc"),Be(g,"SID",c.K),Be(g,"AID",c.T),Be(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(g,"TO",c.ja),Be(g,"TYPE","xmlhttp"),Ts(c,g),c.m&&c.o&&yr(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ys(ct(g)),_.m=null,_.P=!0,Ri(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Er(this),Dl(this),Ut(19))};function br(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Eu(c,g){var _=null;if(c.g==g){br(c),Ol(c),c.g=null;var S=2}else if(fr(c.h,g))_=g.D,In(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;S=aa(),Dt(S,new vl(S,_)),pa(c)}else vu(c);else if(U=g.s,U==3||U==0&&0<g.X||!(S==1&&Fh(c,g)||S==2&&Dl(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),U){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function bu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Oi(c,g){if(c.j.info("Error code "+g),g==2){var _=w(c.fb,c),S=c.Xa;const U=!S;S=new Ni(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||mr(S,"https"),ys(S),U?Rl(S.toString(),_):fu(S.toString(),_)}else Ut(2);c.G=0,c.l&&c.l.sa(g),Vl(c),gu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Vl(c){if(c.G=0,c.ka=[],c.l){const g=tn(c.h);(g.length!=0||c.i.length!=0)&&(z(c.ka,g),z(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Tu(c,g,_){var S=_ instanceof Ni?ct(_):new Ni(_);if(S.g!="")g&&(S.g=g+"."+S.g),gs(S,S.s);else{var U=m.location;S=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var Y=new Ni(null);S&&mr(Y,S),g&&(Y.g=g),U&&gs(Y,U),_&&(Y.l=_),S=Y}return _=c.D,g=c.ya,_&&g&&Be(S,_,g),Be(S,"VER",c.la),Ts(c,S),S}function Su(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new tt(new ai({eb:_})):new tt(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ga(){}ga.prototype.g=function(c,g){return new rn(c,g)};function rn(c,g){Rt.call(this),this.g=new pu(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ne(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ne(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Tr(this)}L(rn,Rt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Nl(this.g)},rn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Cn(c),c=_);g.i.push(new Uh(g.Ya++,c)),g.G==3&&pa(g)},rn.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,rn.aa.N.call(this)};function wu(c){sr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}L(wu,sr);function xu(){Hn.call(this),this.status=1}L(xu,Hn);function Tr(c){this.g=c}L(Tr,Au),Tr.prototype.ua=function(){Dt(this.g,"a")},Tr.prototype.ta=function(c){Dt(this.g,new wu(c))},Tr.prototype.sa=function(c){Dt(this.g,new xu)},Tr.prototype.ra=function(){Dt(this.g,"b")},ga.prototype.createWebChannel=ga.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,vE=function(){return new ga},yE=function(){return aa()},gE=Nn,fm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ut.NO_ERROR=0,ut.TIMEOUT=8,ut.HTTP_ERROR=6,Uc=ut,zt.COMPLETE="complete",pE=zt,ds.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,bo=ds,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,mE=tt}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const T_="@firebase/firestore",S_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Bm("@firebase/firestore");function Ga(){return Gs.logLevel}function ue(r,...e){if(Gs.logLevel<=Ve.DEBUG){const n=e.map(Fm);Gs.debug(`Firestore (${ol}): ${r}`,...n)}}function tr(r,...e){if(Gs.logLevel<=Ve.ERROR){const n=e.map(Fm);Gs.error(`Firestore (${ol}): ${r}`,...n)}}function Qs(r,...e){if(Gs.logLevel<=Ve.WARN){const n=e.map(Fm);Gs.warn(`Firestore (${ol}): ${r}`,...n)}}function Fm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,_E(r,s,n)}function _E(r,e,n){let s=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw tr(s),new Error(s)}function Ye(r,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||_E(e,l,s)}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ox{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(dn.UNAUTHENTICATED)))}shutdown(){}}class ux{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ji,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ji)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new lx(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class cx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new cx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const l=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new A_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=dx(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=e.charAt(l[u]%62))}return s}}function Ce(r,e){return r<e?-1:r>e?1:0}function dm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),l=e.codePointAt(n);if(s!==l){if(s<128&&l<128)return Ce(s,l);{const u=EE(),f=mx(u.encode(w_(r,n)),u.encode(w_(e,n)));return f!==0?f:Ce(s,l)}}n+=s>65535?2:1}return Ce(r.length,e.length)}function w_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function mx(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ce(r[n],e[n]);return Ce(r.length,e.length)}function Wa(r,e,n){return r.length===e.length&&r.every(((s,l)=>n(s,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="__name__";class fi{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&_e(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=fi.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=fi.isNumericId(e),l=fi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?fi.extractNumericId(e).compare(fi.extractNumericId(n)):dm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jr.fromString(e.substring(4,e.length-2))}}class et extends fi{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const px=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends fi{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return px.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x_}static keyField(){return new Qt([x_])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(s+=m,l++):(u(),l++)}if(u(),f)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(et.fromString(e))}static fromName(e){return new ge(et.fromString(e).popFirst(5))}static empty(){return new ge(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(r,e,n){if(!n)throw new oe(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function gx(r,e,n,s){if(e===!0&&s===!0)throw new oe(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function R_(r){if(!ge.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function C_(r){if(ge.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function TE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function yh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function vi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yh(r);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Yo(r,e){if(!TE(r))throw new oe(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(l&&typeof f!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=-62135596800,I_=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*I_);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<N_)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I_}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yo(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:wt("string",rt._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new rt(0,0))}static max(){return new be(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=-1;function yx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=be.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new ts(l,ge.empty(),e)}function vx(r){return new ts(r.readTime,r.key,Lo)}class ts{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ts(be.min(),ge.empty(),Lo)}static max(){return new ts(be.max(),ge.empty(),Lo)}}function _x(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==Ex)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let l=0,u=0,f=!1;e.forEach((m=>{++l,m.next((()=>{++u,f&&u===l&&n()}),(p=>s(p)))})),f=!0,u===l&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((l=>l?te.resolve(l):s()));return n}static forEach(e,n){const s=[];return e.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,l)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((b=>{f[y]=b,++m,m===u&&s(f)}),(b=>l(b)))}}))}static doWhile(e,n){return new te(((s,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):s()};u()}))}}function Tx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}vh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=-1;function _h(r){return r==null}function Kc(r){return r===0&&1/r==-1/0}function Sx(r){return typeof r=="number"&&Number.isInteger(r)&&!Kc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="";function Ax(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=D_(e)),e=wx(r.get(n),e);return D_(e)}function wx(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case SE:n+="";break;default:n+=u}}return n}function D_(r){return r+SE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ls(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function AE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=l??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new Gt(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,s,l,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V_(this.data.getIterator())}getIteratorFrom(e){return new V_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class V_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Nt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wE("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const xx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(r){if(Ye(!!r,39018),typeof r=="string"){let e=0;const n=xx.exec(r);if(Ye(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function is(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="server_timestamp",RE="__type__",CE="__previous_value__",NE="__local_write_time__";function Ym(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[RE])===null||n===void 0?void 0:n.stringValue)===xE}function Eh(r){const e=r.mapValue.fields[CE];return Ym(e)?Eh(e):e}function jo(r){const e=ns(r.mapValue.fields[NE].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n,s,l,u,f,m,p,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=b}}const Xc="(default)";class Po{constructor(e,n){this.projectId=e,this.database=n||Xc}static empty(){return new Po("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(e){return e instanceof Po&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="__type__",Cx="__max__",Vc={mapValue:{}},DE="__vector__",$c="value";function rs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ym(r)?4:Ix(r)?9007199254740991:Nx(r)?10:11:_e(28295,{value:r})}function _i(r,e){if(r===e)return!0;const n=rs(r);if(n!==rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return jo(r).isEqual(jo(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=ns(l.timestampValue),m=ns(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,u){return is(l.bytesValue).isEqual(is(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,u){return gt(l.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(l.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return gt(l.integerValue)===gt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=gt(l.doubleValue),m=gt(u.doubleValue);return f===m?Kc(f)===Kc(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return Wa(r.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(O_(f)!==O_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!_i(f[p],m[p])))return!1;return!0})(r,e);default:return _e(52216,{left:r})}}function ko(r,e){return(r.values||[]).find((n=>_i(n,e)))!==void 0}function el(r,e){if(r===e)return 0;const n=rs(r),s=rs(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=gt(u.integerValue||u.doubleValue),p=gt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return M_(r.timestampValue,e.timestampValue);case 4:return M_(jo(r),jo(e));case 5:return dm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=is(u),p=is(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const b=Ce(m[y],p[y]);if(b!==0)return b}return Ce(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ce(gt(u.latitude),gt(f.latitude));return m!==0?m:Ce(gt(u.longitude),gt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return L_(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var m,p,y,b;const A=u.fields||{},w=f.fields||{},D=(m=A[$c])===null||m===void 0?void 0:m.arrayValue,L=(p=w[$c])===null||p===void 0?void 0:p.arrayValue,Q=Ce(((y=D?.values)===null||y===void 0?void 0:y.length)||0,((b=L?.values)===null||b===void 0?void 0:b.length)||0);return Q!==0?Q:L_(D,L)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Vc.mapValue&&f===Vc.mapValue)return 0;if(u===Vc.mapValue)return 1;if(f===Vc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let A=0;A<p.length&&A<b.length;++A){const w=dm(p[A],b[A]);if(w!==0)return w;const D=el(m[p[A]],y[b[A]]);if(D!==0)return D}return Ce(p.length,b.length)})(r.mapValue,e.mapValue);default:throw _e(23264,{le:n})}}function M_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const n=ns(r),s=ns(e),l=Ce(n.seconds,s.seconds);return l!==0?l:Ce(n.nanos,s.nanos)}function L_(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=el(n[l],s[l]);if(u)return u}return Ce(n.length,s.length)}function tl(r){return mm(r)}function mm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ns(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return is(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=mm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${mm(n.fields[f])}`;return l+"}"})(r.mapValue):_e(61005,{value:r})}function zc(r){switch(rs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Eh(r);return e?16+zc(e):16;case 5:return 2*r.stringValue.length;case 6:return is(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+zc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return ls(s.fields,((u,f)=>{l+=u.length+zc(f)})),l})(r.mapValue);default:throw _e(13486,{value:r})}}function j_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function pm(r){return!!r&&"integerValue"in r}function Km(r){return!!r&&"arrayValue"in r}function P_(r){return!!r&&"nullValue"in r}function k_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bc(r){return!!r&&"mapValue"in r}function Nx(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[IE])===null||n===void 0?void 0:n.stringValue)===DE}function Ro(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ls(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ro(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ro(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Ix(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Cx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Bc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ro(n)}setAll(e){let n=Qt.emptyPath(),s={},l=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=m.popLast()}f?s[m.lastSegment()]=Ro(f):l.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());Bc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){ls(n,((l,u)=>e[l]=u));for(const l of s)delete e[l]}clone(){return new pn(Ro(this.value))}}function OE(r){const e=[];return ls(r.fields,((n,s)=>{const l=new Qt([n]);if(Bc(s)){const u=OE(s.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,l,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,be.min(),be.min(),be.min(),pn.empty(),0)}static newFoundDocument(e,n,s,l){return new Zt(e,1,n,be.min(),s,l,0)}static newNoDocument(e,n){return new Zt(e,2,n,be.min(),be.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,be.min(),be.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.position=e,this.inclusive=n}}function U_(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const u=e[l],f=r.position[l];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=el(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function z_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!_i(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Dx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{}class At extends VE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Vx(e,n,s):n==="array-contains"?new jx(e,s):n==="in"?new Px(e,s):n==="not-in"?new kx(e,s):n==="array-contains-any"?new Ux(e,s):new At(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Mx(e,s):new Lx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(el(n,this.value)):n!==null&&rs(this.value)===rs(n)&&this.matchesComparison(el(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends VE{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Zn(e,n)}matches(e){return ME(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function ME(r){return r.op==="and"}function LE(r){return Ox(r)&&ME(r)}function Ox(r){for(const e of r.filters)if(e instanceof Zn)return!1;return!0}function gm(r){if(r instanceof At)return r.field.canonicalString()+r.op.toString()+tl(r.value);if(LE(r))return r.filters.map((e=>gm(e))).join(",");{const e=r.filters.map((n=>gm(n))).join(",");return`${r.op}(${e})`}}function jE(r,e){return r instanceof At?(function(s,l){return l instanceof At&&s.op===l.op&&s.field.isEqual(l.field)&&_i(s.value,l.value)})(r,e):r instanceof Zn?(function(s,l){return l instanceof Zn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,f,m)=>u&&jE(f,l.filters[m])),!0):!1})(r,e):void _e(19439)}function PE(r){return r instanceof At?(function(n){return`${n.field.canonicalString()} ${n.op} ${tl(n.value)}`})(r):r instanceof Zn?(function(n){return n.op.toString()+" {"+n.getFilters().map(PE).join(" ,")+"}"})(r):"Filter"}class Vx extends At{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mx extends At{constructor(e,n){super(e,"in",n),this.keys=kE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Lx extends At{constructor(e,n){super(e,"not-in",n),this.keys=kE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function kE(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>ge.fromName(s.referenceValue)))}class jx extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Km(n)&&ko(n.arrayValue,this.value)}}class Px extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ko(this.value.arrayValue,n)}}class kx extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ko(this.value.arrayValue,n)}}class Ux extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Km(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ko(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n=null,s=[],l=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function B_(r,e=null,n=[],s=[],l=null,u=null,f=null){return new zx(r,e,n,s,l,u,f)}function Xm(r){const e=Se(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>gm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),_h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>tl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>tl(s))).join(",")),e.Pe=n}return e.Pe}function $m(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Dx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!jE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!z_(r.startAt,e.startAt)&&z_(r.endAt,e.endAt)}function ym(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n=null,s=[],l=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Bx(r,e,n,s,l,u,f,m){return new Ko(r,e,n,s,l,u,f,m)}function Jm(r){return new Ko(r)}function q_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function UE(r){return r.collectionGroup!==null}function Co(r){const e=Se(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Nt(Qt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new Zc(u,s))})),n.has(Qt.keyField().canonicalString())||e.Te.push(new Zc(Qt.keyField(),s))}return e.Te}function mi(r){const e=Se(r);return e.Ie||(e.Ie=qx(e,Co(r))),e.Ie}function qx(r,e){if(r.limitType==="F")return B_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Zc(l.field,u)}));const n=r.endAt?new Jc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Jc(r.startAt.position,r.startAt.inclusive):null;return B_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function vm(r,e){const n=r.filters.concat([e]);return new Ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function _m(r,e,n){return new Ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function bh(r,e){return $m(mi(r),mi(e))&&r.limitType===e.limitType}function zE(r){return`${Xm(mi(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>PE(l))).join(", ")}]`),_h(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>tl(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>tl(l))).join(",")),`Target(${s})`})(mi(r))}; limitType=${r.limitType})`}function Th(r,e){return e.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,l){for(const u of Co(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(f,m,p){const y=U_(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,Co(s),l)||s.endAt&&!(function(f,m,p){const y=U_(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,Co(s),l))})(r,e)}function Hx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function BE(r){return(e,n)=>{let s=!1;for(const l of Co(r)){const u=Fx(l,e,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function Fx(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?el(p,y):_e(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,((n,s)=>{for(const[l,u]of s)e(l,u)}))}isEmpty(){return AE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=new ot(ge.comparator);function nr(){return Gx}const qE=new ot(ge.comparator);function To(...r){let e=qE;for(const n of r)e=e.insert(n.key,n);return e}function HE(r){let e=qE;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function zs(){return No()}function FE(){return No()}function No(){return new $s((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Qx=new ot(ge.comparator),Yx=new Nt(ge.comparator);function Me(...r){let e=Yx;for(const n of r)e=e.add(n);return e}const Kx=new Nt(Ce);function Xx(){return Kx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(e)?"-0":e}}function GE(r){return{integerValue:""+r}}function $x(r,e){return Sx(e)?GE(e):Zm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function Jx(r,e,n){return r instanceof Wc?(function(l,u){const f={fields:{[RE]:{stringValue:xE},[NE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Ym(u)&&(u=Eh(u)),u&&(f.fields[CE]=u),{mapValue:f}})(n,e):r instanceof Uo?YE(r,e):r instanceof zo?KE(r,e):(function(l,u){const f=QE(l,u),m=H_(f)+H_(l.Ee);return pm(f)&&pm(l.Ee)?GE(m):Zm(l.serializer,m)})(r,e)}function Zx(r,e,n){return r instanceof Uo?YE(r,e):r instanceof zo?KE(r,e):n}function QE(r,e){return r instanceof eh?(function(s){return pm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Wc extends Sh{}class Uo extends Sh{constructor(e){super(),this.elements=e}}function YE(r,e){const n=XE(e);for(const s of r.elements)n.some((l=>_i(l,s)))||n.push(s);return{arrayValue:{values:n}}}class zo extends Sh{constructor(e){super(),this.elements=e}}function KE(r,e){let n=XE(e);for(const s of r.elements)n=n.filter((l=>!_i(l,s)));return{arrayValue:{values:n}}}class eh extends Sh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function H_(r){return gt(r.integerValue||r.doubleValue)}function XE(r){return Km(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Wx(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof Uo&&l instanceof Uo||s instanceof zo&&l instanceof zo?Wa(s.elements,l.elements,_i):s instanceof eh&&l instanceof eh?_i(s.Ee,l.Ee):s instanceof Wc&&l instanceof Wc})(r.transform,e.transform)}class eR{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ah{}function $E(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Wm(r.key,Bn.none()):new Xo(r.key,r.data,Bn.none());{const n=r.data,s=pn.empty();let l=new Nt(Qt.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new os(r.key,s,new Rn(l.toArray()),Bn.none())}}function tR(r,e,n){r instanceof Xo?(function(l,u,f){const m=l.value.clone(),p=G_(l.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof os?(function(l,u,f){if(!qc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=G_(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(JE(l)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Io(r,e,n,s){return r instanceof Xo?(function(u,f,m,p){if(!qc(u.precondition,f))return m;const y=u.value.clone(),b=Q_(u.fieldTransforms,p,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof os?(function(u,f,m,p){if(!qc(u.precondition,f))return m;const y=Q_(u.fieldTransforms,p,f),b=f.data;return b.setAll(JE(u)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,e,n,s):(function(u,f,m){return qc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function nR(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),u=QE(s.transform,l||null);u!=null&&(n===null&&(n=pn.empty()),n.set(s.field,u))}return n||null}function F_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Wa(s,l,((u,f)=>Wx(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Xo extends Ah{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class os extends Ah{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function JE(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function G_(r,e,n){const s=new Map;Ye(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let l=0;l<n.length;l++){const u=r[l],f=u.transform,m=e.data.field(u.field);s.set(u.field,Zx(f,m,n[l]))}return s}function Q_(r,e,n){const s=new Map;for(const l of r){const u=l.transform,f=n.data.field(l.field);s.set(l.field,Jx(u,f,e))}return s}class Wm extends Ah{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iR extends Ah{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&tR(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Io(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Io(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=FE();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(l.key)?null:m;const p=$E(f,m);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Me())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,((n,s)=>F_(n,s)))&&Wa(this.baseMutations,e.baseMutations,((n,s)=>F_(n,s)))}}class ep{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let l=(function(){return Qx})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new ep(e,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,ke;function lR(r){switch(r){case W.OK:return _e(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function ZE(r){if(r===void 0)return tr("GRPC error has no .code"),W.UNKNOWN;switch(r){case St.OK:return W.OK;case St.CANCELLED:return W.CANCELLED;case St.UNKNOWN:return W.UNKNOWN;case St.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case St.INTERNAL:return W.INTERNAL;case St.UNAVAILABLE:return W.UNAVAILABLE;case St.UNAUTHENTICATED:return W.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case St.NOT_FOUND:return W.NOT_FOUND;case St.ALREADY_EXISTS:return W.ALREADY_EXISTS;case St.PERMISSION_DENIED:return W.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case St.ABORTED:return W.ABORTED;case St.OUT_OF_RANGE:return W.OUT_OF_RANGE;case St.UNIMPLEMENTED:return W.UNIMPLEMENTED;case St.DATA_LOSS:return W.DATA_LOSS;default:return _e(39323,{code:r})}}(ke=St||(St={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=new Jr([4294967295,4294967295],0);function Y_(r){const e=EE().encode(r),n=new dE;return n.update(e),new Uint8Array(n.digest())}function K_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Jr([n,s],0),new Jr([l,u],0)]}class tp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new So(`Invalid padding: ${n}`);if(s<0)throw new So(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new So(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new So(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Jr.fromNumber(this.fe)}pe(e,n,s){let l=e.add(n.multiply(Jr.fromNumber(s)));return l.compare(oR)===1&&(l=new Jr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=Y_(e),[s,l]=K_(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,l,u);if(!this.ye(f))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new tp(u,l,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.fe===0)return;const n=Y_(e),[s,l]=K_(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,l,u);this.we(f)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class So extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,$o.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new wh(be.min(),l,new ot(Ce),nr(),Me())}}class $o{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new $o(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n,s,l){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=l}}class WE{constructor(e,n){this.targetId=e,this.De=n}}class eb{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class X_{constructor(){this.ve=0,this.Ce=$_(),this.Fe=Yt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Me(),n=Me(),s=Me();return this.Ce.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:_e(38017,{changeType:u})}})),new $o(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=$_()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class uR{constructor(e){this.We=e,this.Ge=new Map,this.ze=nr(),this.je=Mc(),this.Je=Mc(),this.He=new ot(Ce)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((s,l)=>{this.nt(l)&&n(l)}))}it(e){const n=e.targetId,s=e.De.count,l=this.st(n);if(l){const u=l.target;if(ym(u))if(s===0){const f=new ge(u.path);this.Xe(n,f,Zt.newNoDocument(f,be.min()))}else Ye(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(e),p=m?this.ut(m,e,f):1;if(p!==0){this.rt(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,y)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,m;try{f=is(s).toUint8Array()}catch(p){if(p instanceof wE)return Qs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new tp(f,l,u)}catch(p){return Qs(p instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),l++)})),l}Pt(e){const n=new Map;this.Ge.forEach(((u,f)=>{const m=this.st(f);if(m){if(u.current&&ym(m.target)){const p=new ge(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,Zt.newNoDocument(p,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}}));let s=Me();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.st(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,f)=>f.setReadTime(e)));const l=new wh(e,n,this.He,this.ze,s);return this.ze=nr(),this.je=Mc(),this.Je=Mc(),this.He=new ot(Ce),l}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const l=this.tt(e);this.It(e,n)?l.qe(n,1):l.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new X_,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Nt(Ce),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Nt(Ce),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new X_),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Mc(){return new ot(ge.comparator)}function $_(){return new ot(ge.comparator)}const cR={asc:"ASCENDING",desc:"DESCENDING"},hR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fR={and:"AND",or:"OR"};class dR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Em(r,e){return r.useProto3Json||_h(e)?e:{value:e}}function th(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function mR(r,e){return th(r,e.toTimestamp())}function pi(r){return Ye(!!r,49232),be.fromTimestamp((function(n){const s=ns(n);return new rt(s.seconds,s.nanos)})(r))}function np(r,e){return bm(r,e).canonicalString()}function bm(r,e){const n=(function(l){return new et(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function nb(r){const e=et.fromString(r);return Ye(lb(e),10190,{key:e.toString()}),e}function Tm(r,e){return np(r.databaseId,e.path)}function Zd(r,e){const n=nb(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(rb(n))}function ib(r,e){return np(r.databaseId,e)}function pR(r){const e=nb(r);return e.length===4?et.emptyPath():rb(e)}function Sm(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rb(r){return Ye(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function J_(r,e,n){return{name:Tm(r,e),fields:n.value.mapValue.fields}}function gR(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Ye(b===void 0||typeof b=="string",58123),Yt.fromBase64String(b||"")):(Ye(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Yt.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const b=y.code===void 0?W.UNKNOWN:ZE(y.code);return new oe(b,y.message||"")})(f);n=new eb(s,l,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Zd(r,s.document.name),u=pi(s.document.updateTime),f=s.document.createTime?pi(s.document.createTime):be.min(),m=new pn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(l,u,f,m),y=s.targetIds||[],b=s.removedTargetIds||[];n=new Hc(y,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Zd(r,s.document),u=s.readTime?pi(s.readTime):be.min(),f=Zt.newNoDocument(l,u),m=s.removedTargetIds||[];n=new Hc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Zd(r,s.document),u=s.removedTargetIds||[];n=new Hc([],u,l,null)}else{if(!("filter"in e))return _e(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new aR(l,u),m=s.targetId;n=new WE(m,f)}}return n}function yR(r,e){let n;if(e instanceof Xo)n={update:J_(r,e.key,e.value)};else if(e instanceof Wm)n={delete:Tm(r,e.key)};else if(e instanceof os)n={update:J_(r,e.key,e.data),updateMask:xR(e.fieldMask)};else{if(!(e instanceof iR))return _e(16599,{Rt:e.type});n={verify:Tm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Wc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Uo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof zo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof eh)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw _e(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:mR(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(r,e.precondition)),n}function vR(r,e){return r&&r.length>0?(Ye(e!==void 0,14353),r.map((n=>(function(l,u){let f=l.updateTime?pi(l.updateTime):pi(u);return f.isEqual(be.min())&&(f=pi(u)),new eR(f,l.transformResults||[])})(n,e)))):[]}function _R(r,e){return{documents:[ib(r,e.path)]}}function ER(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ib(r,l);const u=(function(y){if(y.length!==0)return ab(Zn.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((b=>(function(w){return{field:Ya(w.field),direction:SR(w.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Em(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{Vt:n,parent:l}}function bR(r){let e=pR(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ye(s===1,65062);const b=n.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(A){const w=sb(A);return w instanceof Zn&&LE(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((w=>(function(L){return new Zc(Ka(L.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let w;return w=typeof A=="object"?A.value:A,_h(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(A){const w=!!A.before,D=A.values||[];return new Jc(D,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const w=!A.before,D=A.values||[];return new Jc(D,w)})(n.endAt)),Bx(e,l,f,u,m,"F",p,y)}function TR(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ka(n.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(n.unaryFilter.field);return At.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ka(n.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ka(n.unaryFilter.field);return At.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(n){return At.create(Ka(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Zn.create(n.compositeFilter.filters.map((s=>sb(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(r):_e(30097,{filter:r})}function SR(r){return cR[r]}function AR(r){return hR[r]}function wR(r){return fR[r]}function Ya(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Qt.fromServerFormat(r.fieldPath)}function ab(r){return r instanceof At?(function(n){if(n.op==="=="){if(k_(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NAN"}};if(P_(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(k_(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NAN"}};if(P_(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(n.field),op:AR(n.op),value:n.value}}})(r):r instanceof Zn?(function(n){const s=n.getFilters().map((l=>ab(l)));return s.length===1?s[0]:{compositeFilter:{op:wR(n.op),filters:s}}})(r):_e(54877,{filter:r})}function xR(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function lb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,s,l,u=be.min(),f=be.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.gt=e}}function CR(r){const e=bR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_m(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.Dn=new IR}addToCollectionParentIndex(e,n){return this.Dn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ts.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class IR{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Nt(et.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Nt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ob=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(ob,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new nl(0)}static ur(){return new nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="LruGarbageCollector",ub=1048576;function e0([r,e],[n,s]){const l=Ce(r,n);return l===0?Ce(e,s):l}class DR{constructor(e){this.Tr=e,this.buffer=new Nt(e0),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();e0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OR{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ue(W_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cl(n)?ue(W_,"Ignoring IndexedDB error during garbage collection: ",n):await ul(n)}await this.Rr(3e5)}))}}class VR{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(vh.ue);const s=new DR(n);return this.Vr.forEachTarget(e,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.gr(e,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Z_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z_):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,l,u,f,m,p,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,f=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(s=A,m=Date.now(),this.removeTargets(e,s,n)))).next((A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(y=Date.now(),Ga()<=Ve.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-b}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A}))))}}function MR(r,e){return new VR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.changes=new $s((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(s!==null&&Io(s.mutation,l,Rn.empty(),rt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Me()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Me()){const l=zs();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,s).next((u=>{let f=To();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=zs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Me())))}populateOverlays(e,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,l){let u=nr();const f=No(),m=(function(){return No()})();return n.forEach(((p,y)=>{const b=s.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof os)?u=u.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),Io(b.mutation,y,b.mutation.getFieldMask(),rt.now())):f.set(y.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,b)=>f.set(y,b))),n.forEach(((y,b)=>{var A;return m.set(y,new jR(b,(A=f.get(y))!==null&&A!==void 0?A:null))})),m)))}recalculateAndSaveOverlays(e,n){const s=No();let l=new ot(((f,m)=>f-m)),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let b=s.get(p)||Rn.empty();b=m.applyToLocalView(y,b),s.set(p,b);const A=(l.get(m.batchId)||Me()).add(p);l=l.insert(m.batchId,A)}))})).next((()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,b=p.value,A=FE();b.forEach((w=>{if(!u.has(w)){const D=$E(n.get(w),s.get(w));D!==null&&A.set(w,D),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,l){return(function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):te.resolve(zs());let m=Lo,p=u;return f.next((y=>te.forEach(y,((b,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(b)?te.resolve():this.remoteDocumentCache.getEntry(e,b).next((w=>{p=p.insert(b,w)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Me()))).next((b=>({batchId:m,changes:HE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let l=To();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let f=To();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const y=(function(A,w){return new Ko(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next((b=>{b.forEach(((A,w)=>{f=f.insert(A,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l)))).next((f=>{u.forEach(((p,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,Zt.newInvalidDocument(b)))}));let m=To();return f.forEach(((p,y)=>{const b=u.get(p);b!==void 0&&Io(b.mutation,y,Rn.empty(),rt.now()),Th(n,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return te.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:pi(l.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(l){return{name:l.name,query:CR(l.bundledQuery),readTime:pi(l.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.overlays=new ot(ge.comparator),this.kr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=zs();return te.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((l,u)=>{this.wt(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.kr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const l=zs(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&l.set(p.getKey(),p)}return te.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new ot(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let b=u.get(y.largestBatchId);b===null&&(b=zs(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,b)=>m.set(y,b))),!(m.size()>=l)););return te.resolve(m)}wt(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.kr.get(l.largestBatchId).delete(s.key);this.kr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new sR(n,s));let u=this.kr.get(n);u===void 0&&(u=Me(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this.qr=new Nt(jt.Qr),this.$r=new Nt(jt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new jt(e,n))}Gr(e,n){e.forEach((s=>this.removeReference(s,n)))}zr(e){const n=new ge(new et([])),s=new jt(n,e),l=new jt(n,e+1),u=[];return this.$r.forEachInRange([s,l],(f=>{this.Wr(f),u.push(f.key)})),u}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ge(new et([])),s=new jt(n,e),l=new jt(n,e+1);let u=Me();return this.$r.forEachInRange([s,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new jt(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ge.comparator(e.key,n.key)||Ce(e.Hr,n.Hr)}static Ur(e,n){return Ce(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Nt(jt.Qr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new rR(u,n,s,l);this.mutationQueue.push(f);for(const m of l)this.Yr=this.Yr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.Xr(s),u=l<0?0:l;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Qm:this.er-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),l=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,l],(f=>{const m=this.Zr(f.Hr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Nt(Ce);return n.forEach((l=>{const u=new jt(l,0),f=new jt(l,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),te.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ge(u),0);let m=new Nt(Ce);return this.Yr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(m=m.add(p.Hr)),!0)}),f),te.resolve(this.ei(m))}ei(e){const n=[];return e.forEach((s=>{const l=this.Zr(s);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ye(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return te.forEach(n.mutations,(l=>{const u=new jt(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,n){const s=new jt(n,0),l=this.Yr.firstAfterOrEqual(s);return te.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.ni=e,this.docs=(function(){return new ot(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=nr();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():Zt.newInvalidDocument(l))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=nr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:b}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||_x(vx(b),s)<=0||(l.has(b.key)||Th(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,l){_e(9500)}ri(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new HR(this)}getSize(e){return te.resolve(this.size)}}class HR extends LR{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Or.addEntry(e,l)):this.Or.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.persistence=e,this.ii=new $s((n=>Xm(n)),$m),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.si=0,this.oi=new ip,this.targetCount=0,this._i=nl.ar()}forEachTarget(e,n){return this.ii.forEach(((s,l)=>n(l))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),te.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new nl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.hr(n),te.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.ii.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)})),te.waitFor(u).next((()=>l))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,n){this.ai={},this.overlays={},this.ui=new vh(0),this.ci=!1,this.ci=!0,this.li=new zR,this.referenceDelegate=e(this),this.hi=new FR(this),this.indexManager=new NR,this.remoteDocumentCache=(function(l){return new qR(l)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new RR(n),this.Ti=new kR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new BR(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const l=new GR(this.ui.next());return this.referenceDelegate.Ii(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(e,n){return te.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,n))))}}class GR extends bx{constructor(e){super(),this.currentSequenceNumber=e}}class rp{constructor(e){this.persistence=e,this.Ai=new ip,this.Ri=null}static Vi(e){return new rp(e)}get mi(){if(this.Ri)return this.Ri;throw _e(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((l=>this.mi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.mi,(s=>{const l=ge.fromPath(s);return this.fi(e,l).next((u=>{u||n.removeEntry(l,be.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return te.or([()=>te.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class nh{constructor(e,n){this.persistence=e,this.gi=new $s((s=>Ax(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=MR(this,n)}static Vi(e,n){return new nh(e,n)}Ii(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((l=>s+l))))}yr(e){let n=0;return this.gr(e,(s=>{n++})).next((()=>n))}gr(e,n){return te.forEach(this.gi,((s,l)=>this.Sr(e,s,l).next((u=>u?te.resolve():n(l)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ri(e,(f=>this.Sr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),te.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zc(e.data.value)),n}Sr(e,n,s){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.gi.get(n);return te.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=l}static Es(e,n){let s=Me(),l=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new sp(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return Hw()?8:Tx(yn())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.ps(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ys(e,n,l,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new QR;return this.ws(e,n,f).next((m=>{if(u.result=m,this.Rs)return this.Ss(e,n,f,m.size)}))})).next((()=>u.result))}Ss(e,n,s,l){return s.documentReadCount<this.Vs?(Ga()<=Ve.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(Ga()<=Ve.DEBUG&&ue("QueryEngine","Query:",Qa(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.fs*l?(Ga()<=Ve.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(n))):te.resolve())}ps(e,n){if(q_(n))return te.resolve(null);let s=mi(n);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=_m(n,null,"F"),s=mi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Me(...u);return this.gs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.bs(n,m);return this.Ds(n,y,f,p.readTime)?this.ps(e,_m(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ys(e,n,s,l){return q_(n)||l.isEqual(be.min())?te.resolve(null):this.gs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ds(n,f,s,l)?te.resolve(null):(Ga()<=Ve.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(n)),this.vs(e,f,n,yx(l,Lo)).next((m=>m)))}))}bs(e,n){let s=new Nt(BE(e));return n.forEach(((l,u)=>{Th(e,u)&&(s=s.add(u))})),s}Ds(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ws(e,n,s){return Ga()<=Ve.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.gs.getDocumentsMatchingQuery(e,n,ts.min(),s)}vs(e,n,s,l){return this.gs.getDocumentsMatchingQuery(e,s,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="LocalStore",KR=3e8;class XR{constructor(e,n,s,l){this.persistence=e,this.Cs=n,this.serializer=l,this.Fs=new ot(Ce),this.Ms=new $s((u=>Xm(u)),$m),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PR(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function $R(r,e,n,s){return new XR(r,e,n,s)}async function hb(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Me();for(const y of l){f.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}for(const y of u){m.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Bs:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function JR(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,b){const A=y.batch,w=A.keys();let D=te.resolve();return w.forEach((L=>{D=D.next((()=>b.getEntry(p,L))).next((Q=>{const z=y.docVersions.get(L);Ye(z!==null,48541),Q.version.compareTo(z)<0&&(A.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),b.addEntry(Q)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(p,A)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Me();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function fb(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function ZR(r,e){const n=Se(r),s=e.snapshotVersion;let l=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});l=n.Fs;const m=[];e.targetChanges.forEach(((b,A)=>{const w=l.get(A);if(!w)return;m.push(n.hi.removeMatchingKeys(u,b.removedDocuments,A).next((()=>n.hi.addMatchingKeys(u,b.addedDocuments,A))));let D=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?D=D.withResumeToken(Yt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):b.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(b.resumeToken,s)),l=l.insert(A,D),(function(Q,z,$){return Q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=KR?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(w,D,b)&&m.push(n.hi.updateTargetData(u,D))}));let p=nr(),y=Me();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(WR(u,f,e.documentUpdates).next((b=>{p=b.Ls,y=b.ks}))),!s.isEqual(be.min())){const b=n.hi.getLastRemoteSnapshotVersion(u).next((A=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Fs=l,u)))}function WR(r,e,n){let s=Me(),l=Me();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=nr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(ap,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Ls:f,ks:l}}))}function eC(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Qm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function tC(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.hi.getTargetData(s,e).next((u=>u?(l=u,te.resolve(l)):n.hi.allocateTargetId(s).next((f=>(l=new Kr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Fs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s}))}async function Am(r,e,n){const s=Se(r),l=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!cl(f))throw f;ue(ap,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(l.target)}function t0(r,e,n){const s=Se(r);let l=be.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,b){const A=Se(p),w=A.Ms.get(b);return w!==void 0?te.resolve(A.Fs.get(w)):A.hi.getTargetData(y,b)})(s,f,mi(e)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?l:be.min(),n?u:Me()))).next((m=>(nC(s,Hx(e),m),{documents:m,qs:u})))))}function nC(r,e,n){let s=r.xs.get(e)||be.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.xs.set(e,s)}class n0{constructor(){this.activeTargetIds=Xx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iC{constructor(){this.Fo=new n0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new n0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="ConnectivityMonitor";class r0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ue(i0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ue(i0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc=null;function wm(){return Lc===null?Lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lc++,"0x"+Lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="RestConnection",sC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aC{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${l}`,this.Ko=this.databaseId.database===Xc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(e,n,s,l,u){const f=wm(),m=this.Go(e,n.toUriEncodedString());ue(Wd,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,l,u);const{host:y}=new URL(m),b=ll(y);return this.jo(e,m,p,s,b).then((A=>(ue(Wd,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw Qs(Wd,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A}))}Jo(e,n,s,l,u,f){return this.Wo(e,n,s,l,u)}zo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),s&&s.headers.forEach(((l,u)=>e[u]=l))}Go(e,n){const s=sC[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class oC extends aC{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,l,u){const f=wm();return new Promise(((m,p)=>{const y=new mE;y.setWithCredentials(!0),y.listenOnce(pE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const A=y.getResponseJson();ue(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case Uc.TIMEOUT:ue(Jt,`RPC '${e}' ${f} timed out`),p(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const w=y.getStatus();if(ue(Jt,`RPC '${e}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let D=y.getResponseJson();Array.isArray(D)&&(D=D[0]);const L=D?.error;if(L&&L.status&&L.message){const Q=(function($){const ne=$.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ne)>=0?ne:W.UNKNOWN})(L.status);p(new oe(Q,L.message))}else p(new oe(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new oe(W.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{c_:e,streamId:f,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{ue(Jt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(l);ue(Jt,`RPC '${e}' ${f} sending request:`,l),y.send(n,"POST",b,s,15)}))}P_(e,n,s){const l=wm(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=vE(),m=yE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const b=u.join("");ue(Jt,`Creating RPC '${e}' stream ${l}: ${b}`,p);const A=f.createWebChannel(b,p);this.T_(A);let w=!1,D=!1;const L=new lC({Ho:z=>{D?ue(Jt,`Not sending because RPC '${e}' stream ${l} is closed:`,z):(w||(ue(Jt,`Opening RPC '${e}' stream ${l} transport.`),A.open(),w=!0),ue(Jt,`RPC '${e}' stream ${l} sending:`,z),A.send(z))},Yo:()=>A.close()}),Q=(z,$,ne)=>{z.listen($,(ie=>{try{ne(ie)}catch(me){setTimeout((()=>{throw me}),0)}}))};return Q(A,bo.EventType.OPEN,(()=>{D||(ue(Jt,`RPC '${e}' stream ${l} transport opened.`),L.s_())})),Q(A,bo.EventType.CLOSE,(()=>{D||(D=!0,ue(Jt,`RPC '${e}' stream ${l} transport closed`),L.__(),this.I_(A))})),Q(A,bo.EventType.ERROR,(z=>{D||(D=!0,Qs(Jt,`RPC '${e}' stream ${l} transport errored. Name:`,z.name,"Message:",z.message),L.__(new oe(W.UNAVAILABLE,"The operation could not be completed")))})),Q(A,bo.EventType.MESSAGE,(z=>{var $;if(!D){const ne=z.data[0];Ye(!!ne,16349);const ie=ne,me=ie?.error||(($=ie[0])===null||$===void 0?void 0:$.error);if(me){ue(Jt,`RPC '${e}' stream ${l} received error:`,me);const re=me.status;let ye=(function(R){const V=St[R];if(V!==void 0)return ZE(V)})(re),I=me.message;ye===void 0&&(ye=W.INTERNAL,I="Unknown error status: "+re+" with message "+me.message),D=!0,L.__(new oe(ye,I)),A.close()}else ue(Jt,`RPC '${e}' stream ${l} received:`,ne),L.a_(ne)}})),Q(m,gE.STAT_EVENT,(z=>{z.stat===fm.PROXY?ue(Jt,`RPC '${e}' stream ${l} detected buffering proxy`):z.stat===fm.NOPROXY&&ue(Jt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{L.o_()}),0),L}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(r){return new dR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n,s=1e3,l=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=l,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),l=Math.max(0,n-s);l>0&&ue("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,l,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="PersistentStream";class mb{constructor(e,n,s,l,u,f,m,p){this.Fi=e,this.w_=s,this.S_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new db(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.b_===n&&this.W_(s,l)}),(s=>{e((()=>{const l=new oe(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(l)}))}))}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((l=>{s((()=>this.G_(l)))})),this.stream.onMessage((l=>{s((()=>++this.C_==1?this.j_(l):this.onNext(l)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return ue(s0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(ue(s0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uC extends mb{constructor(e,n,s,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=gR(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?pi(f.readTime):be.min()})(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=Sm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=ym(p)?{documents:_R(u,p)}:{query:ER(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=tb(u,f.resumeToken);const y=Em(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=th(u,f.snapshotVersion.toTimestamp());const y=Em(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=TR(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=Sm(this.serializer),n.removeTarget=e,this.k_(n)}}class cC extends mb{constructor(e,n,s,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=vR(e.writeResults,e.commitTime),s=pi(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=Sm(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>yR(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{}class fC extends hC{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ra=!1}ia(){if(this.ra)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,bm(n,s),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(W.UNKNOWN,u.toString())}))}Jo(e,n,s,l,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Jo(e,bm(n,s),l,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(W.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class dC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(tr(n),this._a=!1):ue("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class mC{constructor(e,n,s,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((f=>{s.enqueueAndForget((async()=>{Js(this)&&(ue(Ys,"Restarting streams for network reachability change."),await(async function(p){const y=Se(p);y.Ia.add(4),await Jo(y),y.Aa.set("Unknown"),y.Ia.delete(4),await Rh(y)})(this))}))})),this.Aa=new dC(s,l)}}async function Rh(r){if(Js(r))for(const e of r.da)await e(!0)}async function Jo(r){for(const e of r.da)await e(!1)}function pb(r,e){const n=Se(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),cp(n)?up(n):hl(n).x_()&&op(n,e))}function lp(r,e){const n=Se(r),s=hl(n);n.Ta.delete(e),s.x_()&&gb(n,e),n.Ta.size===0&&(s.x_()?s.B_():Js(n)&&n.Aa.set("Unknown"))}function op(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hl(r).H_(e)}function gb(r,e){r.Ra.$e(e),hl(r).Y_(e)}function up(r){r.Ra=new uR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),hl(r).start(),r.Aa.aa()}function cp(r){return Js(r)&&!hl(r).M_()&&r.Ta.size>0}function Js(r){return Se(r).Ia.size===0}function yb(r){r.Ra=void 0}async function pC(r){r.Aa.set("Online")}async function gC(r){r.Ta.forEach(((e,n)=>{op(r,e)}))}async function yC(r,e){yb(r),cp(r)?(r.Aa.la(e),up(r)):r.Aa.set("Unknown")}async function vC(r,e,n){if(r.Aa.set("Online"),e instanceof eb&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const m of u.targetIds)l.Ta.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.Ta.delete(m),l.Ra.removeTarget(m))})(r,e)}catch(s){ue(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ih(r,s)}else if(e instanceof Hc?r.Ra.Ye(e):e instanceof WE?r.Ra.it(e):r.Ra.et(e),!n.isEqual(be.min()))try{const s=await fb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ta.get(y);b&&u.Ta.set(y,b.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const b=u.Ta.get(p);if(!b)return;u.Ta.set(p,b.withResumeToken(Yt.EMPTY_BYTE_STRING,b.snapshotVersion)),gb(u,p);const A=new Kr(b.target,p,y,b.sequenceNumber);op(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ue(Ys,"Failed to raise snapshot:",s),await ih(r,s)}}async function ih(r,e,n){if(!cl(e))throw e;r.Ia.add(1),await Jo(r),r.Aa.set("Offline"),n||(n=()=>fb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(Ys,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await Rh(r)}))}function vb(r,e){return e().catch((n=>ih(r,n,e)))}async function Ch(r){const e=Se(r),n=ss(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Qm;for(;_C(e);)try{const l=await eC(e.localStore,s);if(l===null){e.Pa.length===0&&n.B_();break}s=l.batchId,EC(e,l)}catch(l){await ih(e,l)}_b(e)&&Eb(e)}function _C(r){return Js(r)&&r.Pa.length<10}function EC(r,e){r.Pa.push(e);const n=ss(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function _b(r){return Js(r)&&!ss(r).M_()&&r.Pa.length>0}function Eb(r){ss(r).start()}async function bC(r){ss(r).na()}async function TC(r){const e=ss(r);for(const n of r.Pa)e.X_(n.mutations)}async function SC(r,e,n){const s=r.Pa.shift(),l=ep.from(s,e,n);await vb(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ch(r)}async function AC(r,e){e&&ss(r).Z_&&await(async function(s,l){if((function(f){return lR(f)&&f!==W.ABORTED})(l.code)){const u=s.Pa.shift();ss(s).N_(),await vb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Ch(s)}})(r,e),_b(r)&&Eb(r)}async function a0(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),ue(Ys,"RemoteStore received new credentials");const s=Js(n);n.Ia.add(3),await Jo(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Rh(n)}async function wC(r,e){const n=Se(r);e?(n.Ia.delete(2),await Rh(n)):e||(n.Ia.add(2),await Jo(n),n.Aa.set("Unknown"))}function hl(r){return r.Va||(r.Va=(function(n,s,l){const u=Se(n);return u.ia(),new uC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Zo:pC.bind(null,r),e_:gC.bind(null,r),n_:yC.bind(null,r),J_:vC.bind(null,r)}),r.da.push((async e=>{e?(r.Va.N_(),cp(r)?up(r):r.Aa.set("Unknown")):(await r.Va.stop(),yb(r))}))),r.Va}function ss(r){return r.ma||(r.ma=(function(n,s,l){const u=Se(n);return u.ia(),new cC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:bC.bind(null,r),n_:AC.bind(null,r),ea:TC.bind(null,r),ta:SC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.N_(),await Ch(r)):(await r.ma.stop(),r.Pa.length>0&&(ue(Ys,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const f=Date.now()+s,m=new hp(e,n,f,l,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fp(r,e){if(tr("AsyncQueue",`${e}: ${r}`),cl(r))return new oe(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static emptySet(e){return new Xa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=To(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.fa=new ot(ge.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):_e(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,s)=>{e.push(s)})),e}}class il{constructor(e,n,s,l,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,l,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new il(e,n,Xa.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class RC{constructor(){this.queries=o0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const l=Se(n),u=l.queries;l.queries=o0(),u.forEach(((f,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new oe(W.ABORTED,"Firestore shutting down"))}}function o0(){return new $s((r=>zE(r)),bh)}async function bb(r,e){const n=Se(r);let s=3;const l=e.query;let u=n.queries.get(l);u?!u.Sa()&&e.ba()&&(s=2):(u=new xC,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(l,!0);break;case 1:u.ya=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const m=fp(f,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&dp(n)}async function Tb(r,e){const n=Se(r),s=e.query;let l=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?l=e.ba()?0:1:!u.Sa()&&e.ba()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function CC(r,e){const n=Se(r);let s=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(l)&&(s=!0);f.ya=l}}s&&dp(n)}function NC(r,e,n){const s=Se(r),l=s.queries.get(e);if(l)for(const u of l.wa)u.onError(n);s.queries.delete(e)}function dp(r){r.Da.forEach((e=>{e.next()}))}var xm,u0;(u0=xm||(xm={})).Fa="default",u0.Cache="cache";class Sb{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new il(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.key=e}}class wb{constructor(e){this.key=e}}class IC{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Me(),this.mutatedKeys=Me(),this.Xa=BE(e),this.eu=new Xa(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new l0,l=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,A)=>{const w=l.get(b),D=Th(this.query,A)?A:null,L=!!w&&this.mutatedKeys.has(w.key),Q=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let z=!1;w&&D?w.data.isEqual(D.data)?L!==Q&&(s.track({type:3,doc:D}),z=!0):this.iu(w,D)||(s.track({type:2,doc:D}),z=!0,(p&&this.Xa(D,p)>0||y&&this.Xa(D,y)<0)&&(m=!0)):!w&&D?(s.track({type:0,doc:D}),z=!0):w&&!D&&(s.track({type:1,doc:w}),z=!0,(p||y)&&(m=!0)),z&&(D?(f=f.add(D),u=Q?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort(((b,A)=>(function(D,L){const Q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{At:z})}};return Q(D)-Q(L)})(b.type,A.type)||this.Xa(b.doc,A.doc))),this.su(s),l=l!=null&&l;const m=n&&!l?this.ou():[],p=this.Za.size===0&&this.current&&!l?1:0,y=p!==this.Ya;return this.Ya=p,f.length!==0||y?{snapshot:new il(this.query,e.eu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new l0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Me(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return e.forEach((s=>{this.Za.has(s)||n.push(new wb(s))})),this.Za.forEach((s=>{e.has(s)||n.push(new Ab(s))})),n}uu(e){this.Ha=e.qs,this.Za=Me();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return il.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const mp="SyncEngine";class DC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class OC{constructor(e){this.key=e,this.lu=!1}}class VC{constructor(e,n,s,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new $s((m=>zE(m)),bh),this.Tu=new Map,this.Iu=new Set,this.du=new ot(ge.comparator),this.Eu=new Map,this.Au=new ip,this.Ru={},this.Vu=new Map,this.mu=nl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function MC(r,e,n=!0){const s=Db(r);let l;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.cu()):l=await xb(s,e,n,!0),l}async function LC(r,e){const n=Db(r);await xb(n,e,!0,!1)}async function xb(r,e,n,s){const l=await tC(r.localStore,mi(e)),u=l.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await jC(r,e,u,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&pb(r.remoteStore,l),m}async function jC(r,e,n,s,l){r.gu=(A,w,D)=>(async function(Q,z,$,ne){let ie=z.view.nu($);ie.Ds&&(ie=await t0(Q.localStore,z.query,!1).then((({documents:I})=>z.view.nu(I,ie))));const me=ne&&ne.targetChanges.get(z.targetId),re=ne&&ne.targetMismatches.get(z.targetId)!=null,ye=z.view.applyChanges(ie,Q.isPrimaryClient,me,re);return h0(Q,z.targetId,ye._u),ye.snapshot})(r,A,w,D);const u=await t0(r.localStore,e,!0),f=new IC(e,u.qs),m=f.nu(u.documents),p=$o.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=f.applyChanges(m,r.isPrimaryClient,p);h0(r,n,y._u);const b=new DC(e,n,f);return r.Pu.set(e,b),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),y.snapshot}async function PC(r,e,n){const s=Se(r),l=s.Pu.get(e),u=s.Tu.get(l.targetId);if(u.length>1)return s.Tu.set(l.targetId,u.filter((f=>!bh(f,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Am(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&lp(s.remoteStore,l.targetId),Rm(s,l.targetId)})).catch(ul)):(Rm(s,l.targetId),await Am(s.localStore,l.targetId,!0))}async function kC(r,e){const n=Se(r),s=n.Pu.get(e),l=n.Tu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),lp(n.remoteStore,s.targetId))}async function UC(r,e,n){const s=QC(r);try{const l=await(function(f,m){const p=Se(f),y=rt.now(),b=m.reduce(((D,L)=>D.add(L.key)),Me());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let L=nr(),Q=Me();return p.Os.getEntries(D,b).next((z=>{L=z,L.forEach((($,ne)=>{ne.isValidDocument()||(Q=Q.add($))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,L))).next((z=>{A=z;const $=[];for(const ne of m){const ie=nR(ne,A.get(ne.key).overlayedDocument);ie!=null&&$.push(new os(ne.key,ie,OE(ie.value.mapValue),Bn.exists(!0)))}return p.mutationQueue.addMutationBatch(D,y,$,m)})).next((z=>{w=z;const $=z.applyToLocalDocumentSet(A,Q);return p.documentOverlayCache.saveOverlays(D,z.batchId,$)}))})).then((()=>({batchId:w.batchId,changes:HE(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(f,m,p){let y=f.Ru[f.currentUser.toKey()];y||(y=new ot(Ce)),y=y.insert(m,p),f.Ru[f.currentUser.toKey()]=y})(s,l.batchId,n),await Zo(s,l.changes),await Ch(s.remoteStore)}catch(l){const u=fp(l,"Failed to persist write");n.reject(u)}}async function Rb(r,e){const n=Se(r);try{const s=await ZR(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=n.Eu.get(u);f&&(Ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.lu=!0:l.modifiedDocuments.size>0?Ye(f.lu,14607):l.removedDocuments.size>0&&(Ye(f.lu,42227),f.lu=!1))})),await Zo(n,s,e)}catch(s){await ul(s)}}function c0(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Pu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&l.push(m.snapshot)})),(function(f,m){const p=Se(f);p.onlineState=m;let y=!1;p.queries.forEach(((b,A)=>{for(const w of A.wa)w.va(m)&&(y=!0)})),y&&dp(p)})(s.eventManager,e),l.length&&s.hu.J_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function zC(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Eu.get(e),u=l&&l.key;if(u){let f=new ot(ge.comparator);f=f.insert(u,Zt.newNoDocument(u,be.min()));const m=Me().add(u),p=new wh(be.min(),new Map,new ot(Ce),f,m);await Rb(s,p),s.du=s.du.remove(u),s.Eu.delete(e),pp(s)}else await Am(s.localStore,e,!1).then((()=>Rm(s,e,n))).catch(ul)}async function BC(r,e){const n=Se(r),s=e.batch.batchId;try{const l=await JR(n.localStore,e);Nb(n,s,null),Cb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Zo(n,l)}catch(l){await ul(l)}}async function qC(r,e,n){const s=Se(r);try{const l=await(function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return p.mutationQueue.lookupMutationBatch(y,m).next((A=>(Ye(A!==null,37113),b=A.keys(),p.mutationQueue.removeMutationBatch(y,A)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,b,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>p.localDocuments.getDocuments(y,b)))}))})(s.localStore,e);Nb(s,e,n),Cb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Zo(s,l)}catch(l){await ul(l)}}function Cb(r,e){(r.Vu.get(e)||[]).forEach((n=>{n.resolve()})),r.Vu.delete(e)}function Nb(r,e,n){const s=Se(r);let l=s.Ru[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Ru[s.currentUser.toKey()]=l}}function Rm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach((s=>{r.Au.containsKey(s)||Ib(r,s)}))}function Ib(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(lp(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),pp(r))}function h0(r,e,n){for(const s of n)s instanceof Ab?(r.Au.addReference(s.key,e),HC(r,s)):s instanceof wb?(ue(mp,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||Ib(r,s.key)):_e(19791,{yu:s})}function HC(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(ue(mp,"New document in limbo: "+n),r.Iu.add(s),pp(r))}function pp(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new ge(et.fromString(e)),s=r.mu.next();r.Eu.set(s,new OC(n)),r.du=r.du.insert(n,s),pb(r.remoteStore,new Kr(mi(Jm(n.path)),s,"TargetPurposeLimboResolution",vh.ue))}}async function Zo(r,e,n){const s=Se(r),l=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{f.push(s.gu(p,e,n).then((y=>{var b;if((y||n)&&s.isPrimaryClient){const A=y?!y.fromCache:(b=n?.targetChanges.get(p.targetId))===null||b===void 0?void 0:b.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(y){l.push(y);const A=sp.Es(p.targetId,y);u.push(A)}})))})),await Promise.all(f),s.hu.J_(l),await(async function(p,y){const b=Se(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>te.forEach(y,(w=>te.forEach(w.Is,(D=>b.persistence.referenceDelegate.addReference(A,w.targetId,D))).next((()=>te.forEach(w.ds,(D=>b.persistence.referenceDelegate.removeReference(A,w.targetId,D)))))))))}catch(A){if(!cl(A))throw A;ue(ap,"Failed to update sequence numbers: "+A)}for(const A of y){const w=A.targetId;if(!A.fromCache){const D=b.Fs.get(w),L=D.snapshotVersion,Q=D.withLastLimboFreeSnapshotVersion(L);b.Fs=b.Fs.insert(w,Q)}}})(s.localStore,u))}async function FC(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){ue(mp,"User change. New user:",e.toKey());const s=await hb(n.localStore,e);n.currentUser=e,(function(u,f){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new oe(W.CANCELLED,f))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Zo(n,s.Bs)}}function GC(r,e){const n=Se(r),s=n.Eu.get(e);if(s&&s.lu)return Me().add(s.key);{let l=Me();const u=n.Tu.get(e);if(!u)return l;for(const f of u){const m=n.Pu.get(f);l=l.unionWith(m.view.tu)}return l}}function Db(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zC.bind(null,e),e.hu.J_=CC.bind(null,e.eventManager),e.hu.pu=NC.bind(null,e.eventManager),e}function QC(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qC.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return $R(this.persistence,new YR,e.initialUser,this.serializer)}Du(e){return new cb(rp.Vi,this.serializer)}bu(e){return new iC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class YC extends rh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ye(this.persistence.referenceDelegate instanceof nh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new OR(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new cb((s=>nh.Vi(s,n)),this.serializer)}}class Cm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>c0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FC.bind(null,this.syncEngine),await wC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new RC})()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),s=(function(u){return new oC(u)})(e.databaseInfo);return(function(u,f,m,p){return new fC(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,l,u,f,m){return new mC(s,l,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>c0(this.syncEngine,n,0)),(function(){return r0.C()?new r0:new rC})())}createSyncEngine(e,n){return(function(l,u,f,m,p,y,b){const A=new VC(l,u,f,m,p,y);return b&&(A.fu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const u=Se(l);ue(Ys,"RemoteStore shutting down."),u.Ia.add(5),await Jo(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Cm.provider={build:()=>new Cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="FirestoreClient";class KC{constructor(e,n,s,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=dn.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ue(as,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ue(as,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=fp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function tm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(as,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await hb(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>{Qs("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{ue("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((l=>{Qs("Terminating Firestore due to IndexedDb database deletion failed",l)}))})),r._offlineComponents=e}async function f0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await XC(r);ue(as,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>a0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>a0(e.remoteStore,l))),r._onlineComponents=e}async function XC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(as,"Using user provided OfflineComponentProvider");try{await tm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Qs("Error using user provided cache. Falling back to memory cache: "+n),await tm(r,new rh)}}else ue(as,"Using default OfflineComponentProvider"),await tm(r,new YC(void 0));return r._offlineComponents}async function Vb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(as,"Using user provided OnlineComponentProvider"),await f0(r,r._uninitializedComponentsProvider._online)):(ue(as,"Using default OnlineComponentProvider"),await f0(r,new Cm))),r._onlineComponents}function $C(r){return Vb(r).then((e=>e.syncEngine))}async function Mb(r){const e=await Vb(r),n=e.eventManager;return n.onListen=MC.bind(null,e.syncEngine),n.onUnlisten=PC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kC.bind(null,e.syncEngine),n}function JC(r,e,n={}){const s=new Ji;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const b=new Ob({next:w=>{b.Ou(),f.enqueueAndForget((()=>Tb(u,A)));const D=w.docs.has(m);!D&&w.fromCache?y.reject(new oe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&p&&p.source==="server"?y.reject(new oe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),A=new Sb(Jm(m.path),b,{includeMetadataChanges:!0,ka:!0});return bb(u,A)})(await Mb(r),r.asyncQueue,e,n,s))),s.promise}function ZC(r,e,n={}){const s=new Ji;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const b=new Ob({next:w=>{b.Ou(),f.enqueueAndForget((()=>Tb(u,A))),w.fromCache&&p.source==="server"?y.reject(new oe(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),A=new Sb(m,b,{includeMetadataChanges:!0,ka:!0});return bb(u,A)})(await Mb(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="firestore.googleapis.com",m0=!0;class p0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WC,this.ssl=m0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:m0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ob;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ub)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gp{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ox;switch(s.type){case"firstParty":return new hx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=d0.get(n);s&&(ue("ComponentProvider","Removing Datastore"),d0.delete(n),s.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fl(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Yo(n,yt._jsonSchema))return new yt(e,s||null,new ge(et.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:wt("string",yt._jsonSchemaVersion),referencePath:wt("string")};class Zr extends fl{constructor(e,n,s){super(e,n,Jm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ge(e))}withConverter(e){return new Zr(this.firestore,e,this._path)}}function jb(r,e,...n){if(r=It(r),bE("collection","path",e),r instanceof gp){const s=et.fromString(e,...n);return C_(s),new Zr(r,null,s)}{if(!(r instanceof yt||r instanceof Zr))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return C_(s),new Zr(r.firestore,null,s)}}function Wr(r,e,...n){if(r=It(r),arguments.length===1&&(e=Gm.newId()),bE("doc","path",e),r instanceof gp){const s=et.fromString(e,...n);return R_(s),new yt(r,null,new ge(s))}{if(!(r instanceof yt||r instanceof Zr))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return R_(s),new yt(r.firestore,r instanceof Zr?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="AsyncQueue";class y0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new db(this,"async_queue_retry"),this.oc=()=>{const s=em();s&&ue(g0,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Ji;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!cl(e))throw e;ue(g0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,tr("INTERNAL UNHANDLED ERROR: ",v0(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const l=hp.createAndSchedule(this,e,n,s,(u=>this.lc(u)));return this.ec.push(l),l}ac(){this.tc&&_e(47125,{hc:v0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function v0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=-1;class Zs extends gp{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new y0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y0(e),this._firestoreClient=void 0,await e}}}function t2(r,e,n){n||(n=Xc);const s=Hm(r,"firestore");if(s.isInitialized(n)){const l=s.getImmediate({identifier:n}),u=s.getOptions(n);if(Vo(u,e))return l;throw new oe(W.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new oe(W.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ub)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&ll(e.host)&&aE(e.host),s.initialize({options:e,instanceIdentifier:n})}function yp(r){if(r._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||n2(r),r._firestoreClient}function n2(r){var e,n,s;const l=r._freezeSettings(),u=(function(m,p,y,b){return new Rx(m,p,y,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,Lb(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new KC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Yt.fromBase64String(e))}catch(n){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yo(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:wt("string",zn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gi._jsonSchemaVersion}}static fromJSON(e){if(Yo(e,gi._jsonSchema))return new gi(e.latitude,e.longitude)}}gi._jsonSchemaVersion="firestore/geoPoint/1.0",gi._jsonSchema={type:wt("string",gi._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yo(e,yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new yi(e.vectorValues);throw new oe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:wt("string",yi._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=/^__.*__$/;class r2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xo(e,this.data,n,this.fieldTransforms)}}class Pb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ec:r})}}class _p{constructor(e,n,s,l,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new _p(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.Rc({path:s,mc:!1});return l.fc(e),l}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.Rc({path:s,mc:!1});return l.Ac(),l}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return sh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(kb(this.Ec)&&i2.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class s2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||xh(e)}Dc(e,n,s,l=!1){return new _p({Ec:e,methodName:n,bc:s,path:Qt.emptyPath(),mc:!1,Sc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ih(r){const e=r._freezeSettings(),n=xh(r._databaseId);return new s2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Ub(r,e,n,s,l,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,e,n,l);Ep("Data must be an object, but it was:",f,s);const m=zb(s,f);let p,y;if(u.merge)p=new Rn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const A of u.mergeFields){const w=Nm(e,A,n);if(!f.contains(w))throw new oe(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);qb(b,w)||b.push(w)}p=new Rn(b),y=f.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,y=f.fieldTransforms;return new r2(new pn(m),p,y)}class Dh extends vp{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dh}}function a2(r,e,n,s){const l=r.Dc(1,e,n);Ep("Data must be an object, but it was:",l,s);const u=[],f=pn.empty();ls(s,((p,y)=>{const b=bp(e,p,n);y=It(y);const A=l.gc(b);if(y instanceof Dh)u.push(b);else{const w=Wo(y,A);w!=null&&(u.push(b),f.set(b,w))}}));const m=new Rn(u);return new Pb(f,m,l.fieldTransforms)}function l2(r,e,n,s,l,u){const f=r.Dc(1,e,n),m=[Nm(e,s,n)],p=[l];if(u.length%2!=0)throw new oe(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Nm(e,u[w])),p.push(u[w+1]);const y=[],b=pn.empty();for(let w=m.length-1;w>=0;--w)if(!qb(y,m[w])){const D=m[w];let L=p[w];L=It(L);const Q=f.gc(D);if(L instanceof Dh)y.push(D);else{const z=Wo(L,Q);z!=null&&(y.push(D),b.set(D,z))}}const A=new Rn(y);return new Pb(b,A,f.fieldTransforms)}function o2(r,e,n,s=!1){return Wo(n,r.Dc(s?4:3,e))}function Wo(r,e){if(Bb(r=It(r)))return Ep("Unsupported field value:",e,r),zb(r,e);if(r instanceof vp)return(function(s,l){if(!kb(l.Ec))throw l.wc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,l){const u=[];let f=0;for(const m of s){let p=Wo(m,l.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,l){if((s=It(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $x(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:th(l.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:th(l.serializer,u)}}if(s instanceof gi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:tb(l.serializer,s._byteString)};if(s instanceof yt){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:np(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof yi)return(function(f,m){return{mapValue:{fields:{[IE]:{stringValue:DE},[$c]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.wc("VectorValues must only contain numeric values.");return Zm(m.serializer,y)}))}}}}}})(s,l);throw l.wc(`Unsupported field value: ${yh(s)}`)})(r,e)}function zb(r,e){const n={};return AE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(r,((s,l)=>{const u=Wo(l,e.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Bb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof gi||r instanceof zn||r instanceof yt||r instanceof vp||r instanceof yi)}function Ep(r,e,n){if(!Bb(n)||!TE(n)){const s=yh(n);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Nm(r,e,n){if((e=It(e))instanceof Nh)return e._internalPath;if(typeof e=="string")return bp(r,e);throw sh("Field path arguments must be of type string or ",r,!1,void 0,n)}const u2=new RegExp("[~\\*/\\[\\]]");function bp(r,e,n){if(e.search(u2)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Nh(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function sh(r,e,n,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new oe(W.INVALID_ARGUMENT,m+r+p)}function qb(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c2 extends Hb{data(){return super.data()}}function Tp(r,e){return typeof e=="string"?bp(r,e):e instanceof Nh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sp{}class f2 extends Sp{}function d2(r,e,...n){let s=[];e instanceof Sp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Ap)).length,m=u.filter((p=>p instanceof Oh)).length;if(f>1||f>0&&m>0)throw new oe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Oh extends f2{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Oh(e,n,s)}_apply(e){const n=this._parse(e);return Fb(e._query,n),new fl(e.firestore,e.converter,vm(e._query,n))}_parse(e){const n=Ih(e.firestore);return(function(u,f,m,p,y,b,A){let w;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new oe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){E0(A,b);const L=[];for(const Q of A)L.push(_0(p,u,Q));w={arrayValue:{values:L}}}else w=_0(p,u,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||E0(A,b),w=o2(m,f,A,b==="in"||b==="not-in");return At.create(y,b,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function m2(r,e,n){const s=e,l=Tp("where",r);return Oh._create(l,s,n)}class Ap extends Sp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ap(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let f=l;const m=u.getFlattenedFilters();for(const p of m)Fb(f,p),f=vm(f,p)})(e._query,n),new fl(e.firestore,e.converter,vm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _0(r,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new oe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UE(e)&&n.indexOf("/")!==-1)throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!ge.isDocumentKey(s))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return j_(r,new ge(s))}if(n instanceof yt)return j_(r,n._key);throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(n)}.`)}function E0(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Fb(r,e){const n=(function(l,u){for(const f of l)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class p2{convertValue(e,n="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ls(e,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(e){var n,s,l;const u=(l=(s=(n=e.fields)===null||n===void 0?void 0:n[$c].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map((f=>gt(f.doubleValue)));return new yi(u)}convertGeoPoint(e){return new gi(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Eh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(jo(e));default:return null}}convertTimestamp(e){const n=ns(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Ye(lb(s),9688,{name:e});const l=new Po(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return l.isEqual(n)||tr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Ao{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qs extends Hb{constructor(e,n,s,l,u,f){super(e,n,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Tp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=qs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",qs._jsonSchema={type:wt("string",qs._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class Fc extends qs{data(e={}){return super.data(e)}}class $a{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Ao(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Fc(this._firestore,this._userDataWriter,s.key,s,new Ao(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((m=>{const p=new Fc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Ao(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Fc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Ao(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:g2(m.type),doc:p,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function g2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(r){r=vi(r,yt);const e=vi(r.firestore,Zs);return JC(yp(e),r._key).then((n=>b2(e,r,n)))}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:wt("string",$a._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class Qb extends p2{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function y2(r){r=vi(r,fl);const e=vi(r.firestore,Zs),n=yp(e),s=new Qb(e);return h2(r._query),ZC(n,r._query).then((l=>new $a(e,s,r,l)))}function Yb(r,e,n){r=vi(r,yt);const s=vi(r.firestore,Zs),l=Gb(r.converter,e,n);return Vh(s,[Ub(Ih(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Bn.none())])}function v2(r,e,n,...s){r=vi(r,yt);const l=vi(r.firestore,Zs),u=Ih(l);let f;return f=typeof(e=It(e))=="string"||e instanceof Nh?l2(u,"updateDoc",r._key,e,n,s):a2(u,"updateDoc",r._key,e),Vh(l,[f.toMutation(r._key,Bn.exists(!0))])}function _2(r){return Vh(vi(r.firestore,Zs),[new Wm(r._key,Bn.none())])}function E2(r,e){const n=vi(r.firestore,Zs),s=Wr(r),l=Gb(r.converter,e);return Vh(n,[Ub(Ih(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Bn.exists(!1))]).then((()=>s))}function Vh(r,e){return(function(s,l){const u=new Ji;return s.asyncQueue.enqueueAndForget((async()=>UC(await $C(s),l,u))),u.promise})(yp(r),e)}function b2(r,e,n){const s=n.docs.get(e._key),l=new Qb(r);return new qs(r,l,e._key,s,new Ao(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){ol=l})(gh),Fs(new es("firestore",((s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Zs(new ux(s.getProvider("auth-internal")),new fx(f,s.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Po(y.options.projectId,b)})(f,l),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),di(T_,S_,e),di(T_,S_,"esm2017")})();var T2="firebase",S2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(T2,S2,"app");function Kb(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function Xb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A2=Xb,$b=new Qo("auth","Firebase",Xb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Bm("@firebase/auth");function w2(r,...e){ah.logLevel<=Ve.WARN&&ah.warn(`Auth (${gh}): ${r}`,...e)}function Gc(r,...e){ah.logLevel<=Ve.ERROR&&ah.error(`Auth (${gh}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(r,...e){throw xp(r,...e)}function wp(r,...e){return xp(r,...e)}function Jb(r,e,n){const s=Object.assign(Object.assign({},A2()),{[e]:n});return new Qo("auth","Firebase",s).create(e,{appName:r.name})}function Hs(r){return Jb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return $b.create(r,...e)}function Ue(r,e,...n){if(!r)throw xp(e,...n)}function Xi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Gc(e),new Error(e)}function lh(r,e){r||Xi(e)}function x2(){return b0()==="http:"||b0()==="https:"}function b0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x2()||zw()||"connection"in navigator)?navigator.onLine:!0}function C2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,lh(n>e,"Short delay should be less than long delay!"),this.isMobile=Pw()||Bw()}get(){return R2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(r,e){lh(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O2=new eu(3e4,6e4);function Ws(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ea(r,e,n,s,l={}){return Wb(r,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=lE(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return Uw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ll(r.emulatorConfig.host)&&(y.credentials="include"),Zb.fetch()(await eT(r,r.config.apiHost,n,m),y)})}async function Wb(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},I2),e);try{const l=new M2(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw jc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw jc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw jc(r,"user-disabled",f);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Jb(r,b,y);rl(r,b)}}catch(l){if(l instanceof bi)throw l;rl(r,"network-request-failed",{message:String(l)})}}async function Mh(r,e,n,s,l={}){const u=await ea(r,e,n,s,l);return"mfaPendingCredential"in u&&rl(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function eT(r,e,n,s){const l=`${e}${n}?${s}`,u=r,f=u.config.emulator?N2(r.config,l):`${r.config.apiScheme}://${l}`;return D2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function V2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(wp(this.auth,"network-request-failed")),O2.get())})}}function jc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=wp(r,e,s);return l.customData._tokenResponse=n,l}function T0(r){return r!==void 0&&r.enterprise!==void 0}class L2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return V2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function j2(r,e){return ea(r,"GET","/v2/recaptchaConfig",Ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(r,e){return ea(r,"POST","/v1/accounts:delete",e)}async function oh(r,e){return ea(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function k2(r,e=!1){const n=It(r),s=await n.getIdToken(e),l=tT(s);Ue(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u?.sign_in_provider;return{claims:l,token:s,authTime:Do(nm(l.auth_time)),issuedAtTime:Do(nm(l.iat)),expirationTime:Do(nm(l.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function nm(r){return Number(r)*1e3}function tT(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=rE(n);return l?JSON.parse(l):(Gc("Failed to decode base64 JWT payload"),null)}catch(l){return Gc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function S0(r){const e=tT(r);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dm(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof bi&&U2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function U2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Do(this.lastLoginAt),this.creationTime=Do(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(r){var e;const n=r.auth,s=await r.getIdToken(),l=await Dm(r,oh(n,{idToken:s}));Ue(l?.users.length,n,"internal-error");const u=l.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?nT(u.providerUserInfo):[],m=q2(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!m?.length,b=p?y:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Om(u.createdAt,u.lastLoginAt),isAnonymous:b};Object.assign(r,A)}async function B2(r){const e=It(r);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q2(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function nT(r){return r.map(e=>{var{providerId:n}=e,s=Kb(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(r,e){const n=await Wb(r,{},async()=>{const s=lE({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,f=await eT(r,l,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&ll(r.emulatorConfig.host)&&(p.credentials="include"),Zb.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function F2(r,e){return ea(r,"POST","/v2/accounts:revokeToken",Ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=S0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await H2(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new Ja;return s&&(Ue(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(Ue(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(Ue(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(r,e){Ue(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class $n{constructor(e){var{uid:n,auth:s,stsTokenManager:l}=e,u=Kb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new z2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Om(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Dm(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return k2(this,e)}reload(){return B2(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Hs(this.auth));const e=await this.getIdToken();return await Dm(this,P2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,l,u,f,m,p,y,b;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,w=(l=n.email)!==null&&l!==void 0?l:void 0,D=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,L=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,z=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ne=(b=n.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:ie,emailVerified:me,isAnonymous:re,providerData:ye,stsTokenManager:I}=n;Ue(ie&&I,e,"internal-error");const x=Ja.fromJSON(this.name,I);Ue(typeof ie=="string",e,"internal-error"),Qr(A,e.name),Qr(w,e.name),Ue(typeof me=="boolean",e,"internal-error"),Ue(typeof re=="boolean",e,"internal-error"),Qr(D,e.name),Qr(L,e.name),Qr(Q,e.name),Qr(z,e.name),Qr($,e.name),Qr(ne,e.name);const R=new $n({uid:ie,auth:e,email:w,emailVerified:me,displayName:A,isAnonymous:re,photoURL:L,phoneNumber:D,tenantId:Q,stsTokenManager:x,createdAt:$,lastLoginAt:ne});return ye&&Array.isArray(ye)&&(R.providerData=ye.map(V=>Object.assign({},V))),z&&(R._redirectEventId=z),R}static async _fromIdTokenResponse(e,n,s=!1){const l=new Ja;l.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await uh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];Ue(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?nT(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!u?.length,m=new Ja;m.updateFromIdToken(s);const p=new $n({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=new Map;function Bs(r){lh(r instanceof Function,"Expected a class definition");let e=A0.get(r);return e?(lh(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,A0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iT.type="NONE";const w0=iT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(r,e,n){return`firebase:${r}:${e}:${n}`}class Za{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=im(this.userKey,l.apiKey,u),this.fullPersistenceKey=im("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await oh(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Za(Bs(w0),e,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||Bs(w0);const f=im(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const b=await y._get(f);if(b){let A;if(typeof b=="string"){const w=await oh(e,{idToken:b}).catch(()=>{});if(!w)break;A=await $n._fromGetAccountInfoResponse(e,w,b)}else A=$n._fromJSON(e,b);y!==u&&(m=A),u=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Za(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Za(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(G2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aT(e))return"Blackberry";if(lT(e))return"Webos";if(Q2(e))return"Safari";if((e.includes("chrome/")||Y2(e))&&!e.includes("edge/"))return"Chrome";if(sT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function G2(r=yn()){return/firefox\//i.test(r)}function Q2(r=yn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Y2(r=yn()){return/crios\//i.test(r)}function rT(r=yn()){return/iemobile/i.test(r)}function sT(r=yn()){return/android/i.test(r)}function aT(r=yn()){return/blackberry/i.test(r)}function lT(r=yn()){return/webos/i.test(r)}function K2(r=yn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function X2(){return qw()&&document.documentMode===10}function $2(r=yn()){return K2(r)||sT(r)||lT(r)||aT(r)||/windows phone/i.test(r)||rT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(r,e=[]){let n;switch(r){case"Browser":n=x0(yn());break;case"Worker":n=`${x0(yn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gh}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(r,e={}){return ea(r,"GET","/v2/passwordPolicy",Ws(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=6;class eN{constructor(e){var n,s,l,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:W2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,l,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R0(this),this.idTokenSubscription=new R0(this),this.beforeStateQueue=new J2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bs(n)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await oh(this,{idToken:e}),s=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=l?._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&p?.user&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(Hs(this));const n=e?It(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(Hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z2(this),n=new eN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await F2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bs(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[Bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&w2(`Error while retrieving App Check token: ${n.error}`),n?.token}}function tu(r){return It(r)}class R0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Xw(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nN(r){Rp=r}function iN(r){return Rp.loadJS(r)}function rN(){return Rp.recaptchaEnterpriseScript}class sN{constructor(){this.enterprise=new aN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class aN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const lN="recaptcha-enterprise",uT="NO_RECAPTCHA";class oN{constructor(e){this.type=lN,this.auth=tu(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{j2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new L2(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function l(u,f,m){const p=window.grecaptcha;T0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(uT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&T0(window.grecaptcha))l(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=rN();p.length!==0&&(p+=m),iN(p).then(()=>{l(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function C0(r,e,n,s=!1,l=!1){const u=new oN(r);let f;if(l)f=uT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Vm(r,e,n,s,l){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await C0(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await C0(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(r,e){const n=Hm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Vo(u,e??{}))return l;rl(l,"already-initialized")}return n.initialize({options:e})}function cN(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Bs);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,n){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function fN(r,e){return ea(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(r,e){return Mh(r,"POST","/v1/accounts:signInWithPassword",Ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(r,e){return Mh(r,"POST","/v1/accounts:signInWithEmailLink",Ws(r,e))}async function pN(r,e){return Mh(r,"POST","/v1/accounts:signInWithEmailLink",Ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends hN{constructor(e,n,s,l=null){super("password",s),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Bo(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Bo(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(e,n,"signInWithPassword",dN);case"emailLink":return mN(e,{email:this._email,oobCode:this._password});default:rl(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vm(e,s,"signUpPassword",fN);case"emailLink":return pN(e,{idToken:n,email:this._email,oobCode:this._password});default:rl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yN(r){const e=_o(Eo(r)).link,n=e?_o(Eo(e)).deep_link_id:null,s=_o(Eo(r)).deep_link_id;return(s?_o(Eo(s)).link:null)||s||n||e||r}class Cp{constructor(e){var n,s,l,u,f,m;const p=_o(Eo(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,b=(s=p.oobCode)!==null&&s!==void 0?s:null,A=gN((l=p.mode)!==null&&l!==void 0?l:null);Ue(y&&b&&A,"argument-error"),this.apiKey=y,this.operation=A,this.code=b,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=yN(e);try{return new Cp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.providerId=dl.PROVIDER_ID}static credential(e,n){return Bo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Cp.parseLink(n);return Ue(s,"argument-error"),Bo._fromEmailAndCode(e,s.code,s.tenantId)}}dl.PROVIDER_ID="password";dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(r,e){return Mh(r,"POST","/v1/accounts:signUp",Ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await $n._fromIdTokenResponse(e,s,l),f=N0(s);return new qo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=N0(s);return new qo({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function N0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends bi{constructor(e,n,s,l){var u;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new ch(e,n,s,l)}}function _N(r,e,n,s){return n._getIdTokenResponse(r).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(r,u,e,s):u})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(r,e,n=!1){if(Xn(r.app))return Promise.reject(Hs(r));const s="signIn",l=await _N(r,s,e),u=await qo._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}async function bN(r,e){return EN(tu(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(r){const e=tu(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TN(r,e,n){if(Xn(r.app))return Promise.reject(Hs(r));const s=tu(r),f=await Vm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&cT(r),p}),m=await qo._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function SN(r,e,n){return Xn(r.app)?Promise.reject(Hs(r)):bN(It(r),dl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&cT(r),s})}function AN(r,e,n,s){return It(r).onAuthStateChanged(e,n,s)}function wN(r){return It(r).signOut()}const I0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(I0,"1"),this.storage.removeItem(I0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=1e3,RN=10;class fT extends hT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);X2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,RN):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},xN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fT.type="LOCAL";const CN=fT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN extends hT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NN.type="SESSION";new eu(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new eu(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new eu(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new eu(5e3,15e3);var D0="@firebase/auth",O0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ON(r){Fs(new es("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ue(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oT(r)},y=new tN(s,l,u,p);return cN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Fs(new es("auth-internal",e=>{const n=tu(e.getProvider("auth").getImmediate());return(s=>new IN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(D0,O0,DN(r)),di(D0,O0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=300;Ow("authIdTokenMaxAge");function MN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}nN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const u=wp("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",MN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ON("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="type.googleapis.com/google.protobuf.Int64Value",jN="type.googleapis.com/google.protobuf.UInt64Value";function dT(r,e){const n={};for(const s in r)r.hasOwnProperty(s)&&(n[s]=e(r[s]));return n}function hh(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(e=>hh(e));if(typeof r=="function"||typeof r=="object")return dT(r,e=>hh(e));throw new Error("Data cannot be encoded in JSON: "+r)}function sl(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case LN:case jN:{const e=Number(r.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+r);return e}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(e=>sl(e)):typeof r=="function"||typeof r=="object"?dT(r,e=>sl(e)):r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gn extends bi{constructor(e,n,s){super(`${Np}/${e}`,n||""),this.details=s,Object.setPrototypeOf(this,gn.prototype)}}function PN(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function fh(r,e){let n=PN(r),s=n,l;try{const u=e&&e.error;if(u){const f=u.status;if(typeof f=="string"){if(!V0[f])return new gn("internal","internal");n=V0[f],s=f}const m=u.message;typeof m=="string"&&(s=m),l=u.details,l!==void 0&&(l=sl(l))}}catch{}return n==="ok"?null:new gn(n,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n,s,l){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Xn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(u=>this.auth=u,()=>{}),this.messaging||s.get().then(u=>this.messaging=u,()=>{}),this.appCheck||l?.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),l=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:l}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="us-central1",UN=/^data: (.*?)(?:\n|$)/;function zN(r){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new gn("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{e&&clearTimeout(e)}}}class BN{constructor(e,n,s,l,u=Mm,f=(...m)=>fetch(...m)){this.app=e,this.fetchImpl=f,this.emulatorOrigin=null,this.contextProvider=new kN(e,n,s,l),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(u);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=Mm}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function qN(r,e,n){const s=ll(e);r.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(aE(r.emulatorOrigin),jw("Functions",!0))}function HN(r,e,n){const s=l=>GN(r,e,l,{});return s.stream=(l,u)=>YN(r,e,l,u),s}async function FN(r,e,n,s){n["Content-Type"]="application/json";let l;try{l=await s(r,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let u=null;try{u=await l.json()}catch{}return{status:l.status,json:u}}async function mT(r,e){const n={},s=await r.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function GN(r,e,n,s){const l=r._url(e);return QN(r,l,n,s)}async function QN(r,e,n,s){n=hh(n);const l={data:n},u=await mT(r,s),f=s.timeout||7e4,m=zN(f),p=await Promise.race([FN(e,l,u,r.fetchImpl),m.promise,r.cancelAllRequests]);if(m.cancel(),!p)throw new gn("cancelled","Firebase Functions instance was deleted.");const y=fh(p.status,p.json);if(y)throw y;if(!p.json)throw new gn("internal","Response is not valid JSON object.");let b=p.json.data;if(typeof b>"u"&&(b=p.json.result),typeof b>"u")throw new gn("internal","Response is missing data field.");return{data:sl(b)}}function YN(r,e,n,s){const l=r._url(e);return KN(r,l,n,s||{})}async function KN(r,e,n,s){var l;n=hh(n);const u={data:n},f=await mT(r,s);f["Content-Type"]="application/json",f.Accept="text/event-stream";let m;try{m=await r.fetchImpl(e,{method:"POST",body:JSON.stringify(u),headers:f,signal:s?.signal})}catch(D){if(D instanceof Error&&D.name==="AbortError"){const Q=new gn("cancelled","Request was cancelled.");return{data:Promise.reject(Q),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(Q)}}}}}}const L=fh(0,null);return{data:Promise.reject(L),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(L)}}}}}}let p,y;const b=new Promise((D,L)=>{p=D,y=L});(l=s?.signal)===null||l===void 0||l.addEventListener("abort",()=>{const D=new gn("cancelled","Request was cancelled.");y(D)});const A=m.body.getReader(),w=XN(A,p,y,s?.signal);return{stream:{[Symbol.asyncIterator](){const D=w.getReader();return{async next(){const{value:L,done:Q}=await D.read();return{value:L,done:Q}},async return(){return await D.cancel(),{done:!0,value:void 0}}}}},data:b}}function XN(r,e,n,s){const l=(f,m)=>{const p=f.match(UN);if(!p)return;const y=p[1];try{const b=JSON.parse(y);if("result"in b){e(sl(b.result));return}if("message"in b){m.enqueue(sl(b.message));return}if("error"in b){const A=fh(0,b);m.error(A),n(A);return}}catch(b){if(b instanceof gn){m.error(b),n(b);return}}},u=new TextDecoder;return new ReadableStream({start(f){let m="";return p();async function p(){if(s?.aborted){const y=new gn("cancelled","Request was cancelled");return f.error(y),n(y),Promise.resolve()}try{const{value:y,done:b}=await r.read();if(b){m.trim()&&l(m.trim(),f),f.close();return}if(s?.aborted){const w=new gn("cancelled","Request was cancelled");f.error(w),n(w),await r.cancel();return}m+=u.decode(y,{stream:!0});const A=m.split(`
`);m=A.pop()||"";for(const w of A)w.trim()&&l(w.trim(),f);return p()}catch(y){const b=y instanceof gn?y:fh(0,null);f.error(b),n(b)}}},cancel(){return r.cancel()}})}const M0="@firebase/functions",L0="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="auth-internal",JN="app-check-internal",ZN="messaging-internal";function WN(r){const e=(n,{instanceIdentifier:s})=>{const l=n.getProvider("app").getImmediate(),u=n.getProvider($N),f=n.getProvider(ZN),m=n.getProvider(JN);return new BN(l,u,f,m,s)};Fs(new es(Np,e,"PUBLIC").setMultipleInstances(!0)),di(M0,L0,r),di(M0,L0,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(r=$1(),e=Mm){const s=Hm(It(r),Np).getImmediate({identifier:e}),l=Dw("functions");return l&&tI(s,...l),s}function tI(r,e,n){qN(It(r),e,n)}function nI(r,e,n){return HN(It(r),e)}WN();console.log(" Starting Firebase init...");console.log(" Firebase imports loaded");const iI={apiKey:"AIzaSyBPvb63rhkyCJdsm0ZuPc6DbeG7ds-gD7c",authDomain:"ascension-app-e3d00.firebaseapp.com",projectId:"ascension-app-e3d00",storageBucket:"ascension-app-e3d00.firebasestorage.app",messagingSenderId:"942940274103",appId:"1:942940274103:ios:502983e5779d820167bc32",measurementId:"G-YN28QXJDE6"};console.log(" Config ready");const Ip=cE(iI);console.log(" Firebase initialized");const wo=uN(Ip,{persistence:CN});console.log(" Auth ready with browser persistence");const Zi=t2(Ip,{cacheSizeBytes:e2});console.log(" Firestore ready with unlimited cache");const rI=eI(Ip,"us-central1");console.log(" Functions ready");const pT=F.createContext();function sI({children:r}){const[e,n]=F.useState(null),[s,l]=F.useState(!1),[u,f]=F.useState(!0),[m,p]=F.useState(null);F.useEffect(()=>{console.log(" [1/3] Setting up Firebase Auth listener...");const D=setTimeout(()=>{console.error(" TIMEOUT: Firebase Auth did not respond in 30 seconds"),p("Firebase connection timeout. Please check your internet connection."),f(!1)},3e4);try{const L=AN(wo,async Q=>{if(clearTimeout(D),console.log(" [2/3] Auth state changed:",Q?.email||"no user"),Q){n(Q);try{const z=Wr(Zi,"users",Q.uid),$=await Im(z);if($.exists()){const ne=$.data();l(ne.isPremium===!0),console.log(" User is premium:",ne.isPremium)}else console.log(" No user document found"),l(!1)}catch(z){console.error(" Error fetching user data:",z),l(!1)}}else console.log(" No user logged in"),n(null),l(!1);f(!1),console.log(" [3/3] Auth initialization complete")});return()=>{clearTimeout(D),L()}}catch(L){console.error(" FATAL: Failed to setup auth listener:",L),p("Failed to initialize authentication: "+L.message),f(!1),clearTimeout(D)}},[]);const w={user:e,isPremium:s,loading:u,error:m,login:async(D,L)=>{const Q=await SN(wo,D,L),z=Wr(Zi,"users",Q.user.uid),$=await Im(z);return $.exists()&&l($.data().isPremium===!0),Q},signup:async(D,L)=>{const Q=await TN(wo,D,L);return await Yb(Wr(Zi,"users",Q.user.uid),{email:D,isPremium:!1,createdAt:new Date().toISOString()}),l(!1),Q},logout:()=>wN(wo)};return m?E.jsxs("div",{style:{position:"fixed",inset:0,backgroundColor:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"20px",textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),E.jsx("h2",{style:{fontSize:"24px",marginBottom:"10px"},children:"Connection Error"}),E.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:m}),E.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"12px 24px",backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",cursor:"pointer"},children:"Retry"})]}):E.jsx(pT.Provider,{value:w,children:r})}function ta(){return F.useContext(pT)}function aI({isOpen:r,onClose:e,onSuccess:n}){const[s,l]=F.useState(!0),[u,f]=F.useState(""),[m,p]=F.useState(""),[y,b]=F.useState(""),[A,w]=F.useState(!1),{signup:D,login:L}=ta();if(!r)return null;const Q=async z=>{z.preventDefault(),b(""),w(!0);try{s?await L(u,m):await D(u,m),n?.(),e()}catch($){b($.message)}finally{w(!1)}};return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s?"Welcome Back":"Create Account"}),E.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:""})]}),E.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),E.jsx("input",{type:"email",value:u,onChange:z=>f(z.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),E.jsx("input",{type:"password",value:m,onChange:z=>p(z.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0,minLength:6})]}),y&&E.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:y}),E.jsx("button",{type:"submit",disabled:A,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:A?"Please wait...":s?"Log In":"Sign Up"})]}),E.jsx("div",{className:"mt-6 text-center",children:E.jsx("button",{onClick:()=>l(!s),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:s?"Don't have an account? Sign up":"Already have an account? Log in"})})]})})}function lI({onStartCalculator:r}){const[e,n]=F.useState(!1);return E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-4",children:E.jsxs("div",{className:"max-w-2xl w-full text-center space-y-8",children:[E.jsx("div",{className:"flex justify-center",children:E.jsx("div",{className:"bg-blue-600 text-white w-20 h-20 rounded-2xl flex items-center justify-center text-4xl shadow-lg",children:""})}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("h1",{className:"text-5xl font-bold text-gray-900",children:"Refurbly"}),E.jsx("p",{className:"text-xl text-gray-600",children:"Get instant refurbishment estimates"}),E.jsx("p",{className:"text-lg text-gray-500",children:"Powered by real UK trade rates"})]}),E.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[E.jsxs("button",{onClick:()=>n(!0),className:"w-full bg-white border-2 border-gray-200 text-gray-900 py-4 px-6 rounded-xl font-semibold hover:border-blue-500 hover:bg-blue-50 transition shadow-sm flex items-center justify-center gap-3 group",children:[E.jsx("span",{className:"text-2xl",children:""}),E.jsxs("div",{className:"text-left",children:[E.jsx("div",{className:"font-bold",children:"Login / Sign Up"}),E.jsx("div",{className:"text-sm text-gray-500 font-normal",children:"Access your saved quotes"})]})]}),E.jsxs("button",{onClick:r,className:"w-full bg-blue-600 text-white py-4 px-6 rounded-xl font-semibold hover:bg-blue-700 transition shadow-lg flex items-center justify-center gap-3",children:[E.jsx("span",{className:"text-2xl",children:""}),E.jsxs("div",{className:"text-left",children:[E.jsx("div",{className:"font-bold",children:"Start Calculator"}),E.jsx("div",{className:"text-sm text-blue-100 font-normal",children:"No login required"})]})]})]}),E.jsx("div",{className:"pt-8 text-sm text-gray-500",children:E.jsx("p",{children:"For estate agents and property professionals"})})]})}),E.jsx(aI,{isOpen:e,onClose:()=>n(!1),onSuccess:()=>{}})]})}function gT({quoteData:r}){const[e,n]=F.useState(!1),[s,l]=F.useState(""),{user:u}=ta(),f=async()=>{if(!u){l("Please sign in first");return}n(!0),l("");try{const m=wo.currentUser;if(!m)throw new Error("Please sign in again");await m.getIdToken(!0),console.log("Creating checkout session...");const y=await nI(rI,"createCheckoutSession")({quoteData:r});console.log("Checkout session created:",y.data);const{url:b}=y.data;window.location.href=b}catch(m){console.error("Payment error:",m),m.code==="unauthenticated"?l("Please sign out and sign in again, then try payment."):l(m.message||"Payment failed. Please try again."),n(!1)}};return E.jsxs("div",{children:[E.jsx("button",{onClick:f,disabled:e||!u,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Redirecting to payment...":"Unlock Now - 9.99 one-time"}),s&&E.jsx("div",{className:"mt-2 text-red-600 text-sm",children:s}),!u&&E.jsx("div",{className:"mt-2 text-amber-600 text-sm",children:"Please sign in first to unlock premium features"})]})}const Yr={decoration:{light:{budget:200,standard:300,premium:500},standard:{budget:400,standard:600,premium:1e3},full:{budget:600,standard:900,premium:1500}},flooring:{light:{budget:25,standard:35,premium:50},standard:{budget:40,standard:60,premium:90},full:{budget:70,standard:95,premium:130}},plastering:{light:{budget:0,standard:0,premium:0},standard:{budget:25,standard:35,premium:50},full:{budget:45,standard:60,premium:80}},kitchen:{budget:5e3,standard:8e3,premium:15e3},bathroom:{budget:3e3,standard:4500,premium:7500},extras:{rewire:{budget:2500,standard:3500,premium:5e3},heating:{budget:3e3,standard:4e3,premium:6e3},windows:{budget:4e3,standard:6e3,premium:9e3}}};function oI({onQuoteSaved:r,editingQuote:e,quotesCount:n,maxQuotes:s,onEditComplete:l}){const[u,f]=F.useState(1),{user:m,isPremium:p}=ta(),[y,b]=F.useState(!1),[A,w]=F.useState(!1),D=!!e,[L,Q]=F.useState({bedrooms:"2",bathrooms:"1",propertyType:"house",totalSqm:"75",location:"",refurbLevel:"standard",quality:"standard",includeKitchen:!0,includeBathroom:!0,includeRewire:!1,includeHeating:!1,includeWindows:!1});F.useEffect(()=>{e&&Q({bedrooms:String(e.bedrooms||"2"),bathrooms:String(e.bathrooms||"1"),propertyType:e.propertyType||"house",totalSqm:String(e.totalSqm||"75"),location:e.location||"",refurbLevel:e.refurbLevel||"standard",quality:e.quality||"standard",includeKitchen:e.includeKitchen!==!1,includeBathroom:e.includeBathroom!==!1,includeRewire:e.includeRewire||!1,includeHeating:e.includeHeating||!1,includeWindows:e.includeWindows||!1})},[e]);const z=(re,ye)=>{Q(I=>({...I,[re]:ye}))},$=F.useMemo(()=>{const re=parseFloat(L.totalSqm)||75,ye=parseInt(L.bathrooms)||1,{refurbLevel:I,quality:x,includeKitchen:R,includeBathroom:V,includeRewire:j,includeHeating:k,includeWindows:N}=L;let Ge={};const xt=Yr.decoration[I][x],K=re*Yr.flooring[I][x],le=re*Yr.plastering[I][x];Ge.decorationLabour=xt,Ge.flooringTotal=K,le>0&&(Ge.plastering=le),R&&(Ge.kitchen=Yr.kitchen[x]),V&&(Ge.bathrooms=Yr.bathroom[x]*ye),j&&(Ge.rewire=Yr.extras.rewire[x]),k&&(Ge.heating=Yr.extras.heating[x]),N&&(Ge.windows=Yr.extras.windows[x]);const de=Object.values(Ge).reduce((ze,M)=>ze+M,0),Le=Math.round(de*.15);return{breakdown:Ge,subtotal:de,contingency:Le,total:de+Le}},[L]),ne=async()=>{if(!m){alert("Please sign in to save quotes");return}if(!D&&n>=s){alert(p?"You've reached the maximum of 10 saved quotes. Please delete some quotes to add new ones.":"You've reached your free limit of 5 quotes. Upgrade to Premium to save more!");return}b(!0),w(!1);try{const re={userId:m.uid,location:L.location||"No location specified",propertyType:L.propertyType,bedrooms:parseInt(L.bedrooms),bathrooms:parseInt(L.bathrooms),totalSqm:parseFloat(L.totalSqm),refurbLevel:L.refurbLevel,quality:L.quality,includeKitchen:L.includeKitchen,includeBathroom:L.includeBathroom,includeRewire:L.includeRewire,includeHeating:L.includeHeating,includeWindows:L.includeWindows,estimate:$.total,breakdown:$.breakdown,updatedAt:new Date().toISOString()};D?(await v2(Wr(Zi,"quotes",e.id),re),w(!0),setTimeout(()=>{l&&l()},1500)):(re.createdAt=new Date().toISOString(),await E2(jb(Zi,"quotes"),re),w(!0),r&&r(),setTimeout(()=>w(!1),3e3))}catch(re){console.error("Error saving quote:",re),alert("Failed to save quote. Please try again.")}finally{b(!1)}},ie=()=>f(re=>Math.min(re+1,4)),me=()=>f(re=>Math.max(re-1,1));return E.jsxs("div",{className:"max-w-4xl mx-auto",children:[D&&E.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-2xl",children:""}),E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold text-blue-900",children:"Editing Quote"}),E.jsxs("p",{className:"text-sm text-blue-700",children:[e.location||"No location","  Changes will update this quote"]})]})]})}),E.jsxs("div",{className:"mb-8",children:[E.jsx("div",{className:"flex items-center justify-between mb-2",children:[1,2,3,4].map(re=>E.jsxs("div",{className:"flex items-center flex-1",children:[E.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all ${re<=u?"bg-blue-600 text-white shadow-lg":"bg-slate-200 text-slate-400"}`,children:re}),re<4&&E.jsx("div",{className:`h-1 flex-1 mx-2 rounded transition-all ${re<u?"bg-blue-600":"bg-slate-200"}`})]},re))}),E.jsxs("div",{className:"flex justify-between text-xs sm:text-sm text-slate-600 mt-2",children:[E.jsx("span",{children:"Property"}),E.jsx("span",{children:"Refurb Type"}),E.jsx("span",{children:"Quality"}),E.jsx("span",{children:"Estimate"})]})]}),E.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-200 p-6 sm:p-8",children:[u===1&&E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Property Details"}),E.jsx("p",{className:"text-slate-600 mb-6",children:"Tell us about the property you're refurbishing"}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Property Location (optional)"}),E.jsx("input",{type:"text",value:L.location,onChange:re=>z("location",re.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:border-blue-600 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"e.g., 123 Oak Street, Manchester"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Property Type"}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:["flat","house","maisonette"].map(re=>E.jsx("button",{type:"button",onClick:()=>z("propertyType",re),className:`p-4 rounded-xl border-2 font-medium transition-all capitalize ${L.propertyType===re?"border-blue-600 bg-blue-50 text-blue-700":"border-slate-200 hover:border-slate-300 text-slate-700"}`,children:re},re))})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Bedrooms"}),E.jsx("input",{type:"number",min:"1",max:"10",value:L.bedrooms,onChange:re=>z("bedrooms",re.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:border-blue-600 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Bathrooms"}),E.jsx("input",{type:"number",min:"1",max:"6",value:L.bathrooms,onChange:re=>z("bathrooms",re.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:border-blue-600 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Total Floor Area (sqm)",E.jsx("span",{className:"ml-2 text-xs font-normal text-slate-500",children:"Optional"})]}),E.jsx("input",{type:"number",min:"20",max:"500",value:L.totalSqm,onChange:re=>z("totalSqm",re.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:border-blue-600 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"e.g., 75"})]})]})]}),u===2&&E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Refurbishment Scope"}),E.jsx("p",{className:"text-slate-600 mb-6",children:"What work needs doing?"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Refurb Level"}),E.jsx("div",{className:"space-y-3",children:[{value:"light",label:"Light Refresh",desc:"Paint, carpets, cosmetic updates"},{value:"standard",label:"Standard Refurb",desc:"Full decoration, flooring, kitchen & bathroom refresh"},{value:"full",label:"Full Refurbishment",desc:"Complete overhaul - everything renewed"}].map(re=>E.jsxs("button",{type:"button",onClick:()=>z("refurbLevel",re.value),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${L.refurbLevel===re.value?"border-blue-600 bg-blue-50":"border-slate-200 hover:border-slate-300"}`,children:[E.jsx("div",{className:"font-semibold text-slate-900",children:re.label}),E.jsx("div",{className:"text-sm text-slate-600 mt-1",children:re.desc})]},re.value))})]}),E.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[E.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Additional Works"}),E.jsx("div",{className:"space-y-2",children:[{field:"includeKitchen",label:"Include kitchen refurb"},{field:"includeBathroom",label:"Include bathroom refurb"},{field:"includeRewire",label:"Full electrical rewire"},{field:"includeHeating",label:"New heating system/boiler"},{field:"includeWindows",label:"Replace windows"}].map(re=>E.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-slate-50 cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:L[re.field],onChange:ye=>z(re.field,ye.target.checked),className:"w-5 h-5 rounded border-slate-300 text-blue-600"}),E.jsx("span",{className:"text-slate-700",children:re.label})]},re.field))})]})]})]}),u===3&&E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Quality Level"}),E.jsx("p",{className:"text-slate-600 mb-6",children:"What standard of finish are you aiming for?"}),E.jsx("div",{className:"space-y-3",children:[{value:"budget",label:"Budget",desc:"Basic, functional finish",icon:""},{value:"standard",label:"Standard",desc:"Good quality, mid-range finishes",icon:""},{value:"premium",label:"Premium",desc:"High-end finishes and fittings",icon:""}].map(re=>E.jsx("button",{type:"button",onClick:()=>z("quality",re.value),className:`w-full p-5 rounded-xl border-2 text-left transition-all ${L.quality===re.value?"border-blue-600 bg-blue-50":"border-slate-200 hover:border-slate-300"}`,children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("span",{className:"text-3xl",children:re.icon}),E.jsxs("div",{children:[E.jsx("div",{className:"font-semibold text-slate-900 text-lg",children:re.label}),E.jsx("div",{className:"text-sm text-slate-600 mt-1",children:re.desc})]})]})},re.value))})]}),u===4&&E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:D?"Updated Estimate":"Your Estimate"}),E.jsxs("p",{className:"text-slate-600 mb-6",children:[L.location&&`${L.location}  `,L.bedrooms," bed ",L.propertyType,"  ",L.quality," quality"]}),E.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-6 text-white shadow-lg mb-6",children:[E.jsx("div",{className:"text-sm opacity-90 mb-1",children:"Total Estimated Cost"}),E.jsxs("div",{className:"text-4xl font-bold",children:["",$.total.toLocaleString()]}),E.jsx("div",{className:"text-sm opacity-75 mt-2",children:"Including 15% contingency"})]}),!p&&!D&&E.jsx("div",{className:"border-2 border-blue-200 bg-blue-50 rounded-xl p-6 mb-6",children:E.jsxs("div",{className:"flex items-start gap-4",children:[E.jsx("div",{className:"text-4xl",children:""}),E.jsxs("div",{className:"flex-1",children:[E.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Unlock Full Breakdown"}),E.jsx("p",{className:"text-slate-700 mb-4",children:"Get detailed costs and edit saved quotes"}),E.jsxs("ul",{className:"space-y-2 mb-4 text-sm text-slate-700",children:[E.jsxs("li",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-green-600",children:""})," Save up to 10 quotes (vs 5 free)"]}),E.jsxs("li",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-green-600",children:""})," Full cost breakdown"]}),E.jsxs("li",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-green-600",children:""})," Edit saved quotes"]})]}),m?E.jsx(gT,{quoteData:L}):E.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:E.jsx("p",{className:"text-sm text-amber-800",children:"Please sign in to unlock premium features"})})]})]})}),p&&E.jsxs("div",{className:"space-y-3 mb-6",children:[E.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-4",children:E.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[E.jsx("span",{className:"text-xl",children:""}),E.jsx("span",{className:"font-semibold",children:"Premium - Full breakdown"})]})}),$.breakdown.decorationLabour&&E.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-slate-200",children:[E.jsx("span",{className:"text-slate-700",children:"Decoration Labour"}),E.jsxs("span",{className:"font-semibold text-slate-900",children:["",$.breakdown.decorationLabour.toLocaleString()]})]}),$.breakdown.flooringTotal&&E.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-slate-200",children:[E.jsxs("span",{className:"text-slate-700",children:["Flooring (",parseFloat(L.totalSqm),"sqm)"]}),E.jsxs("span",{className:"font-semibold text-slate-900",children:["",Math.round($.breakdown.flooringTotal).toLocaleString()]})]}),$.breakdown.plastering&&E.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-slate-200",children:[E.jsx("span",{className:"text-slate-700",children:"Plastering"}),E.jsxs("span",{className:"font-semibold text-slate-900",children:["",Math.round($.breakdown.plastering).toLocaleString()]})]}),$.breakdown.kitchen&&E.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-slate-200",children:[E.jsx("span",{className:"text-slate-700",children:"Kitchen"}),E.jsxs("span",{className:"font-semibold text-slate-900",children:["",$.breakdown.kitchen.toLocaleString()]})]}),$.breakdown.bathrooms&&E.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-slate-200",children:[E.jsx("span",{className:"text-slate-700",children:"Bathrooms"}),E.jsxs("span",{className:"font-semibold text-slate-900",children:["",$.breakdown.bathrooms.toLocaleString()]})]}),$.breakdown.rewire&&E.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-slate-200",children:[E.jsx("span",{className:"text-slate-700",children:"Rewire"}),E.jsxs("span",{className:"font-semibold text-slate-900",children:["",$.breakdown.rewire.toLocaleString()]})]}),$.breakdown.heating&&E.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-slate-200",children:[E.jsx("span",{className:"text-slate-700",children:"Heating"}),E.jsxs("span",{className:"font-semibold text-slate-900",children:["",$.breakdown.heating.toLocaleString()]})]}),$.breakdown.windows&&E.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-slate-200",children:[E.jsx("span",{className:"text-slate-700",children:"Windows"}),E.jsxs("span",{className:"font-semibold text-slate-900",children:["",$.breakdown.windows.toLocaleString()]})]})]}),A&&E.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:E.jsxs("p",{className:"text-green-800 font-semibold",children:[" Quote ",D?"updated":"saved"," successfully!"]})}),E.jsxs("div",{className:"flex flex-col gap-3",children:[m&&E.jsx("button",{onClick:ne,disabled:y,className:"w-full px-6 py-3 rounded-xl bg-green-600 hover:bg-green-700 text-white font-semibold transition-all disabled:opacity-50",children:y?D?"Updating...":"Saving...":D?" Update Quote":" Save Quote"}),E.jsx("button",{type:"button",className:"w-full px-6 py-3 rounded-xl bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold transition-all",children:" Email This Quote"}),!D&&E.jsx("button",{type:"button",onClick:()=>f(1),className:"w-full px-6 py-3 rounded-xl bg-white border-2 border-slate-200 hover:border-slate-300 text-slate-700 font-semibold transition-all",children:" Start Again"})]})]}),u<4&&E.jsxs("div",{className:"flex gap-3 mt-8 pt-6 border-t border-slate-200",children:[u>1&&E.jsx("button",{type:"button",onClick:me,className:"px-6 py-3 rounded-xl bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold transition-all",children:"Back"}),E.jsx("button",{type:"button",onClick:ie,className:"flex-1 px-6 py-3 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-semibold transition-all shadow-lg",children:u===3?"Get Estimate":"Next"})]})]})]})}function uI({quoteId:r,onClose:e,onEdit:n}){const[s,l]=F.useState(null),[u,f]=F.useState(!0),{isPremium:m}=ta();F.useEffect(()=>{p()},[r]);const p=async()=>{try{const y=Wr(Zi,"quotes",r),b=await Im(y);b.exists()&&l({id:b.id,...b.data()})}catch(y){console.error("Error loading quote:",y)}finally{f(!1)}};return u?E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:E.jsx("div",{className:"bg-white rounded-2xl p-8 max-w-4xl w-full",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),E.jsx("p",{className:"mt-4 text-gray-600",children:"Loading quote..."})]})})}):s?E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full my-8",children:[E.jsxs("div",{className:"border-b border-gray-200 p-6 flex justify-between items-start",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s.location||"No location"}),E.jsxs("p",{className:"text-gray-600 mt-1",children:[s.bedrooms," bed ",s.propertyType,"  ",s.totalSqm," sqm  ",s.quality," quality"]})]}),E.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none",children:""})]}),E.jsxs("div",{className:"p-6",children:[E.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-6 text-white mb-6",children:[E.jsx("div",{className:"text-sm opacity-90 mb-1",children:"Total Estimated Cost"}),E.jsxs("div",{className:"text-4xl font-bold",children:["",s.estimate?.toLocaleString()||"0"]}),E.jsx("div",{className:"text-sm opacity-75 mt-2",children:"Including 15% contingency"})]}),m&&E.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-6 flex items-center gap-2",children:[E.jsx("span",{className:"text-green-600 text-xl",children:""}),E.jsx("span",{className:"text-green-800 font-semibold",children:"Premium Account - Full breakdown unlocked"})]}),m&&s.breakdown?E.jsxs("div",{className:"space-y-3 mb-6",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Cost Breakdown"}),s.breakdown.decorationLabour&&E.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-900 font-medium",children:"Decoration Labour"}),E.jsx("p",{className:"text-sm text-gray-500",children:"Professional painting throughout"})]}),E.jsxs("span",{className:"font-bold text-gray-900",children:["",s.breakdown.decorationLabour.toLocaleString()]})]}),s.breakdown.flooringTotal&&E.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[E.jsxs("div",{children:[E.jsxs("span",{className:"text-gray-900 font-medium",children:["Flooring (",s.totalSqm," sqm)"]}),E.jsx("p",{className:"text-sm text-gray-500",children:"Materials and installation"})]}),E.jsxs("span",{className:"font-bold text-gray-900",children:["",Math.round(s.breakdown.flooringTotal).toLocaleString()]})]}),s.breakdown.plastering&&E.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[E.jsxs("div",{children:[E.jsxs("span",{className:"text-gray-900 font-medium",children:["Plastering (",s.totalSqm," sqm)"]}),E.jsx("p",{className:"text-sm text-gray-500",children:"Walls and ceilings"})]}),E.jsxs("span",{className:"font-bold text-gray-900",children:["",Math.round(s.breakdown.plastering).toLocaleString()]})]}),s.breakdown.kitchen&&E.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-900 font-medium",children:"Kitchen Refurbishment"}),E.jsx("p",{className:"text-sm text-gray-500",children:"Complete kitchen renewal"})]}),E.jsxs("span",{className:"font-bold text-gray-900",children:["",s.breakdown.kitchen.toLocaleString()]})]}),s.breakdown.bathrooms&&E.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-900 font-medium",children:"Bathroom Refurbishment"}),E.jsxs("p",{className:"text-sm text-gray-500",children:[s.bathrooms," bathroom(s)"]})]}),E.jsxs("span",{className:"font-bold text-gray-900",children:["",s.breakdown.bathrooms.toLocaleString()]})]}),s.breakdown.rewire&&E.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-900 font-medium",children:"Full Electrical Rewire"}),E.jsx("p",{className:"text-sm text-gray-500",children:"Complete rewiring"})]}),E.jsxs("span",{className:"font-bold text-gray-900",children:["",s.breakdown.rewire.toLocaleString()]})]}),s.breakdown.heating&&E.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-900 font-medium",children:"New Heating System"}),E.jsx("p",{className:"text-sm text-gray-500",children:"Boiler and radiators"})]}),E.jsxs("span",{className:"font-bold text-gray-900",children:["",s.breakdown.heating.toLocaleString()]})]}),s.breakdown.windows&&E.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-900 font-medium",children:"Window Replacement"}),E.jsx("p",{className:"text-sm text-gray-500",children:"Double glazed throughout"})]}),E.jsxs("span",{className:"font-bold text-gray-900",children:["",s.breakdown.windows.toLocaleString()]})]})]}):E.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-6 mb-6",children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("span",{className:"text-3xl",children:""}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Upgrade to see full breakdown"}),E.jsx("p",{className:"text-gray-700 text-sm",children:"Premium members get detailed cost breakdowns showing decoration, flooring, plastering, and more."})]})]})}),E.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Project Scope"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-600",children:"Refurb Level"}),E.jsx("p",{className:"font-semibold capitalize",children:s.refurbLevel})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-600",children:"Quality"}),E.jsx("p",{className:"font-semibold capitalize",children:s.quality})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-600",children:"Kitchen"}),E.jsx("p",{className:"font-semibold",children:s.includeKitchen?"Included":"Not included"})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-600",children:"Bathroom"}),E.jsx("p",{className:"font-semibold",children:s.includeBathroom?"Included":"Not included"})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-600",children:"Rewire"}),E.jsx("p",{className:"font-semibold",children:s.includeRewire?"Yes":"No"})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-600",children:"Heating"}),E.jsx("p",{className:"font-semibold",children:s.includeHeating?"Yes":"No"})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-600",children:"Windows"}),E.jsx("p",{className:"font-semibold",children:s.includeWindows?"Yes":"No"})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-600",children:"Created"}),E.jsx("p",{className:"font-semibold",children:new Date(s.createdAt).toLocaleDateString()})]})]})]})]}),E.jsxs("div",{className:"border-t border-gray-200 p-6 flex gap-3",children:[m&&E.jsx("button",{onClick:()=>n(s),className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:" Edit Quote"}),E.jsx("button",{onClick:e,className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-200 transition",children:"Close"})]})]})}):null}function j0(){const{user:r,isPremium:e,logout:n}=ta(),[s,l]=F.useState(!1),[u,f]=F.useState(!1),[m,p]=F.useState(""),[y,b]=F.useState(!1),A=F.useRef(null);F.useEffect(()=>{function D(L){A.current&&!A.current.contains(L.target)&&l(!1)}return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const w=async D=>{D.preventDefault(),b(!0),alert("Thanks for your message! We'll get back to you soon."),p(""),f(!1),b(!1)};return r?E.jsxs("div",{className:"relative",ref:A,children:[E.jsxs("button",{onClick:()=>l(!s),className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-gray-100 transition",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center font-semibold",children:r.email[0].toUpperCase()}),E.jsx("span",{className:"text-sm font-medium text-gray-700 hidden sm:block",children:r.email.split("@")[0]})]}),s&&E.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white rounded-xl shadow-xl border border-gray-200 z-50",children:[E.jsxs("div",{className:"p-4 border-b border-gray-200",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[E.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-xl",children:r.email[0].toUpperCase()}),E.jsxs("div",{className:"flex-1",children:[E.jsx("p",{className:"font-semibold text-gray-900",children:r.email.split("@")[0]}),E.jsx("p",{className:"text-xs text-gray-500 truncate",children:r.email})]})]}),e?E.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2 mt-3",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-green-600 text-lg",children:""}),E.jsx("span",{className:"text-sm font-semibold text-green-800",children:"Premium Account"})]}),E.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Full access to all features"})]}):E.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-2 mt-3",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-gray-600",children:""}),E.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"Free Account"})]}),E.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Up to 5 saved quotes"})]})]}),E.jsxs("div",{className:"p-2",children:[E.jsx("button",{onClick:()=>{f(!0),l(!1)},className:"w-full text-left px-4 py-2 rounded-lg hover:bg-gray-100 transition text-sm text-gray-700",children:" Contact Support"}),E.jsx("button",{onClick:()=>{n(),l(!1)},className:"w-full text-left px-4 py-2 rounded-lg hover:bg-gray-100 transition text-sm text-red-600",children:" Sign Out"})]})]}),u&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Contact Support"}),E.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),E.jsxs("form",{onSubmit:w,children:[E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Email"}),E.jsx("input",{type:"text",value:r.email,disabled:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 bg-gray-50 text-gray-600"})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message"}),E.jsx("textarea",{value:m,onChange:D=>p(D.target.value),required:!0,rows:5,className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-600 focus:ring-4 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"How can we help you?"})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-4 py-2 rounded-lg border-2 border-gray-200 hover:border-gray-300 text-gray-700 font-semibold transition",children:"Cancel"}),E.jsx("button",{type:"submit",disabled:y||!m.trim(),className:"flex-1 px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-semibold transition disabled:opacity-50",children:y?"Sending...":"Send"})]})]})]})})]}):null}function cI(){const{user:r,loading:e,logout:n,isPremium:s}=ta(),[l,u]=F.useState("home"),[f,m]=F.useState([]),[p,y]=F.useState(!1),[b,A]=F.useState(null),[w,D]=F.useState(null),L=s?10:5;F.useEffect(()=>{console.log(" isPremium:",s)},[s]),F.useEffect(()=>{r&&l==="home"&&u("dashboard")},[r,l]),F.useEffect(()=>{l==="dashboard"&&r&&Q()},[l,r]);const Q=async()=>{if(r){y(!0);try{const ie=d2(jb(Zi,"quotes"),m2("userId","==",r.uid)),me=await y2(ie),re=[];me.forEach(ye=>{re.push({id:ye.id,...ye.data()})}),re.sort((ye,I)=>new Date(I.createdAt)-new Date(ye.createdAt)),m(re)}catch(ie){console.error("Error loading quotes:",ie)}finally{y(!1)}}},z=async ie=>{if(window.confirm("Are you sure you want to delete this quote?"))try{await _2(Wr(Zi,"quotes",ie)),m(me=>me.filter(re=>re.id!==ie))}catch(me){console.error("Error deleting quote:",me),alert("Failed to delete quote")}},$=ie=>{D(ie),A(null),u("calculator")},ne=()=>{l==="dashboard"&&Q()};return e?E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),E.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):E.jsxs(E.Fragment,{children:[l==="home"&&E.jsx(lI,{onStartCalculator:()=>u("calculator")}),l==="calculator"&&E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[E.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("button",{onClick:()=>{D(null),u(r?"dashboard":"home")},className:"text-2xl hover:opacity-70 transition",children:""}),E.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Refurbly"})]}),!r&&E.jsx("button",{onClick:()=>u("home"),className:"px-4 py-2 text-blue-600 font-semibold hover:bg-blue-50 rounded-lg transition",children:"Sign In"}),r&&E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{onClick:()=>{D(null),u("dashboard")},className:"px-4 py-2 text-blue-600 font-semibold hover:bg-blue-50 rounded-lg transition",children:"My Quotes"}),E.jsx(j0,{})]})]}),E.jsx("div",{className:"p-6",children:E.jsx(oI,{onQuoteSaved:ne,editingQuote:w,quotesCount:f.length,maxQuotes:L,onEditComplete:()=>{D(null),u("dashboard"),Q()}})})]}),l==="dashboard"&&E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[E.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"My Saved Quotes"}),E.jsxs("p",{className:"text-sm text-gray-600",children:[f.length," / ",L," quotes used",s&&E.jsx("span",{className:"ml-2 text-green-600 font-semibold",children:" Premium"})]})]}),E.jsx(j0,{})]}),E.jsx("div",{className:"p-6",children:E.jsxs("div",{className:"max-w-6xl mx-auto",children:[!s&&f.length>=5&&E.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl p-8 mb-6 text-white shadow-xl",children:E.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("h2",{className:"text-2xl font-bold mb-2",children:"You've reached your free quote limit!"}),E.jsx("p",{className:"text-blue-100 mb-4",children:"Upgrade to Premium to save up to 10 quotes, get full breakdowns, and edit your saved quotes."})]}),E.jsxs("div",{className:"bg-white rounded-xl p-6 text-center min-w-[250px]",children:[E.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"9.99"}),E.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"One-time payment"}),E.jsx(gT,{quoteData:{}})]})]})}),E.jsx("div",{className:"mb-6",children:E.jsx("button",{onClick:()=>{if(!s&&f.length>=5){alert("You've reached your free limit of 5 quotes. Upgrade to Premium to save more!");return}if(s&&f.length>=10){alert("You've reached the maximum of 10 saved quotes. Please delete some quotes to add new ones.");return}D(null),u("calculator")},className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"+ Create New Quote"})}),p?E.jsxs("div",{className:"text-center py-12",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),E.jsx("p",{className:"mt-4 text-gray-600",children:"Loading quotes..."})]}):f.length===0?E.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[E.jsx("div",{className:"text-6xl mb-4",children:""}),E.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No saved quotes yet"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first quote to see it here"})]}):E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(ie=>E.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 p-6 hover:shadow-xl transition",children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("h3",{className:"font-bold text-lg text-gray-900 truncate",children:ie.location||"No location"}),E.jsxs("p",{className:"text-sm text-gray-600",children:[ie.bedrooms," bed ",ie.propertyType]})]}),E.jsx("button",{onClick:()=>z(ie.id),className:"text-red-500 hover:text-red-700 text-xl ml-2",title:"Delete quote",children:""})]}),E.jsxs("div",{className:"space-y-2 mb-4",children:[E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-gray-600",children:"Floor area:"}),E.jsxs("span",{className:"font-semibold",children:[ie.totalSqm," sqm"]})]}),E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-gray-600",children:"Quality:"}),E.jsx("span",{className:"font-semibold capitalize",children:ie.quality})]}),E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-gray-600",children:"Refurb level:"}),E.jsx("span",{className:"font-semibold capitalize",children:ie.refurbLevel})]})]}),E.jsxs("div",{className:"border-t pt-4 mb-4",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("span",{className:"text-gray-600",children:"Total estimate:"}),E.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["",ie.estimate?.toLocaleString()||"0"]})]}),E.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Saved: ",new Date(ie.createdAt).toLocaleDateString()]})]}),E.jsx("div",{className:"flex gap-2",children:s?E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:()=>A(ie.id),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-blue-700 transition",children:" View Details"}),E.jsx("button",{onClick:()=>$(ie),className:"flex-1 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg text-sm font-semibold hover:bg-gray-200 transition",children:" Edit"})]}):E.jsx("button",{disabled:!0,className:"flex-1 bg-gray-100 text-gray-400 px-4 py-2 rounded-lg text-sm font-semibold cursor-not-allowed",title:"Upgrade to Premium to view details",children:" Upgrade to View"})})]},ie.id))})]})})]}),b&&E.jsx(uI,{quoteId:b,onClose:()=>A(null),onEdit:$})]})}function hI(){Q0();const{user:r}=ta(),[e,n]=F.useState(5);return F.useEffect(()=>{(async()=>{r&&await Yb(Wr(Zi,"users",r.uid),{isPremium:!0,upgradedAt:new Date().toISOString()},{merge:!0})})();const l=setInterval(()=>{n(u=>u<=1?(clearInterval(l),window.location.href="/",0):u-1)},1e3);return()=>clearInterval(l)},[r]),E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-2xl w-full",children:[E.jsxs("div",{className:"text-center mb-6",children:[E.jsx("div",{className:"text-6xl mb-4",children:""}),E.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to Premium!"}),E.jsx("p",{className:"text-gray-600",children:"Your payment was successful. You now have access to all premium features!"})]}),E.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 mb-6",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"What's Unlocked:"}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("span",{className:"text-2xl",children:""}),E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold text-gray-900",children:"Save up to 10 quotes"}),E.jsx("p",{className:"text-sm text-gray-600",children:"Increased from 5 free quotes"})]})]}),E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("span",{className:"text-2xl",children:""}),E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold text-gray-900",children:"Full cost breakdown"}),E.jsx("p",{className:"text-sm text-gray-600",children:"See detailed costs for decoration, flooring, plastering, kitchen, bathroom, and extras"})]})]}),E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("span",{className:"text-2xl",children:""}),E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold text-gray-900",children:"Edit saved quotes"}),E.jsx("p",{className:"text-sm text-gray-600",children:"Update any quote and see costs recalculate instantly"})]})]}),E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("span",{className:"text-2xl",children:""}),E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold text-gray-900",children:"Local contractor contacts"}),E.jsx("p",{className:"text-sm text-gray-600",children:"Coming soon - connect with trusted tradespeople"})]})]}),E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("span",{className:"text-2xl",children:""}),E.jsxs("div",{children:[E.jsx("p",{className:"font-semibold text-gray-900",children:"PDF export"}),E.jsx("p",{className:"text-sm text-gray-600",children:"Coming soon - download professional quotes"})]})]})]})]}),E.jsxs("div",{className:"text-center",children:[E.jsxs("p",{className:"text-gray-600 mb-2",children:["Redirecting to your dashboard in ",E.jsx("span",{className:"font-bold text-blue-600",children:e})," seconds..."]}),E.jsx("button",{onClick:()=>window.location.href="/",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Go to Dashboard Now "})]})]})})}console.log(" App loading");WS.createRoot(document.getElementById("root")).render(E.jsx(F.StrictMode,{children:E.jsx(sI,{children:E.jsx(fw,{children:E.jsxs(HA,{children:[E.jsx(sm,{path:"/",element:E.jsx(cI,{})}),E.jsx(sm,{path:"/success",element:E.jsx(hI,{})})]})})})}));console.log(" React rendered");
