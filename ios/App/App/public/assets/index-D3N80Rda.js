(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var ip={exports:{}},ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function BR(){if(D0)return ru;D0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:u}}return ru.Fragment=e,ru.jsx=t,ru.jsxs=t,ru}var O0;function qR(){return O0||(O0=1,ip.exports=BR()),ip.exports}var b=qR(),rp={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function FR(){if(P0)return Ae;P0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function C(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,L={};function Y(M,J,ae){this.props=M,this.context=J,this.refs=L,this.updater=ae||O}Y.prototype.isReactComponent={},Y.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},Y.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ne(){}ne.prototype=Y.prototype;function ie(M,J,ae){this.props=M,this.context=J,this.refs=L,this.updater=ae||O}var me=ie.prototype=new ne;me.constructor=ie,q(me,Y.prototype),me.isPureReactComponent=!0;var re=Array.isArray;function pe(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(M,J,ae){var de=ae.ref;return{$$typeof:i,type:M,key:J,ref:de!==void 0?de:null,props:ae}}function P(M,J){return I(M.type,J,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function U(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return J[ae]})}var x=/\/+/g;function Xe(M,J){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):J.toString(36)}function it(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(pe,pe):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function X(M,J,ae,de,be){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Ue=!1;if(M===null)Ue=!0;else switch(xe){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(M.$$typeof){case i:case e:Ue=!0;break;case v:return Ue=M._init,X(Ue(M._payload),J,ae,de,be)}}if(Ue)return be=be(M),Ue=de===""?"."+Xe(M,0):de,re(be)?(ae="",Ue!=null&&(ae=Ue.replace(x,"$&/")+"/"),X(be,J,ae,"",function(pi){return pi})):be!=null&&(V(be)&&(be=P(be,ae+(be.key==null||M&&M.key===be.key?"":(""+be.key).replace(x,"$&/")+"/")+Ue)),J.push(be)),1;Ue=0;var $t=de===""?".":de+":";if(re(M))for(var ut=0;ut<M.length;ut++)de=M[ut],xe=$t+Xe(de,ut),Ue+=X(de,J,ae,xe,be);else if(ut=C(M),typeof ut=="function")for(M=ut.call(M),ut=0;!(de=M.next()).done;)de=de.value,xe=$t+Xe(de,ut++),Ue+=X(de,J,ae,xe,be);else if(xe==="object"){if(typeof M.then=="function")return X(it(M),J,ae,de,be);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function le(M,J,ae){if(M==null)return M;var de=[],be=0;return X(M,de,"","",function(xe){return J.call(ae,xe,be++)}),de}function ye(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var Pe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ze={map:le,forEach:function(M,J,ae){le(M,function(){J.apply(this,arguments)},ae)},count:function(M){var J=0;return le(M,function(){J++}),J},toArray:function(M){return le(M,function(J){return J})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ae.Activity=T,Ae.Children=ze,Ae.Component=Y,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=ie,Ae.StrictMode=s,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},Ae.cache=function(M){return function(){return M.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(M,J,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var de=q({},M.props),be=M.key;if(J!=null)for(xe in J.key!==void 0&&(be=""+J.key),J)!R.call(J,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&J.ref===void 0||(de[xe]=J[xe]);var xe=arguments.length-2;if(xe===1)de.children=ae;else if(1<xe){for(var Ue=Array(xe),$t=0;$t<xe;$t++)Ue[$t]=arguments[$t+2];de.children=Ue}return I(M.type,be,de)},Ae.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ae.createElement=function(M,J,ae){var de,be={},xe=null;if(J!=null)for(de in J.key!==void 0&&(xe=""+J.key),J)R.call(J,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(be[de]=J[de]);var Ue=arguments.length-2;if(Ue===1)be.children=ae;else if(1<Ue){for(var $t=Array(Ue),ut=0;ut<Ue;ut++)$t[ut]=arguments[ut+2];be.children=$t}if(M&&M.defaultProps)for(de in Ue=M.defaultProps,Ue)be[de]===void 0&&(be[de]=Ue[de]);return I(M,xe,be)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:m,render:M}},Ae.isValidElement=V,Ae.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ye}},Ae.memo=function(M,J){return{$$typeof:g,type:M,compare:J===void 0?null:J}},Ae.startTransition=function(M){var J=D.T,ae={};D.T=ae;try{var de=M(),be=D.S;be!==null&&be(ae,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(pe,Pe)}catch(xe){Pe(xe)}finally{J!==null&&ae.types!==null&&(J.types=ae.types),D.T=J}},Ae.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ae.use=function(M){return D.H.use(M)},Ae.useActionState=function(M,J,ae){return D.H.useActionState(M,J,ae)},Ae.useCallback=function(M,J){return D.H.useCallback(M,J)},Ae.useContext=function(M){return D.H.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M,J){return D.H.useDeferredValue(M,J)},Ae.useEffect=function(M,J){return D.H.useEffect(M,J)},Ae.useEffectEvent=function(M){return D.H.useEffectEvent(M)},Ae.useId=function(){return D.H.useId()},Ae.useImperativeHandle=function(M,J,ae){return D.H.useImperativeHandle(M,J,ae)},Ae.useInsertionEffect=function(M,J){return D.H.useInsertionEffect(M,J)},Ae.useLayoutEffect=function(M,J){return D.H.useLayoutEffect(M,J)},Ae.useMemo=function(M,J){return D.H.useMemo(M,J)},Ae.useOptimistic=function(M,J){return D.H.useOptimistic(M,J)},Ae.useReducer=function(M,J,ae){return D.H.useReducer(M,J,ae)},Ae.useRef=function(M){return D.H.useRef(M)},Ae.useState=function(M){return D.H.useState(M)},Ae.useSyncExternalStore=function(M,J,ae){return D.H.useSyncExternalStore(M,J,ae)},Ae.useTransition=function(){return D.H.useTransition()},Ae.version="19.2.0",Ae}var V0;function rg(){return V0||(V0=1,rp.exports=FR()),rp.exports}var G=rg(),sp={exports:{}},su={},ap={exports:{}},op={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function HR(){return k0||(k0=1,(function(i){function e(X,le){var ye=X.length;X.push(le);e:for(;0<ye;){var Pe=ye-1>>>1,ze=X[Pe];if(0<o(ze,le))X[Pe]=le,X[ye]=ze,ye=Pe;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var le=X[0],ye=X.pop();if(ye!==le){X[0]=ye;e:for(var Pe=0,ze=X.length,M=ze>>>1;Pe<M;){var J=2*(Pe+1)-1,ae=X[J],de=J+1,be=X[de];if(0>o(ae,ye))de<ze&&0>o(be,ae)?(X[Pe]=be,X[de]=ye,Pe=de):(X[Pe]=ae,X[J]=ye,Pe=J);else if(de<ze&&0>o(be,ye))X[Pe]=be,X[de]=ye,Pe=de;else break e}}return le}function o(X,le){var ye=X.sortIndex-le.sortIndex;return ye!==0?ye:X.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,T=null,A=3,C=!1,O=!1,q=!1,L=!1,Y=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function me(X){for(var le=t(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=X)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function re(X){if(q=!1,me(X),!O)if(t(p)!==null)O=!0,pe||(pe=!0,U());else{var le=t(g);le!==null&&it(re,le.startTime-X)}}var pe=!1,D=-1,R=5,I=-1;function P(){return L?!0:!(i.unstable_now()-I<R)}function V(){if(L=!1,pe){var X=i.unstable_now();I=X;var le=!0;try{e:{O=!1,q&&(q=!1,ne(D),D=-1),C=!0;var ye=A;try{t:{for(me(X),T=t(p);T!==null&&!(T.expirationTime>X&&P());){var Pe=T.callback;if(typeof Pe=="function"){T.callback=null,A=T.priorityLevel;var ze=Pe(T.expirationTime<=X);if(X=i.unstable_now(),typeof ze=="function"){T.callback=ze,me(X),le=!0;break t}T===t(p)&&s(p),me(X)}else s(p);T=t(p)}if(T!==null)le=!0;else{var M=t(g);M!==null&&it(re,M.startTime-X),le=!1}}break e}finally{T=null,A=ye,C=!1}le=void 0}}finally{le?U():pe=!1}}}var U;if(typeof ie=="function")U=function(){ie(V)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Xe=x.port2;x.port1.onmessage=V,U=function(){Xe.postMessage(null)}}else U=function(){Y(V,0)};function it(X,le){D=Y(function(){X(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(X){switch(A){case 1:case 2:case 3:var le=3;break;default:le=A}var ye=A;A=le;try{return X()}finally{A=ye}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ye=A;A=X;try{return le()}finally{A=ye}},i.unstable_scheduleCallback=function(X,le,ye){var Pe=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Pe+ye:Pe):ye=Pe,X){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=ye+ze,X={id:v++,callback:le,priorityLevel:X,startTime:ye,expirationTime:ze,sortIndex:-1},ye>Pe?(X.sortIndex=ye,e(g,X),t(p)===null&&X===t(g)&&(q?(ne(D),D=-1):q=!0,it(re,ye-Pe))):(X.sortIndex=ze,e(p,X),O||C||(O=!0,pe||(pe=!0,U()))),X},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(X){var le=A;return function(){var ye=A;A=le;try{return X.apply(this,arguments)}finally{A=ye}}}})(op)),op}var M0;function GR(){return M0||(M0=1,ap.exports=HR()),ap.exports}var lp={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function KR(){if(L0)return sn;L0=1;var i=rg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},sn.flushSync=function(p){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=v,s.d.f()}},sn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},sn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},sn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:C}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},sn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},sn.requestFormReset=function(p){s.d.r(p)},sn.unstable_batchedUpdates=function(p,g){return p(g)},sn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var U0;function $R(){if(U0)return lp.exports;U0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),lp.exports=KR(),lp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function QR(){if(j0)return su;j0=1;var i=GR(),e=rg(),t=$R();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return p(d),n;if(f===l)return p(d),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var _=!1,w=d.child;w;){if(w===a){_=!0,a=d,l=f;break}if(w===l){_=!0,l=d,a=f;break}w=w.sibling}if(!_){for(w=f.child;w;){if(w===a){_=!0,a=f,l=d;break}if(w===l){_=!0,l=f,a=d;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function v(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=v(n),r!==null)return r;n=n.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function Xe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case q:return"Fragment";case Y:return"Profiler";case L:return"StrictMode";case re:return"Suspense";case pe:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case O:return"Portal";case ie:return n.displayName||"Context";case ne:return(n._context.displayName||"Context")+".Consumer";case me:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return r=n.displayName||null,r!==null?r:Xe(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return Xe(n(r))}catch{}}return null}var it=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Pe=[],ze=-1;function M(n){return{current:n}}function J(n){0>ze||(n.current=Pe[ze],Pe[ze]=null,ze--)}function ae(n,r){ze++,Pe[ze]=n.current,n.current=r}var de=M(null),be=M(null),xe=M(null),Ue=M(null);function $t(n,r){switch(ae(xe,r),ae(be,n),ae(de,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?e0(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=e0(r),n=t0(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}J(de),ae(de,n)}function ut(){J(de),J(be),J(xe)}function pi(n){n.memoizedState!==null&&ae(Ue,n);var r=de.current,a=t0(r,n.type);r!==a&&(ae(be,n),ae(de,a))}function zi(n){be.current===n&&(J(de),J(be)),Ue.current===n&&(J(Ue),eu._currentValue=ye)}var zs,Da;function ii(n){if(zs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);zs=r&&r[1]||"",Da=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zs+n+Da}var Bs=!1;function Oa(n,r){if(!n||Bs)return"";Bs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var H=K}Reflect.construct(n,[],te)}else{try{te.call()}catch(K){H=K}n.call(te.prototype)}}else{try{throw Error()}catch(K){H=K}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],w=f[1];if(_&&w){var N=_.split(`
`),F=w.split(`
`);for(d=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(l===N.length||d===F.length)for(l=N.length-1,d=F.length-1;1<=l&&0<=d&&N[l]!==F[d];)d--;for(;1<=l&&0<=d;l--,d--)if(N[l]!==F[d]){if(l!==1||d!==1)do if(l--,d--,0>d||N[l]!==F[d]){var W=`
`+N[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=d);break}}}finally{Bs=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?ii(a):""}function Zd(n,r){switch(n.tag){case 26:case 27:case 5:return ii(n.type);case 16:return ii("Lazy");case 13:return n.child!==r&&r!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return Oa(n.type,!1);case 11:return Oa(n.type.render,!1);case 1:return Oa(n.type,!0);case 31:return ii("Activity");default:return""}}function ic(n){try{var r="",a=null;do r+=Zd(n,a),a=n,n=n.return;while(n);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Pa=Object.prototype.hasOwnProperty,qs=i.unstable_scheduleCallback,Va=i.unstable_cancelCallback,ef=i.unstable_shouldYield,il=i.unstable_requestPaint,Qt=i.unstable_now,rc=i.unstable_getCurrentPriorityLevel,Ot=i.unstable_ImmediatePriority,Ut=i.unstable_UserBlockingPriority,Bi=i.unstable_NormalPriority,sc=i.unstable_LowPriority,rl=i.unstable_IdlePriority,tf=i.log,Fs=i.unstable_setDisableYieldValue,Cr=null,nn=null;function Fn(n){if(typeof tf=="function"&&Fs(n),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(Cr,n)}catch{}}var cn=Math.clz32?Math.clz32:ac,nf=Math.log,sl=Math.LN2;function ac(n){return n>>>=0,n===0?32:31-(nf(n)/sl|0)|0}var Hs=256,gi=262144,Nr=4194304;function ri(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Hn(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var d=0,f=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~f,l!==0?d=ri(l):(_&=w,_!==0?d=ri(_):a||(a=w&~n,a!==0&&(d=ri(a))))):(w=l&~f,w!==0?d=ri(w):_!==0?d=ri(_):a||(a=l&~n,a!==0&&(d=ri(a)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:d}function Dr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ka(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function al(){var n=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),n}function qi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Or(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Yt(n,r,a,l,d,f){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,N=n.expirationTimes,F=n.hiddenUpdates;for(a=_&~a;0<a;){var W=31-cn(a),te=1<<W;w[W]=0,N[W]=-1;var H=F[W];if(H!==null)for(F[W]=null,W=0;W<H.length;W++){var K=H[W];K!==null&&(K.lane&=-536870913)}a&=~te}l!==0&&ol(n,l,0),f!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=f&~(_&~r))}function ol(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-cn(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Pr(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-cn(a),d=1<<l;d&r|n[l]&r&&(n[l]|=r),a&=~d}}function Vr(n,r){var a=r&-r;return a=(a&42)!==0?1:ll(a),(a&(n.suspendedLanes|r))!==0?0:a}function ll(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ul(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Fi(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:A0(n.type))}function oc(n,r){var a=le.p;try{return le.p=n,r()}finally{le.p=a}}var yi=Math.random().toString(36).slice(2),ft="__reactFiber$"+yi,Xt="__reactProps$"+yi,_i="__reactContainer$"+yi,kr="__reactEvents$"+yi,vi="__reactListeners$"+yi,lc="__reactHandles$"+yi,cl="__reactResources$"+yi,Hi="__reactMarker$"+yi;function Gs(n){delete n[ft],delete n[Xt],delete n[kr],delete n[vi],delete n[lc]}function Gi(n){var r=n[ft];if(r)return r;for(var a=n.parentNode;a;){if(r=a[_i]||a[ft]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=l0(n);n!==null;){if(a=n[ft])return a;n=l0(n)}return r}n=a,a=n.parentNode}return null}function Ki(n){if(n=n[ft]||n[_i]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Ks(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function si(n){var r=n[cl];return r||(r=n[cl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function yt(n){n[Hi]=!0}var Ma=new Set,Mr={};function hn(n,r){Ei(n,r),Ei(n+"Capture",r)}function Ei(n,r){for(Mr[n]=r,n=0;n<r.length;n++)Ma.add(r[n])}var rf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},dl={};function uc(n){return Pa.call(dl,n)?!0:Pa.call(hl,n)?!1:rf.test(n)?dl[n]=!0:(hl[n]=!0,!1)}function Lr(n,r,a){if(uc(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Ur(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Gn(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function cc(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function sf(n,r,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function La(n){if(!n._valueTracker){var r=cc(n)?"checked":"value";n._valueTracker=sf(n,r,""+n[r])}}function fl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=cc(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Ua(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var $i=/[\n"\\]/g;function mt(n){return n.replace($i,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function jr(n,r,a,l,d,f,_,w){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+dn(r)):n.value!==""+dn(r)&&(n.value=""+dn(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?ja(n,_,dn(r)):a!=null?ja(n,_,dn(a)):l!=null&&n.removeAttribute("value"),d==null&&f!=null&&(n.defaultChecked=!!f),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+dn(w):n.removeAttribute("name")}function $s(n,r,a,l,d,f,_,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(n.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){La(n);return}a=a!=null?""+dn(a):"",r=r!=null?""+dn(r):a,w||r===n.value||(n.value=r),n.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),La(n)}function ja(n,r,a){r==="number"&&Ua(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function qe(n,r,a,l){if(n=n.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=r.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&l&&(n[a].defaultSelected=!0)}else{for(a=""+dn(a),r=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function Qs(n,r,a){if(r!=null&&(r=""+dn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+dn(a):""}function zr(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=dn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),La(n)}function Kn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var af=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ml(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||af.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function hc(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&ml(n,d,l)}else for(var f in r)r.hasOwnProperty(f)&&ml(n,f,r[f])}function pl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bi(n){return lf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function jt(){}var za=null;function Ba(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Qi=null,Nn=null;function dc(n){var r=Ki(n);if(r&&(n=r.stateNode)){var a=n[Xt]||null;e:switch(n=r.stateNode,r.type){case"input":if(jr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var d=l[Xt]||null;if(!d)throw Error(s(90));jr(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&fl(l)}break e;case"textarea":Qs(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&qe(n,!!a.multiple,r,!1)}}}var gl=!1;function fc(n,r,a){if(gl)return n(r,a);gl=!0;try{var l=n(r);return l}finally{if(gl=!1,(Qi!==null||Nn!==null)&&(uh(),Qi&&(r=Qi,n=Nn,Nn=Qi=null,dc(r),n)))for(r=0;r<n.length;r++)dc(n[r])}}function _n(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Xt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yl=!1;if(ai)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){yl=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{yl=!1}var Dn=null,qa=null,wi=null;function Br(){if(wi)return wi;var n,r=qa,a=r.length,l,d="value"in Dn?Dn.value:Dn.textContent,f=d.length;for(n=0;n<a&&r[n]===d[n];n++);var _=a-n;for(l=1;l<=_&&r[a-l]===d[f-l];l++);return wi=d.slice(n,1<l?1-l:void 0)}function Ys(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function qr(){return!0}function rt(){return!1}function rn(n){function r(a,l,d,f,_){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qr:rt,this.isPropagationStopped=rt,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),r}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=rn(Yi),Fr=T({},Yi,{view:0,detail:0}),mc=rn(Fr),Hr,Fa,fn,Ws=T({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==fn&&(fn&&n.type==="mousemove"?(Hr=n.screenX-fn.screenX,Fa=n.screenY-fn.screenY):Fa=Hr=0,fn=n),Hr)},movementY:function(n){return"movementY"in n?n.movementY:Fa}}),pc=rn(Ws),Js=T({},Ws,{dataTransfer:0}),gc=rn(Js),_l=T({},Fr,{relatedTarget:0}),Gr=rn(_l),yc=T({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ha=rn(yc),uf=T({},Yi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),_c=rn(uf),Zs=T({},Yi,{data:0}),vl=rn(Zs),vc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},El={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ec(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=bl[n])?!!r[n]:!1}function Kr(){return Ec}var bc=T({},Fr,{key:function(n){if(n.key){var r=vc[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ys(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?El[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(n){return n.type==="keypress"?Ys(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ys(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Tc=rn(bc),Xi=T({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tl=rn(Xi),wc=T({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),Ac=rn(wc),Sc=T({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ga=rn(Sc),mn=T({},Ws,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Rc=rn(mn),Ic=T({},Yi,{newState:0,oldState:0}),$r=rn(Ic),h=[9,13,27,32],y=ai&&"CompositionEvent"in window,E=null;ai&&"documentMode"in document&&(E=document.documentMode);var S=ai&&"TextEvent"in window&&!E,z=ai&&(!y||E&&8<E&&11>=E),$=" ",oe=!1;function $e(n,r){switch(n){case"keyup":return h.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bt(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ce=!1;function zt(n,r){switch(n){case"compositionend":return bt(r);case"keypress":return r.which!==32?null:(oe=!0,$);case"textInput":return n=r.data,n===$&&oe?null:n;default:return null}}function Bt(n,r){if(Ce)return n==="compositionend"||!y&&$e(n,r)?(n=Br(),wi=qa=Dn=null,Ce=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return z&&r.locale!=="ko"?null:r.data;default:return null}}var Qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vn(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Qr[n.type]:r==="textarea"}function ea(n,r,a,l){Qi?Nn?Nn.push(l):Nn=[l]:Qi=l,r=gh(r,"onChange"),0<r.length&&(a=new Xs("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Wi=null,wl=null;function mS(n){Qv(n,0)}function xc(n){var r=Ks(n);if(fl(r))return n}function fy(n,r){if(n==="change")return r}var my=!1;if(ai){var cf;if(ai){var hf="oninput"in document;if(!hf){var py=document.createElement("div");py.setAttribute("oninput","return;"),hf=typeof py.oninput=="function"}cf=hf}else cf=!1;my=cf&&(!document.documentMode||9<document.documentMode)}function gy(){Wi&&(Wi.detachEvent("onpropertychange",yy),wl=Wi=null)}function yy(n){if(n.propertyName==="value"&&xc(wl)){var r=[];ea(r,wl,n,Ba(n)),fc(mS,r)}}function pS(n,r,a){n==="focusin"?(gy(),Wi=r,wl=a,Wi.attachEvent("onpropertychange",yy)):n==="focusout"&&gy()}function gS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xc(wl)}function yS(n,r){if(n==="click")return xc(r)}function _S(n,r){if(n==="input"||n==="change")return xc(r)}function vS(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var On=typeof Object.is=="function"?Object.is:vS;function Al(n,r){if(On(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!Pa.call(r,d)||!On(n[d],r[d]))return!1}return!0}function _y(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function vy(n,r){var a=_y(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_y(a)}}function Ey(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Ey(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function by(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ua(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ua(n.document)}return r}function df(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var ES=ai&&"documentMode"in document&&11>=document.documentMode,Ka=null,ff=null,Sl=null,mf=!1;function Ty(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mf||Ka==null||Ka!==Ua(l)||(l=Ka,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Sl&&Al(Sl,l)||(Sl=l,l=gh(ff,"onSelect"),0<l.length&&(r=new Xs("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Ka)))}function ta(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var $a={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},pf={},wy={};ai&&(wy=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function na(n){if(pf[n])return pf[n];if(!$a[n])return n;var r=$a[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in wy)return pf[n]=r[a];return n}var Ay=na("animationend"),Sy=na("animationiteration"),Ry=na("animationstart"),bS=na("transitionrun"),TS=na("transitionstart"),wS=na("transitioncancel"),Iy=na("transitionend"),xy=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function oi(n,r){xy.set(n,r),hn(r,[n])}var Cc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},$n=[],Qa=0,yf=0;function Nc(){for(var n=Qa,r=yf=Qa=0;r<n;){var a=$n[r];$n[r++]=null;var l=$n[r];$n[r++]=null;var d=$n[r];$n[r++]=null;var f=$n[r];if($n[r++]=null,l!==null&&d!==null){var _=l.pending;_===null?d.next=d:(d.next=_.next,_.next=d),l.pending=d}f!==0&&Cy(a,d,f)}}function Dc(n,r,a,l){$n[Qa++]=n,$n[Qa++]=r,$n[Qa++]=a,$n[Qa++]=l,yf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function _f(n,r,a,l){return Dc(n,r,a,l),Oc(n)}function ia(n,r){return Dc(n,null,null,r),Oc(n)}function Cy(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=n.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(n=f.stateNode,n===null||n._visibility&1||(d=!0)),n=f,f=f.return;return n.tag===3?(f=n.stateNode,d&&r!==null&&(d=31-cn(a),n=f.hiddenUpdates,l=n[d],l===null?n[d]=[r]:l.push(r),r.lane=a|536870912),f):null}function Oc(n){if(50<$l)throw $l=0,Im=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ya={};function AS(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(n,r,a,l){return new AS(n,r,a,l)}function vf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ji(n,r){var a=n.alternate;return a===null?(a=Pn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Ny(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Pc(n,r,a,l,d,f){var _=0;if(l=n,typeof n=="function")vf(n)&&(_=1);else if(typeof n=="string")_=CR(n,a,de.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=Pn(31,a,r,d),n.elementType=I,n.lanes=f,n;case q:return ra(a.children,d,f,r);case L:_=8,d|=24;break;case Y:return n=Pn(12,a,r,d|2),n.elementType=Y,n.lanes=f,n;case re:return n=Pn(13,a,r,d),n.elementType=re,n.lanes=f,n;case pe:return n=Pn(19,a,r,d),n.elementType=pe,n.lanes=f,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ie:_=10;break e;case ne:_=9;break e;case me:_=11;break e;case D:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Pn(_,a,r,d),r.elementType=n,r.type=l,r.lanes=f,r}function ra(n,r,a,l){return n=Pn(7,n,l,r),n.lanes=a,n}function Ef(n,r,a){return n=Pn(6,n,null,r),n.lanes=a,n}function Dy(n){var r=Pn(18,null,null,0);return r.stateNode=n,r}function bf(n,r,a){return r=Pn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Oy=new WeakMap;function Qn(n,r){if(typeof n=="object"&&n!==null){var a=Oy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:ic(r)},Oy.set(n,r),r)}return{value:n,source:r,stack:ic(r)}}var Xa=[],Wa=0,Vc=null,Rl=0,Yn=[],Xn=0,Yr=null,Ai=1,Si="";function Zi(n,r){Xa[Wa++]=Rl,Xa[Wa++]=Vc,Vc=n,Rl=r}function Py(n,r,a){Yn[Xn++]=Ai,Yn[Xn++]=Si,Yn[Xn++]=Yr,Yr=n;var l=Ai;n=Si;var d=32-cn(l)-1;l&=~(1<<d),a+=1;var f=32-cn(r)+d;if(30<f){var _=d-d%5;f=(l&(1<<_)-1).toString(32),l>>=_,d-=_,Ai=1<<32-cn(r)+d|a<<d|l,Si=f+n}else Ai=1<<f|a<<d|l,Si=n}function Tf(n){n.return!==null&&(Zi(n,1),Py(n,1,0))}function wf(n){for(;n===Vc;)Vc=Xa[--Wa],Xa[Wa]=null,Rl=Xa[--Wa],Xa[Wa]=null;for(;n===Yr;)Yr=Yn[--Xn],Yn[Xn]=null,Si=Yn[--Xn],Yn[Xn]=null,Ai=Yn[--Xn],Yn[Xn]=null}function Vy(n,r){Yn[Xn++]=Ai,Yn[Xn++]=Si,Yn[Xn++]=Yr,Ai=r.id,Si=r.overflow,Yr=n}var Wt=null,st=null,je=!1,Xr=null,Wn=!1,Af=Error(s(519));function Wr(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(Qn(r,n)),Af}function ky(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[ft]=n,r[Xt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<Yl.length;a++)Oe(Yl[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),$s(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),zr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Jv(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=jt),r=!0):r=!1,r||Wr(n,!0)}function My(n){for(Wt=n.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Wt=Wt.return}}function Ja(n){if(n!==Wt)return!1;if(!je)return My(n),je=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||qm(n.type,n.memoizedProps)),a=!a),a&&st&&Wr(n),My(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));st=o0(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));st=o0(n)}else r===27?(r=st,hs(n.type)?(n=$m,$m=null,st=n):st=r):st=Wt?Zn(n.stateNode.nextSibling):null;return!0}function sa(){st=Wt=null,je=!1}function Sf(){var n=Xr;return n!==null&&(wn===null?wn=n:wn.push.apply(wn,n),Xr=null),n}function Il(n){Xr===null?Xr=[n]:Xr.push(n)}var Rf=M(null),aa=null,er=null;function Jr(n,r,a){ae(Rf,r._currentValue),r._currentValue=a}function tr(n){n._currentValue=Rf.current,J(Rf)}function If(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function xf(n,r,a,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var f=d.dependencies;if(f!==null){var _=d.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=d;for(var N=0;N<r.length;N++)if(w.context===r[N]){f.lanes|=a,w=f.alternate,w!==null&&(w.lanes|=a),If(f.return,a,n),l||(_=null);break e}f=w.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),If(_,a,n),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===n){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Za(n,r,a,l){n=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=d.type;On(d.pendingProps.value,_.value)||(n!==null?n.push(w):n=[w])}}else if(d===Ue.current){if(_=d.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(eu):n=[eu])}d=d.return}n!==null&&xf(r,n,a,l),r.flags|=262144}function kc(n){for(n=n.firstContext;n!==null;){if(!On(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function oa(n){aa=n,er=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Jt(n){return Ly(aa,n)}function Mc(n,r){return aa===null&&oa(n),Ly(n,r)}function Ly(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},er===null){if(n===null)throw Error(s(308));er=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else er=er.next=r;return a}var SS=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},RS=i.unstable_scheduleCallback,IS=i.unstable_NormalPriority,Tt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new SS,data:new Map,refCount:0}}function xl(n){n.refCount--,n.refCount===0&&RS(IS,function(){n.controller.abort()})}var Cl=null,Nf=0,eo=0,to=null;function xS(n,r){if(Cl===null){var a=Cl=[];Nf=0,eo=Pm(),to={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nf++,r.then(Uy,Uy),r}function Uy(){if(--Nf===0&&Cl!==null){to!==null&&(to.status="fulfilled");var n=Cl;Cl=null,eo=0,to=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function CS(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var jy=X.S;X.S=function(n,r){Tv=Qt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&xS(n,r),jy!==null&&jy(n,r)};var la=M(null);function Df(){var n=la.current;return n!==null?n:tt.pooledCache}function Lc(n,r){r===null?ae(la,la.current):ae(la,r.pool)}function zy(){var n=Df();return n===null?null:{parent:Tt._currentValue,pool:n}}var no=Error(s(460)),Of=Error(s(474)),Uc=Error(s(542)),jc={then:function(){}};function By(n){return n=n.status,n==="fulfilled"||n==="rejected"}function qy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(jt,jt),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Hy(n),n;default:if(typeof r.status=="string")r.then(jt,jt);else{if(n=tt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Hy(n),n}throw ca=r,no}}function ua(n){try{var r=n._init;return r(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ca=a,no):a}}var ca=null;function Fy(){if(ca===null)throw Error(s(459));var n=ca;return ca=null,n}function Hy(n){if(n===no||n===Uc)throw Error(s(483))}var io=null,Nl=0;function zc(n){var r=Nl;return Nl+=1,io===null&&(io=[]),qy(io,n,r)}function Dl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Bc(n,r){throw r.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Gy(n){function r(j,k){if(n){var B=j.deletions;B===null?(j.deletions=[k],j.flags|=16):B.push(k)}}function a(j,k){if(!n)return null;for(;k!==null;)r(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function d(j,k){return j=Ji(j,k),j.index=0,j.sibling=null,j}function f(j,k,B){return j.index=B,n?(B=j.alternate,B!==null?(B=B.index,B<k?(j.flags|=67108866,k):B):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function _(j){return n&&j.alternate===null&&(j.flags|=67108866),j}function w(j,k,B,ee){return k===null||k.tag!==6?(k=Ef(B,j.mode,ee),k.return=j,k):(k=d(k,B),k.return=j,k)}function N(j,k,B,ee){var _e=B.type;return _e===q?W(j,k,B.props.children,ee,B.key):k!==null&&(k.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&ua(_e)===k.type)?(k=d(k,B.props),Dl(k,B),k.return=j,k):(k=Pc(B.type,B.key,B.props,null,j.mode,ee),Dl(k,B),k.return=j,k)}function F(j,k,B,ee){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=bf(B,j.mode,ee),k.return=j,k):(k=d(k,B.children||[]),k.return=j,k)}function W(j,k,B,ee,_e){return k===null||k.tag!==7?(k=ra(B,j.mode,ee,_e),k.return=j,k):(k=d(k,B),k.return=j,k)}function te(j,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Ef(""+k,j.mode,B),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case C:return B=Pc(k.type,k.key,k.props,null,j.mode,B),Dl(B,k),B.return=j,B;case O:return k=bf(k,j.mode,B),k.return=j,k;case R:return k=ua(k),te(j,k,B)}if(it(k)||U(k))return k=ra(k,j.mode,B,null),k.return=j,k;if(typeof k.then=="function")return te(j,zc(k),B);if(k.$$typeof===ie)return te(j,Mc(j,k),B);Bc(j,k)}return null}function H(j,k,B,ee){var _e=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return _e!==null?null:w(j,k,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case C:return B.key===_e?N(j,k,B,ee):null;case O:return B.key===_e?F(j,k,B,ee):null;case R:return B=ua(B),H(j,k,B,ee)}if(it(B)||U(B))return _e!==null?null:W(j,k,B,ee,null);if(typeof B.then=="function")return H(j,k,zc(B),ee);if(B.$$typeof===ie)return H(j,k,Mc(j,B),ee);Bc(j,B)}return null}function K(j,k,B,ee,_e){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return j=j.get(B)||null,w(k,j,""+ee,_e);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case C:return j=j.get(ee.key===null?B:ee.key)||null,N(k,j,ee,_e);case O:return j=j.get(ee.key===null?B:ee.key)||null,F(k,j,ee,_e);case R:return ee=ua(ee),K(j,k,B,ee,_e)}if(it(ee)||U(ee))return j=j.get(B)||null,W(k,j,ee,_e,null);if(typeof ee.then=="function")return K(j,k,B,zc(ee),_e);if(ee.$$typeof===ie)return K(j,k,B,Mc(k,ee),_e);Bc(k,ee)}return null}function he(j,k,B,ee){for(var _e=null,Fe=null,fe=k,Ie=k=0,ke=null;fe!==null&&Ie<B.length;Ie++){fe.index>Ie?(ke=fe,fe=null):ke=fe.sibling;var He=H(j,fe,B[Ie],ee);if(He===null){fe===null&&(fe=ke);break}n&&fe&&He.alternate===null&&r(j,fe),k=f(He,k,Ie),Fe===null?_e=He:Fe.sibling=He,Fe=He,fe=ke}if(Ie===B.length)return a(j,fe),je&&Zi(j,Ie),_e;if(fe===null){for(;Ie<B.length;Ie++)fe=te(j,B[Ie],ee),fe!==null&&(k=f(fe,k,Ie),Fe===null?_e=fe:Fe.sibling=fe,Fe=fe);return je&&Zi(j,Ie),_e}for(fe=l(fe);Ie<B.length;Ie++)ke=K(fe,j,Ie,B[Ie],ee),ke!==null&&(n&&ke.alternate!==null&&fe.delete(ke.key===null?Ie:ke.key),k=f(ke,k,Ie),Fe===null?_e=ke:Fe.sibling=ke,Fe=ke);return n&&fe.forEach(function(gs){return r(j,gs)}),je&&Zi(j,Ie),_e}function ve(j,k,B,ee){if(B==null)throw Error(s(151));for(var _e=null,Fe=null,fe=k,Ie=k=0,ke=null,He=B.next();fe!==null&&!He.done;Ie++,He=B.next()){fe.index>Ie?(ke=fe,fe=null):ke=fe.sibling;var gs=H(j,fe,He.value,ee);if(gs===null){fe===null&&(fe=ke);break}n&&fe&&gs.alternate===null&&r(j,fe),k=f(gs,k,Ie),Fe===null?_e=gs:Fe.sibling=gs,Fe=gs,fe=ke}if(He.done)return a(j,fe),je&&Zi(j,Ie),_e;if(fe===null){for(;!He.done;Ie++,He=B.next())He=te(j,He.value,ee),He!==null&&(k=f(He,k,Ie),Fe===null?_e=He:Fe.sibling=He,Fe=He);return je&&Zi(j,Ie),_e}for(fe=l(fe);!He.done;Ie++,He=B.next())He=K(fe,j,Ie,He.value,ee),He!==null&&(n&&He.alternate!==null&&fe.delete(He.key===null?Ie:He.key),k=f(He,k,Ie),Fe===null?_e=He:Fe.sibling=He,Fe=He);return n&&fe.forEach(function(zR){return r(j,zR)}),je&&Zi(j,Ie),_e}function Ze(j,k,B,ee){if(typeof B=="object"&&B!==null&&B.type===q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case C:e:{for(var _e=B.key;k!==null;){if(k.key===_e){if(_e=B.type,_e===q){if(k.tag===7){a(j,k.sibling),ee=d(k,B.props.children),ee.return=j,j=ee;break e}}else if(k.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&ua(_e)===k.type){a(j,k.sibling),ee=d(k,B.props),Dl(ee,B),ee.return=j,j=ee;break e}a(j,k);break}else r(j,k);k=k.sibling}B.type===q?(ee=ra(B.props.children,j.mode,ee,B.key),ee.return=j,j=ee):(ee=Pc(B.type,B.key,B.props,null,j.mode,ee),Dl(ee,B),ee.return=j,j=ee)}return _(j);case O:e:{for(_e=B.key;k!==null;){if(k.key===_e)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){a(j,k.sibling),ee=d(k,B.children||[]),ee.return=j,j=ee;break e}else{a(j,k);break}else r(j,k);k=k.sibling}ee=bf(B,j.mode,ee),ee.return=j,j=ee}return _(j);case R:return B=ua(B),Ze(j,k,B,ee)}if(it(B))return he(j,k,B,ee);if(U(B)){if(_e=U(B),typeof _e!="function")throw Error(s(150));return B=_e.call(B),ve(j,k,B,ee)}if(typeof B.then=="function")return Ze(j,k,zc(B),ee);if(B.$$typeof===ie)return Ze(j,k,Mc(j,B),ee);Bc(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(a(j,k.sibling),ee=d(k,B),ee.return=j,j=ee):(a(j,k),ee=Ef(B,j.mode,ee),ee.return=j,j=ee),_(j)):a(j,k)}return function(j,k,B,ee){try{Nl=0;var _e=Ze(j,k,B,ee);return io=null,_e}catch(fe){if(fe===no||fe===Uc)throw fe;var Fe=Pn(29,fe,null,j.mode);return Fe.lanes=ee,Fe.return=j,Fe}finally{}}}var ha=Gy(!0),Ky=Gy(!1),Zr=!1;function Pf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function es(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ts(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=Oc(n),Cy(n,null,a),r}return Dc(n,l,r,a),Oc(n)}function Ol(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Pr(n,a)}}function kf(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?d=f=r:f=f.next=r}else d=f=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Mf=!1;function Pl(){if(Mf){var n=to;if(n!==null)throw n}}function Vl(n,r,a,l){Mf=!1;var d=n.updateQueue;Zr=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var N=w,F=N.next;N.next=null,_===null?f=F:_.next=F,_=N;var W=n.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==_&&(w===null?W.firstBaseUpdate=F:w.next=F,W.lastBaseUpdate=N))}if(f!==null){var te=d.baseState;_=0,W=F=N=null,w=f;do{var H=w.lane&-536870913,K=H!==w.lane;if(K?(Ve&H)===H:(l&H)===H){H!==0&&H===eo&&(Mf=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var he=n,ve=w;H=r;var Ze=a;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){te=he.call(Ze,te,H);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,H=typeof he=="function"?he.call(Ze,te,H):he,H==null)break e;te=T({},te,H);break e;case 2:Zr=!0}}H=w.callback,H!==null&&(n.flags|=64,K&&(n.flags|=8192),K=d.callbacks,K===null?d.callbacks=[H]:K.push(H))}else K={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(F=W=K,N=te):W=W.next=K,_|=H;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;K=w,w=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);W===null&&(N=te),d.baseState=N,d.firstBaseUpdate=F,d.lastBaseUpdate=W,f===null&&(d.shared.lanes=0),as|=_,n.lanes=_,n.memoizedState=te}}function $y(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Qy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)$y(a[n],r)}var ro=M(null),qc=M(0);function Yy(n,r){n=cr,ae(qc,n),ae(ro,r),cr=n|r.baseLanes}function Lf(){ae(qc,cr),ae(ro,ro.current)}function Uf(){cr=qc.current,J(ro),J(qc)}var Vn=M(null),Jn=null;function ns(n){var r=n.alternate;ae(_t,_t.current&1),ae(Vn,n),Jn===null&&(r===null||ro.current!==null||r.memoizedState!==null)&&(Jn=n)}function jf(n){ae(_t,_t.current),ae(Vn,n),Jn===null&&(Jn=n)}function Xy(n){n.tag===22?(ae(_t,_t.current),ae(Vn,n),Jn===null&&(Jn=n)):is()}function is(){ae(_t,_t.current),ae(Vn,Vn.current)}function kn(n){J(Vn),Jn===n&&(Jn=null),J(_t)}var _t=M(0);function Fc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Gm(a)||Km(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var nr=0,Se=null,We=null,wt=null,Hc=!1,so=!1,da=!1,Gc=0,kl=0,ao=null,NS=0;function pt(){throw Error(s(321))}function zf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!On(n[a],r[a]))return!1;return!0}function Bf(n,r,a,l,d,f){return nr=f,Se=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=n===null||n.memoizedState===null?P_:nm,da=!1,f=a(l,d),da=!1,so&&(f=Jy(r,a,l,d)),Wy(n),f}function Wy(n){X.H=Ul;var r=We!==null&&We.next!==null;if(nr=0,wt=We=Se=null,Hc=!1,kl=0,ao=null,r)throw Error(s(300));n===null||At||(n=n.dependencies,n!==null&&kc(n)&&(At=!0))}function Jy(n,r,a,l){Se=n;var d=0;do{if(so&&(ao=null),kl=0,so=!1,25<=d)throw Error(s(301));if(d+=1,wt=We=null,n.updateQueue!=null){var f=n.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=V_,f=r(a,l)}while(so);return f}function DS(){var n=X.H,r=n.useState()[0];return r=typeof r.then=="function"?Ml(r):r,n=n.useState()[0],(We!==null?We.memoizedState:null)!==n&&(Se.flags|=1024),r}function qf(){var n=Gc!==0;return Gc=0,n}function Ff(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Hf(n){if(Hc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Hc=!1}nr=0,wt=We=Se=null,so=!1,kl=Gc=0,ao=null}function pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Se.memoizedState=wt=n:wt=wt.next=n,wt}function vt(){if(We===null){var n=Se.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var r=wt===null?Se.memoizedState:wt.next;if(r!==null)wt=r,We=n;else{if(n===null)throw Se.alternate===null?Error(s(467)):Error(s(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},wt===null?Se.memoizedState=wt=n:wt=wt.next=n}return wt}function Kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(n){var r=kl;return kl+=1,ao===null&&(ao=[]),n=qy(ao,n,r),r=Se,(wt===null?r.memoizedState:wt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?P_:nm),n}function $c(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ml(n);if(n.$$typeof===ie)return Jt(n)}throw Error(s(438,String(n)))}function Gf(n){var r=null,a=Se.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Kc(),Se.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=P;return r.index++,a}function ir(n,r){return typeof r=="function"?r(n):r}function Qc(n){var r=vt();return Kf(r,We,n)}function Kf(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=n.baseQueue,f=l.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}r.baseQueue=d=f,l.pending=null}if(f=n.baseState,d===null)n.memoizedState=f;else{r=d.next;var w=_=null,N=null,F=r,W=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(Ve&te)===te:(nr&te)===te){var H=F.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===eo&&(W=!0);else if((nr&H)===H){F=F.next,H===eo&&(W=!0);continue}else te={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(w=N=te,_=f):N=N.next=te,Se.lanes|=H,as|=H;te=F.action,da&&a(f,te),f=F.hasEagerState?F.eagerState:a(f,te)}else H={lane:te,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(w=N=H,_=f):N=N.next=H,Se.lanes|=te,as|=te;F=F.next}while(F!==null&&F!==r);if(N===null?_=f:N.next=w,!On(f,n.memoizedState)&&(At=!0,W&&(a=to,a!==null)))throw a;n.memoizedState=f,n.baseState=_,n.baseQueue=N,l.lastRenderedState=f}return d===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function $f(n){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,d=a.pending,f=r.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do f=n(f,_.action),_=_.next;while(_!==d);On(f,r.memoizedState)||(At=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function Zy(n,r,a){var l=Se,d=vt(),f=je;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!On((We||d).memoizedState,a);if(_&&(d.memoizedState=a,At=!0),d=d.queue,Xf(n_.bind(null,l,d,n),[n]),d.getSnapshot!==r||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,oo(9,{destroy:void 0},t_.bind(null,l,d,a,r),null),tt===null)throw Error(s(349));f||(nr&127)!==0||e_(l,r,a)}return a}function e_(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Se.updateQueue,r===null?(r=Kc(),Se.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function t_(n,r,a,l){r.value=a,r.getSnapshot=l,i_(r)&&r_(n)}function n_(n,r,a){return a(function(){i_(r)&&r_(n)})}function i_(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!On(n,a)}catch{return!0}}function r_(n){var r=ia(n,2);r!==null&&An(r,n,2)}function Qf(n){var r=pn();if(typeof n=="function"){var a=n;if(n=a(),da){Fn(!0);try{a()}finally{Fn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:n},r}function s_(n,r,a,l){return n.baseState=a,Kf(n,We,typeof l=="function"?l:ir)}function OS(n,r,a,l,d){if(Wc(n))throw Error(s(485));if(n=r.action,n!==null){var f={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};X.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,a_(r,f)):(f.next=a.next,r.pending=a.next=f)}}function a_(n,r){var a=r.action,l=r.payload,d=n.state;if(r.isTransition){var f=X.T,_={};X.T=_;try{var w=a(d,l),N=X.S;N!==null&&N(_,w),o_(n,r,w)}catch(F){Yf(n,r,F)}finally{f!==null&&_.types!==null&&(f.types=_.types),X.T=f}}else try{f=a(d,l),o_(n,r,f)}catch(F){Yf(n,r,F)}}function o_(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){l_(n,r,l)},function(l){return Yf(n,r,l)}):l_(n,r,a)}function l_(n,r,a){r.status="fulfilled",r.value=a,u_(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,a_(n,a)))}function Yf(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,u_(r),r=r.next;while(r!==l)}n.action=null}function u_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function c_(n,r){return r}function h_(n,r){if(je){var a=tt.formState;if(a!==null){e:{var l=Se;if(je){if(st){t:{for(var d=st,f=Wn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Zn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){st=Zn(d.nextSibling),l=d.data==="F!";break e}}Wr(l)}l=!1}l&&(r=a[0])}}return a=pn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c_,lastRenderedState:r},a.queue=l,a=N_.bind(null,Se,l),l.dispatch=a,l=Qf(!1),f=tm.bind(null,Se,!1,l.queue),l=pn(),d={state:r,dispatch:null,action:n,pending:null},l.queue=d,a=OS.bind(null,Se,d,f,a),d.dispatch=a,l.memoizedState=n,[r,a,!1]}function d_(n){var r=vt();return f_(r,We,n)}function f_(n,r,a){if(r=Kf(n,r,c_)[0],n=Qc(ir)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ml(r)}catch(_){throw _===no?Uc:_}else l=r;r=vt();var d=r.queue,f=d.dispatch;return a!==r.memoizedState&&(Se.flags|=2048,oo(9,{destroy:void 0},PS.bind(null,d,a),null)),[l,f,n]}function PS(n,r){n.action=r}function m_(n){var r=vt(),a=We;if(a!==null)return f_(r,a,n);vt(),r=r.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function oo(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Se.updateQueue,r===null&&(r=Kc(),Se.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function p_(){return vt().memoizedState}function Yc(n,r,a,l){var d=pn();Se.flags|=n,d.memoizedState=oo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Xc(n,r,a,l){var d=vt();l=l===void 0?null:l;var f=d.memoizedState.inst;We!==null&&l!==null&&zf(l,We.memoizedState.deps)?d.memoizedState=oo(r,f,a,l):(Se.flags|=n,d.memoizedState=oo(1|r,f,a,l))}function g_(n,r){Yc(8390656,8,n,r)}function Xf(n,r){Xc(2048,8,n,r)}function VS(n){Se.flags|=4;var r=Se.updateQueue;if(r===null)r=Kc(),Se.updateQueue=r,r.events=[n];else{var a=r.events;a===null?r.events=[n]:a.push(n)}}function y_(n){var r=vt().memoizedState;return VS({ref:r,nextImpl:n}),function(){if((Ge&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function __(n,r){return Xc(4,2,n,r)}function v_(n,r){return Xc(4,4,n,r)}function E_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function b_(n,r,a){a=a!=null?a.concat([n]):null,Xc(4,4,E_.bind(null,r,n),a)}function Wf(){}function T_(n,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&zf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function w_(n,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&zf(r,l[1]))return l[0];if(l=n(),da){Fn(!0);try{n()}finally{Fn(!1)}}return a.memoizedState=[l,r],l}function Jf(n,r,a){return a===void 0||(nr&1073741824)!==0&&(Ve&261930)===0?n.memoizedState=r:(n.memoizedState=a,n=Av(),Se.lanes|=n,as|=n,a)}function A_(n,r,a,l){return On(a,r)?a:ro.current!==null?(n=Jf(n,a,l),On(n,r)||(At=!0),n):(nr&42)===0||(nr&1073741824)!==0&&(Ve&261930)===0?(At=!0,n.memoizedState=a):(n=Av(),Se.lanes|=n,as|=n,r)}function S_(n,r,a,l,d){var f=le.p;le.p=f!==0&&8>f?f:8;var _=X.T,w={};X.T=w,tm(n,!1,r,a);try{var N=d(),F=X.S;if(F!==null&&F(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=CS(N,l);Ll(n,r,W,Un(n))}else Ll(n,r,l,Un(n))}catch(te){Ll(n,r,{then:function(){},status:"rejected",reason:te},Un())}finally{le.p=f,_!==null&&w.types!==null&&(_.types=w.types),X.T=_}}function kS(){}function Zf(n,r,a,l){if(n.tag!==5)throw Error(s(476));var d=R_(n).queue;S_(n,d,r,ye,a===null?kS:function(){return I_(n),a(l)})}function R_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:ye},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function I_(n){var r=R_(n);r.next===null&&(r=n.alternate.memoizedState),Ll(n,r.next.queue,{},Un())}function em(){return Jt(eu)}function x_(){return vt().memoizedState}function C_(){return vt().memoizedState}function MS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Un();n=es(a);var l=ts(r,n,a);l!==null&&(An(l,r,a),Ol(l,r,a)),r={cache:Cf()},n.payload=r;return}r=r.return}}function LS(n,r,a){var l=Un();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Wc(n)?D_(r,a):(a=_f(n,r,a,l),a!==null&&(An(a,n,l),O_(a,r,l)))}function N_(n,r,a){var l=Un();Ll(n,r,a,l)}function Ll(n,r,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wc(n))D_(r,d);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var _=r.lastRenderedState,w=f(_,a);if(d.hasEagerState=!0,d.eagerState=w,On(w,_))return Dc(n,r,d,0),tt===null&&Nc(),!1}catch{}finally{}if(a=_f(n,r,d,l),a!==null)return An(a,n,l),O_(a,r,l),!0}return!1}function tm(n,r,a,l){if(l={lane:2,revertLane:Pm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wc(n)){if(r)throw Error(s(479))}else r=_f(n,a,l,2),r!==null&&An(r,n,2)}function Wc(n){var r=n.alternate;return n===Se||r!==null&&r===Se}function D_(n,r){so=Hc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function O_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Pr(n,a)}}var Ul={readContext:Jt,use:$c,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Ul.useEffectEvent=pt;var P_={readContext:Jt,use:$c,useCallback:function(n,r){return pn().memoizedState=[n,r===void 0?null:r],n},useContext:Jt,useEffect:g_,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Yc(4194308,4,E_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Yc(4194308,4,n,r)},useInsertionEffect:function(n,r){Yc(4,2,n,r)},useMemo:function(n,r){var a=pn();r=r===void 0?null:r;var l=n();if(da){Fn(!0);try{n()}finally{Fn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=pn();if(a!==void 0){var d=a(r);if(da){Fn(!0);try{a(r)}finally{Fn(!1)}}}else d=r;return l.memoizedState=l.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},l.queue=n,n=n.dispatch=LS.bind(null,Se,n),[l.memoizedState,n]},useRef:function(n){var r=pn();return n={current:n},r.memoizedState=n},useState:function(n){n=Qf(n);var r=n.queue,a=N_.bind(null,Se,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Wf,useDeferredValue:function(n,r){var a=pn();return Jf(a,n,r)},useTransition:function(){var n=Qf(!1);return n=S_.bind(null,Se,n.queue,!0,!1),pn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Se,d=pn();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(Ve&127)!==0||e_(l,r,a)}d.memoizedState=a;var f={value:a,getSnapshot:r};return d.queue=f,g_(n_.bind(null,l,f,n),[n]),l.flags|=2048,oo(9,{destroy:void 0},t_.bind(null,l,f,a,r),null),a},useId:function(){var n=pn(),r=tt.identifierPrefix;if(je){var a=Si,l=Ai;a=(l&~(1<<32-cn(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Gc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=NS++,r="_"+r+"r_"+a.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:em,useFormState:h_,useActionState:h_,useOptimistic:function(n){var r=pn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=tm.bind(null,Se,!0,a),a.dispatch=r,[n,r]},useMemoCache:Gf,useCacheRefresh:function(){return pn().memoizedState=MS.bind(null,Se)},useEffectEvent:function(n){var r=pn(),a={impl:n};return r.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},nm={readContext:Jt,use:$c,useCallback:T_,useContext:Jt,useEffect:Xf,useImperativeHandle:b_,useInsertionEffect:__,useLayoutEffect:v_,useMemo:w_,useReducer:Qc,useRef:p_,useState:function(){return Qc(ir)},useDebugValue:Wf,useDeferredValue:function(n,r){var a=vt();return A_(a,We.memoizedState,n,r)},useTransition:function(){var n=Qc(ir)[0],r=vt().memoizedState;return[typeof n=="boolean"?n:Ml(n),r]},useSyncExternalStore:Zy,useId:x_,useHostTransitionStatus:em,useFormState:d_,useActionState:d_,useOptimistic:function(n,r){var a=vt();return s_(a,We,n,r)},useMemoCache:Gf,useCacheRefresh:C_};nm.useEffectEvent=y_;var V_={readContext:Jt,use:$c,useCallback:T_,useContext:Jt,useEffect:Xf,useImperativeHandle:b_,useInsertionEffect:__,useLayoutEffect:v_,useMemo:w_,useReducer:$f,useRef:p_,useState:function(){return $f(ir)},useDebugValue:Wf,useDeferredValue:function(n,r){var a=vt();return We===null?Jf(a,n,r):A_(a,We.memoizedState,n,r)},useTransition:function(){var n=$f(ir)[0],r=vt().memoizedState;return[typeof n=="boolean"?n:Ml(n),r]},useSyncExternalStore:Zy,useId:x_,useHostTransitionStatus:em,useFormState:m_,useActionState:m_,useOptimistic:function(n,r){var a=vt();return We!==null?s_(a,We,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Gf,useCacheRefresh:C_};V_.useEffectEvent=y_;function im(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var rm={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Un(),d=es(l);d.payload=r,a!=null&&(d.callback=a),r=ts(n,d,l),r!==null&&(An(r,n,l),Ol(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Un(),d=es(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=ts(n,d,l),r!==null&&(An(r,n,l),Ol(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Un(),l=es(a);l.tag=2,r!=null&&(l.callback=r),r=ts(n,l,a),r!==null&&(An(r,n,a),Ol(r,n,a))}};function k_(n,r,a,l,d,f,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,f,_):r.prototype&&r.prototype.isPureReactComponent?!Al(a,l)||!Al(d,f):!0}function M_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&rm.enqueueReplaceState(r,r.state,null)}function fa(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=T({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}function L_(n){Cc(n)}function U_(n){console.error(n)}function j_(n){Cc(n)}function Jc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function z_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function sm(n,r,a){return a=es(a),a.tag=3,a.payload={element:null},a.callback=function(){Jc(n,r)},a}function B_(n){return n=es(n),n.tag=3,n}function q_(n,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;n.payload=function(){return d(f)},n.callback=function(){z_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){z_(r,a,l),typeof d!="function"&&(os===null?os=new Set([this]):os.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function US(n,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Za(r,a,d,!0),a=Vn.current,a!==null){switch(a.tag){case 31:case 13:return Jn===null?ch():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===jc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Nm(n,l,d)),!1;case 22:return a.flags|=65536,l===jc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Nm(n,l,d)),!1}throw Error(s(435,a.tag))}return Nm(n,l,d),ch(),!1}if(je)return r=Vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==Af&&(n=Error(s(422),{cause:l}),Il(Qn(n,a)))):(l!==Af&&(r=Error(s(423),{cause:l}),Il(Qn(r,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,l=Qn(l,a),d=sm(n.stateNode,l,d),kf(n,d),gt!==4&&(gt=2)),!1;var f=Error(s(520),{cause:l});if(f=Qn(f,a),Kl===null?Kl=[f]:Kl.push(f),gt!==4&&(gt=2),r===null)return!0;l=Qn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=sm(a.stateNode,l,n),kf(a,n),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(os===null||!os.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=B_(d),q_(d,n,a,l),kf(a,d),!1}a=a.return}while(a!==null);return!1}var am=Error(s(461)),At=!1;function Zt(n,r,a,l){r.child=n===null?Ky(r,null,a,l):ha(r,n.child,a,l)}function F_(n,r,a,l,d){a=a.render;var f=r.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return oa(r),l=Bf(n,r,a,_,f,d),w=qf(),n!==null&&!At?(Ff(n,r,d),rr(n,r,d)):(je&&w&&Tf(r),r.flags|=1,Zt(n,r,l,d),r.child)}function H_(n,r,a,l,d){if(n===null){var f=a.type;return typeof f=="function"&&!vf(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,G_(n,r,f,l,d)):(n=Pc(a.type,null,l,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(f=n.child,!mm(n,d)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Al,a(_,l)&&n.ref===r.ref)return rr(n,r,d)}return r.flags|=1,n=Ji(f,l),n.ref=r.ref,n.return=r,r.child=n}function G_(n,r,a,l,d){if(n!==null){var f=n.memoizedProps;if(Al(f,l)&&n.ref===r.ref)if(At=!1,r.pendingProps=l=f,mm(n,d))(n.flags&131072)!==0&&(At=!0);else return r.lanes=n.lanes,rr(n,r,d)}return om(n,r,a,l,d)}function K_(n,r,a,l){var d=l.children,f=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,n!==null){for(l=r.child=n.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,r.child=null;return $_(n,r,f,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Lc(r,f!==null?f.cachePool:null),f!==null?Yy(r,f):Lf(),Xy(r);else return l=r.lanes=536870912,$_(n,r,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Lc(r,f.cachePool),Yy(r,f),is(),r.memoizedState=null):(n!==null&&Lc(r,null),Lf(),is());return Zt(n,r,d,a),r.child}function jl(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function $_(n,r,a,l,d){var f=Df();return f=f===null?null:{parent:Tt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&Lc(r,null),Lf(),Xy(r),n!==null&&Za(n,r,l,!0),r.childLanes=d,null}function Zc(n,r){return r=th({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function Q_(n,r,a){return ha(r,n.child,null,a),n=Zc(r,r.pendingProps),n.flags|=2,kn(r),r.memoizedState=null,n}function jS(n,r,a){var l=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(je){if(l.mode==="hidden")return n=Zc(r,l),r.lanes=536870912,jl(null,n);if(jf(r),(n=st)?(n=a0(n,Wn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Yr!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Dy(n),a.return=r,r.child=a,Wt=r,st=null)):n=null,n===null)throw Wr(r);return r.lanes=536870912,null}return Zc(r,l)}var f=n.memoizedState;if(f!==null){var _=f.dehydrated;if(jf(r),d)if(r.flags&256)r.flags&=-257,r=Q_(n,r,a);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(At||Za(n,r,a,!1),d=(a&n.childLanes)!==0,At||d){if(l=tt,l!==null&&(_=Vr(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,ia(n,_),An(l,n,_),am;ch(),r=Q_(n,r,a)}else n=f.treeContext,st=Zn(_.nextSibling),Wt=r,je=!0,Xr=null,Wn=!1,n!==null&&Vy(r,n),r=Zc(r,l),r.flags|=4096;return r}return n=Ji(n.child,{mode:l.mode,children:l.children}),n.ref=r.ref,r.child=n,n.return=r,n}function eh(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function om(n,r,a,l,d){return oa(r),a=Bf(n,r,a,l,void 0,d),l=qf(),n!==null&&!At?(Ff(n,r,d),rr(n,r,d)):(je&&l&&Tf(r),r.flags|=1,Zt(n,r,a,d),r.child)}function Y_(n,r,a,l,d,f){return oa(r),r.updateQueue=null,a=Jy(r,l,a,d),Wy(n),l=qf(),n!==null&&!At?(Ff(n,r,f),rr(n,r,f)):(je&&l&&Tf(r),r.flags|=1,Zt(n,r,a,f),r.child)}function X_(n,r,a,l,d){if(oa(r),r.stateNode===null){var f=Ya,_=a.contextType;typeof _=="object"&&_!==null&&(f=Jt(_)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rm,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Pf(r),_=a.contextType,f.context=typeof _=="object"&&_!==null?Jt(_):Ya,f.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(im(r,a,_,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&rm.enqueueReplaceState(f,f.state,null),Vl(r,l,f,d),Pl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){f=r.stateNode;var w=r.memoizedProps,N=fa(a,w);f.props=N;var F=f.context,W=a.contextType;_=Ya,typeof W=="object"&&W!==null&&(_=Jt(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||F!==_)&&M_(r,f,l,_),Zr=!1;var H=r.memoizedState;f.state=H,Vl(r,l,f,d),Pl(),F=r.memoizedState,w||H!==F||Zr?(typeof te=="function"&&(im(r,a,te,l),F=r.memoizedState),(N=Zr||k_(r,a,N,l,H,F,_))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),f.props=l,f.state=F,f.context=_,l=N):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,Vf(n,r),_=r.memoizedProps,W=fa(a,_),f.props=W,te=r.pendingProps,H=f.context,F=a.contextType,N=Ya,typeof F=="object"&&F!==null&&(N=Jt(F)),w=a.getDerivedStateFromProps,(F=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==te||H!==N)&&M_(r,f,l,N),Zr=!1,H=r.memoizedState,f.state=H,Vl(r,l,f,d),Pl();var K=r.memoizedState;_!==te||H!==K||Zr||n!==null&&n.dependencies!==null&&kc(n.dependencies)?(typeof w=="function"&&(im(r,a,w,l),K=r.memoizedState),(W=Zr||k_(r,a,W,l,H,K,N)||n!==null&&n.dependencies!==null&&kc(n.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,N)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),f.props=l,f.state=K,f.context=N,l=W):(typeof f.componentDidUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),l=!1)}return f=l,eh(n,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,n!==null&&l?(r.child=ha(r,n.child,null,d),r.child=ha(r,null,a,d)):Zt(n,r,a,d),r.memoizedState=f.state,n=r.child):n=rr(n,r,d),n}function W_(n,r,a,l){return sa(),r.flags|=256,Zt(n,r,a,l),r.child}var lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function um(n){return{baseLanes:n,cachePool:zy()}}function cm(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Ln),n}function J_(n,r,a){var l=r.pendingProps,d=!1,f=(r.flags&128)!==0,_;if((_=f)||(_=n!==null&&n.memoizedState===null?!1:(_t.current&2)!==0),_&&(d=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if(je){if(d?ns(r):is(),(n=st)?(n=a0(n,Wn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Yr!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Dy(n),a.return=r,r.child=a,Wt=r,st=null)):n=null,n===null)throw Wr(r);return Km(n)?r.lanes=32:r.lanes=536870912,null}var w=l.children;return l=l.fallback,d?(is(),d=r.mode,w=th({mode:"hidden",children:w},d),l=ra(l,d,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,l=r.child,l.memoizedState=um(a),l.childLanes=cm(n,_,a),r.memoizedState=lm,jl(null,l)):(ns(r),hm(r,w))}var N=n.memoizedState;if(N!==null&&(w=N.dehydrated,w!==null)){if(f)r.flags&256?(ns(r),r.flags&=-257,r=dm(n,r,a)):r.memoizedState!==null?(is(),r.child=n.child,r.flags|=128,r=null):(is(),w=l.fallback,d=r.mode,l=th({mode:"visible",children:l.children},d),w=ra(w,d,a,null),w.flags|=2,l.return=r,w.return=r,l.sibling=w,r.child=l,ha(r,n.child,null,a),l=r.child,l.memoizedState=um(a),l.childLanes=cm(n,_,a),r.memoizedState=lm,r=jl(null,l));else if(ns(r),Km(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,Il({value:l,source:null,stack:null}),r=dm(n,r,a)}else if(At||Za(n,r,a,!1),_=(a&n.childLanes)!==0,At||_){if(_=tt,_!==null&&(l=Vr(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,ia(n,l),An(_,n,l),am;Gm(w)||ch(),r=dm(n,r,a)}else Gm(w)?(r.flags|=192,r.child=n.child,r=null):(n=N.treeContext,st=Zn(w.nextSibling),Wt=r,je=!0,Xr=null,Wn=!1,n!==null&&Vy(r,n),r=hm(r,l.children),r.flags|=4096);return r}return d?(is(),w=l.fallback,d=r.mode,N=n.child,F=N.sibling,l=Ji(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?w=Ji(F,w):(w=ra(w,d,a,null),w.flags|=2),w.return=r,l.return=r,l.sibling=w,r.child=l,jl(null,l),l=r.child,w=n.child.memoizedState,w===null?w=um(a):(d=w.cachePool,d!==null?(N=Tt._currentValue,d=d.parent!==N?{parent:N,pool:N}:d):d=zy(),w={baseLanes:w.baseLanes|a,cachePool:d}),l.memoizedState=w,l.childLanes=cm(n,_,a),r.memoizedState=lm,jl(n.child,l)):(ns(r),a=n.child,n=a.sibling,a=Ji(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=a,r.memoizedState=null,a)}function hm(n,r){return r=th({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function th(n,r){return n=Pn(22,n,null,r),n.lanes=0,n}function dm(n,r,a){return ha(r,n.child,null,a),n=hm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Z_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),If(n.return,r,a)}function fm(n,r,a,l,d,f){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=d,_.treeForkCount=f)}function ev(n,r,a){var l=r.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var _=_t.current,w=(_&2)!==0;if(w?(_=_&1|2,r.flags|=128):_&=1,ae(_t,_),Zt(n,r,l,a),l=je?Rl:0,!w&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Z_(n,a,r);else if(n.tag===19)Z_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(a=r.child,d=null;a!==null;)n=a.alternate,n!==null&&Fc(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),fm(r,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&Fc(n)===null){r.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}fm(r,!0,a,null,f,l);break;case"together":fm(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function rr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),as|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Za(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Ji(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Ji(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function mm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&kc(n)))}function zS(n,r,a){switch(r.tag){case 3:$t(r,r.stateNode.containerInfo),Jr(r,Tt,n.memoizedState.cache),sa();break;case 27:case 5:pi(r);break;case 4:$t(r,r.stateNode.containerInfo);break;case 10:Jr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,jf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(ns(r),r.flags|=128,null):(a&r.child.childLanes)!==0?J_(n,r,a):(ns(r),n=rr(n,r,a),n!==null?n.sibling:null);ns(r);break;case 19:var d=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Za(n,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return ev(n,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ae(_t,_t.current),l)break;return null;case 22:return r.lanes=0,K_(n,r,a,r.pendingProps);case 24:Jr(r,Tt,n.memoizedState.cache)}return rr(n,r,a)}function tv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)At=!0;else{if(!mm(n,a)&&(r.flags&128)===0)return At=!1,zS(n,r,a);At=(n.flags&131072)!==0}else At=!1,je&&(r.flags&1048576)!==0&&Py(r,Rl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(n=ua(r.elementType),r.type=n,typeof n=="function")vf(n)?(l=fa(n,l),r.tag=1,r=X_(null,r,n,l,a)):(r.tag=0,r=om(null,r,n,l,a));else{if(n!=null){var d=n.$$typeof;if(d===me){r.tag=11,r=F_(null,r,n,l,a);break e}else if(d===D){r.tag=14,r=H_(null,r,n,l,a);break e}}throw r=Xe(n)||n,Error(s(306,r,""))}}return r;case 0:return om(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=fa(l,r.pendingProps),X_(n,r,l,d,a);case 3:e:{if($t(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;d=f.element,Vf(n,r),Vl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Jr(r,Tt,l),l!==f.cache&&xf(r,[Tt],a,!0),Pl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=W_(n,r,l,a);break e}else if(l!==d){d=Qn(Error(s(424)),r),Il(d),r=W_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(st=Zn(n.firstChild),Wt=r,je=!0,Xr=null,Wn=!0,a=Ky(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(sa(),l===d){r=rr(n,r,a);break e}Zt(n,r,l,a)}r=r.child}return r;case 26:return eh(n,r),n===null?(a=d0(r.type,null,r.pendingProps,null))?r.memoizedState=a:je||(a=r.type,n=r.pendingProps,l=yh(xe.current).createElement(a),l[ft]=r,l[Xt]=n,en(l,a,n),yt(l),r.stateNode=l):r.memoizedState=d0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return pi(r),n===null&&je&&(l=r.stateNode=u0(r.type,r.pendingProps,xe.current),Wt=r,Wn=!0,d=st,hs(r.type)?($m=d,st=Zn(l.firstChild)):st=d),Zt(n,r,r.pendingProps.children,a),eh(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&je&&((d=l=st)&&(l=gR(l,r.type,r.pendingProps,Wn),l!==null?(r.stateNode=l,Wt=r,st=Zn(l.firstChild),Wn=!1,d=!0):d=!1),d||Wr(r)),pi(r),d=r.type,f=r.pendingProps,_=n!==null?n.memoizedProps:null,l=f.children,qm(d,f)?l=null:_!==null&&qm(d,_)&&(r.flags|=32),r.memoizedState!==null&&(d=Bf(n,r,DS,null,null,a),eu._currentValue=d),eh(n,r),Zt(n,r,l,a),r.child;case 6:return n===null&&je&&((n=a=st)&&(a=yR(a,r.pendingProps,Wn),a!==null?(r.stateNode=a,Wt=r,st=null,n=!0):n=!1),n||Wr(r)),null;case 13:return J_(n,r,a);case 4:return $t(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=ha(r,null,l,a):Zt(n,r,l,a),r.child;case 11:return F_(n,r,r.type,r.pendingProps,a);case 7:return Zt(n,r,r.pendingProps,a),r.child;case 8:return Zt(n,r,r.pendingProps.children,a),r.child;case 12:return Zt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Jr(r,r.type,l.value),Zt(n,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,oa(r),d=Jt(d),l=l(d),r.flags|=1,Zt(n,r,l,a),r.child;case 14:return H_(n,r,r.type,r.pendingProps,a);case 15:return G_(n,r,r.type,r.pendingProps,a);case 19:return ev(n,r,a);case 31:return jS(n,r,a);case 22:return K_(n,r,a,r.pendingProps);case 24:return oa(r),l=Jt(Tt),n===null?(d=Df(),d===null&&(d=tt,f=Cf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),r.memoizedState={parent:l,cache:d},Pf(r),Jr(r,Tt,d)):((n.lanes&a)!==0&&(Vf(n,r),Vl(r,null,null,a),Pl()),d=n.memoizedState,f=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Jr(r,Tt,l)):(l=f.cache,Jr(r,Tt,l),l!==d.cache&&xf(r,[Tt],a,!0))),Zt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function sr(n){n.flags|=4}function pm(n,r,a,l,d){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(xv())n.flags|=8192;else throw ca=jc,Of}else n.flags&=-16777217}function nv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!y0(r))if(xv())n.flags|=8192;else throw ca=jc,Of}function nh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?al():536870912,n.lanes|=r,ho|=r)}function zl(n,r){if(!je)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function at(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function BS(n,r,a){var l=r.pendingProps;switch(wf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),tr(Tt),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ja(r)?sr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Sf())),at(r),null;case 26:var d=r.type,f=r.memoizedState;return n===null?(sr(r),f!==null?(at(r),nv(r,f)):(at(r),pm(r,d,null,l,a))):f?f!==n.memoizedState?(sr(r),at(r),nv(r,f)):(at(r),r.flags&=-16777217):(n=n.memoizedProps,n!==l&&sr(r),at(r),pm(r,d,n,l,a)),null;case 27:if(zi(r),a=xe.current,d=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&sr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}n=de.current,Ja(r)?ky(r):(n=u0(d,l,a),r.stateNode=n,sr(r))}return at(r),null;case 5:if(zi(r),d=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&sr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(f=de.current,Ja(r))ky(r);else{var _=yh(xe.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(d,{is:l.is}):_.createElement(d)}}f[ft]=r,f[Xt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=f;e:switch(en(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&sr(r)}}return at(r),pm(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,a),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&sr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=xe.current,Ja(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,d=Wt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}n[ft]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Jv(n.nodeValue,a)),n||Wr(r,!0)}else n=yh(n).createTextNode(l),n[ft]=r,r.stateNode=n}return at(r),null;case 31:if(a=r.memoizedState,n===null||n.memoizedState!==null){if(l=Ja(r),a!==null){if(n===null){if(!l)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[ft]=r}else sa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),n=!1}else a=Sf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return r.flags&256?(kn(r),r):(kn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return at(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Ja(r),l!==null&&l.dehydrated!==null){if(n===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[ft]=r}else sa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),d=!1}else d=Sf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(kn(r),r):(kn(r),null)}return kn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==n&&a&&(r.child.flags|=8192),nh(r,r.updateQueue),at(r),null);case 4:return ut(),n===null&&Lm(r.stateNode.containerInfo),at(r),null;case 10:return tr(r.type),at(r),null;case 19:if(J(_t),l=r.memoizedState,l===null)return at(r),null;if(d=(r.flags&128)!==0,f=l.rendering,f===null)if(d)zl(l,!1);else{if(gt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(f=Fc(n),f!==null){for(r.flags|=128,zl(l,!1),n=f.updateQueue,r.updateQueue=n,nh(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Ny(a,n),a=a.sibling;return ae(_t,_t.current&1|2),je&&Zi(r,l.treeForkCount),r.child}n=n.sibling}l.tail!==null&&Qt()>oh&&(r.flags|=128,d=!0,zl(l,!1),r.lanes=4194304)}else{if(!d)if(n=Fc(f),n!==null){if(r.flags|=128,d=!0,n=n.updateQueue,r.updateQueue=n,nh(r,n),zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!je)return at(r),null}else 2*Qt()-l.renderingStartTime>oh&&a!==536870912&&(r.flags|=128,d=!0,zl(l,!1),r.lanes=4194304);l.isBackwards?(f.sibling=r.child,r.child=f):(n=l.last,n!==null?n.sibling=f:r.child=f,l.last=f)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=Qt(),n.sibling=null,a=_t.current,ae(_t,d?a&1|2:a&1),je&&Zi(r,l.treeForkCount),n):(at(r),null);case 22:case 23:return kn(r),Uf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&nh(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&J(la),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),tr(Tt),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function qS(n,r){switch(wf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return tr(Tt),ut(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return zi(r),null;case 31:if(r.memoizedState!==null){if(kn(r),r.alternate===null)throw Error(s(340));sa()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(kn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));sa()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return J(_t),null;case 4:return ut(),null;case 10:return tr(r.type),null;case 22:case 23:return kn(r),Uf(),n!==null&&J(la),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return tr(Tt),null;case 25:return null;default:return null}}function iv(n,r){switch(wf(r),r.tag){case 3:tr(Tt),ut();break;case 26:case 27:case 5:zi(r);break;case 4:ut();break;case 31:r.memoizedState!==null&&kn(r);break;case 13:kn(r);break;case 19:J(_t);break;case 10:tr(r.type);break;case 22:case 23:kn(r),Uf(),n!==null&&J(la);break;case 24:tr(Tt)}}function Bl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&n)===n){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==d)}}catch(w){Ye(r,r.return,w)}}function rs(n,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&n)===n){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,d=r;var N=a,F=w;try{F()}catch(W){Ye(d,N,W)}}}l=l.next}while(l!==f)}}catch(W){Ye(r,r.return,W)}}function rv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Qy(r,a)}catch(l){Ye(n,n.return,l)}}}function sv(n,r,a){a.props=fa(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(n,r,l)}}function ql(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(d){Ye(n,r,d)}}function Ri(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Ye(n,r,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ye(n,r,d)}else a.current=null}function av(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Ye(n,n.return,d)}}function gm(n,r,a){try{var l=n.stateNode;cR(l,n.type,a,r),l[Xt]=r}catch(d){Ye(n,n.return,d)}}function ov(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&hs(n.type)||n.tag===4}function ym(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ov(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&hs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function _m(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=jt));else if(l!==4&&(l===27&&hs(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(_m(n,r,a),n=n.sibling;n!==null;)_m(n,r,a),n=n.sibling}function ih(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&hs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(ih(n,r,a),n=n.sibling;n!==null;)ih(n,r,a),n=n.sibling}function lv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);en(r,l,a),r[ft]=n,r[Xt]=a}catch(f){Ye(n,n.return,f)}}var ar=!1,St=!1,vm=!1,uv=typeof WeakSet=="function"?WeakSet:Set,qt=null;function FS(n,r){if(n=n.containerInfo,zm=Ah,n=by(n),df(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,w=-1,N=-1,F=0,W=0,te=n,H=null;t:for(;;){for(var K;te!==a||d!==0&&te.nodeType!==3||(w=_+d),te!==f||l!==0&&te.nodeType!==3||(N=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(K=te.firstChild)!==null;)H=te,te=K;for(;;){if(te===n)break t;if(H===a&&++F===d&&(w=_),H===f&&++W===l&&(N=_),(K=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=K}a=w===-1||N===-1?null:{start:w,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bm={focusedElem:n,selectionRange:a},Ah=!1,qt=r;qt!==null;)if(r=qt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,qt=n;else for(;qt!==null;){switch(r=qt,f=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)d=n[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&f!==null){n=void 0,a=r,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var he=fa(a.type,d);n=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){Ye(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Hm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Hm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,qt=n;break}qt=r.return}}function cv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:lr(n,a),l&4&&Bl(5,a);break;case 1:if(lr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var d=fa(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(d,r,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&rv(a),l&512&&ql(a,a.return);break;case 3:if(lr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Qy(n,r)}catch(_){Ye(a,a.return,_)}}break;case 27:r===null&&l&4&&lv(a);case 26:case 5:lr(n,a),r===null&&l&4&&av(a),l&512&&ql(a,a.return);break;case 12:lr(n,a);break;case 31:lr(n,a),l&4&&fv(n,a);break;case 13:lr(n,a),l&4&&mv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=JS.bind(null,a),_R(n,a))));break;case 22:if(l=a.memoizedState!==null||ar,!l){r=r!==null&&r.memoizedState!==null||St,d=ar;var f=St;ar=l,(St=r)&&!f?ur(n,a,(a.subtreeFlags&8772)!==0):lr(n,a),ar=d,St=f}break;case 30:break;default:lr(n,a)}}function hv(n){var r=n.alternate;r!==null&&(n.alternate=null,hv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Gs(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var lt=null,En=!1;function or(n,r,a){for(a=a.child;a!==null;)dv(n,r,a),a=a.sibling}function dv(n,r,a){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Cr,a)}catch{}switch(a.tag){case 26:St||Ri(a,r),or(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:St||Ri(a,r);var l=lt,d=En;hs(a.type)&&(lt=a.stateNode,En=!1),or(n,r,a),Wl(a.stateNode),lt=l,En=d;break;case 5:St||Ri(a,r);case 6:if(l=lt,d=En,lt=null,or(n,r,a),lt=l,En=d,lt!==null)if(En)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){Ye(a,r,f)}else try{lt.removeChild(a.stateNode)}catch(f){Ye(a,r,f)}break;case 18:lt!==null&&(En?(n=lt,r0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Eo(n)):r0(lt,a.stateNode));break;case 4:l=lt,d=En,lt=a.stateNode.containerInfo,En=!0,or(n,r,a),lt=l,En=d;break;case 0:case 11:case 14:case 15:rs(2,a,r),St||rs(4,a,r),or(n,r,a);break;case 1:St||(Ri(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&sv(a,r,l)),or(n,r,a);break;case 21:or(n,r,a);break;case 22:St=(l=St)||a.memoizedState!==null,or(n,r,a),St=l;break;default:or(n,r,a)}}function fv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Eo(n)}catch(a){Ye(r,r.return,a)}}}function mv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Eo(n)}catch(a){Ye(r,r.return,a)}}function HS(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new uv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new uv),r;default:throw Error(s(435,n.tag))}}function rh(n,r){var a=HS(n);r.forEach(function(l){if(!a.has(l)){a.add(l);var d=ZS.bind(null,n,l);l.then(d,d)}})}function bn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=n,_=r,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(hs(w.type)){lt=w.stateNode,En=!1;break e}break;case 5:lt=w.stateNode,En=!1;break e;case 3:case 4:lt=w.stateNode.containerInfo,En=!0;break e}w=w.return}if(lt===null)throw Error(s(160));dv(f,_,d),lt=null,En=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)pv(r,n),r=r.sibling}var li=null;function pv(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:bn(r,n),Tn(n),l&4&&(rs(3,n,n.return),Bl(3,n),rs(5,n,n.return));break;case 1:bn(r,n),Tn(n),l&512&&(St||a===null||Ri(a,a.return)),l&64&&ar&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=li;if(bn(r,n),Tn(n),l&512&&(St||a===null||Ri(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Hi]||f[ft]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),en(f,l,a),f[ft]=n,yt(f),l=f;break e;case"link":var _=p0("link","href",d).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(f=_[w],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}f=d.createElement(l),en(f,l,a),d.head.appendChild(f);break;case"meta":if(_=p0("meta","content",d).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(f=_[w],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}f=d.createElement(l),en(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[ft]=n,yt(f),l=f}n.stateNode=l}else g0(d,n.type,n.stateNode);else n.stateNode=m0(d,l,n.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?g0(d,n.type,n.stateNode):m0(d,l,n.memoizedProps)):l===null&&n.stateNode!==null&&gm(n,n.memoizedProps,a.memoizedProps)}break;case 27:bn(r,n),Tn(n),l&512&&(St||a===null||Ri(a,a.return)),a!==null&&l&4&&gm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(bn(r,n),Tn(n),l&512&&(St||a===null||Ri(a,a.return)),n.flags&32){d=n.stateNode;try{Kn(d,"")}catch(he){Ye(n,n.return,he)}}l&4&&n.stateNode!=null&&(d=n.memoizedProps,gm(n,d,a!==null?a.memoizedProps:d)),l&1024&&(vm=!0);break;case 6:if(bn(r,n),Tn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(he){Ye(n,n.return,he)}}break;case 3:if(Eh=null,d=li,li=_h(r.containerInfo),bn(r,n),li=d,Tn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Eo(r.containerInfo)}catch(he){Ye(n,n.return,he)}vm&&(vm=!1,gv(n));break;case 4:l=li,li=_h(n.stateNode.containerInfo),bn(r,n),Tn(n),li=l;break;case 12:bn(r,n),Tn(n);break;case 31:bn(r,n),Tn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,rh(n,l)));break;case 13:bn(r,n),Tn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ah=Qt()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,rh(n,l)));break;case 22:d=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,F=ar,W=St;if(ar=F||d,St=W||N,bn(r,n),St=W,ar=F,Tn(n),l&8192)e:for(r=n.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||N||ar||St||ma(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(f=N.stateNode,d)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=N.stateNode;var te=N.memoizedProps.style,H=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(he){Ye(N,N.return,he)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(he){Ye(N,N.return,he)}}}else if(r.tag===18){if(a===null){N=r;try{var K=N.stateNode;d?s0(K,!0):s0(N.stateNode,!1)}catch(he){Ye(N,N.return,he)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rh(n,a))));break;case 19:bn(r,n),Tn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,rh(n,l)));break;case 30:break;case 21:break;default:bn(r,n),Tn(n)}}function Tn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(ov(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=ym(n);ih(n,f,d);break;case 5:var _=a.stateNode;a.flags&32&&(Kn(_,""),a.flags&=-33);var w=ym(n);ih(n,w,_);break;case 3:case 4:var N=a.stateNode.containerInfo,F=ym(n);_m(n,F,N);break;default:throw Error(s(161))}}catch(W){Ye(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function gv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;gv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function lr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)cv(n,r.alternate,r),r=r.sibling}function ma(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:rs(4,r,r.return),ma(r);break;case 1:Ri(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&sv(r,r.return,a),ma(r);break;case 27:Wl(r.stateNode);case 26:case 5:Ri(r,r.return),ma(r);break;case 22:r.memoizedState===null&&ma(r);break;case 30:ma(r);break;default:ma(r)}n=n.sibling}}function ur(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=n,f=r,_=f.flags;switch(f.tag){case 0:case 11:case 15:ur(d,f,a),Bl(4,f);break;case 1:if(ur(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){Ye(l,l.return,F)}if(l=f,d=l.updateQueue,d!==null){var w=l.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)$y(N[d],w)}catch(F){Ye(l,l.return,F)}}a&&_&64&&rv(f),ql(f,f.return);break;case 27:lv(f);case 26:case 5:ur(d,f,a),a&&l===null&&_&4&&av(f),ql(f,f.return);break;case 12:ur(d,f,a);break;case 31:ur(d,f,a),a&&_&4&&fv(d,f);break;case 13:ur(d,f,a),a&&_&4&&mv(d,f);break;case 22:f.memoizedState===null&&ur(d,f,a),ql(f,f.return);break;case 30:break;default:ur(d,f,a)}r=r.sibling}}function Em(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&xl(a))}function bm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&xl(n))}function ui(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)yv(n,r,a,l),r=r.sibling}function yv(n,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:ui(n,r,a,l),d&2048&&Bl(9,r);break;case 1:ui(n,r,a,l);break;case 3:ui(n,r,a,l),d&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&xl(n)));break;case 12:if(d&2048){ui(n,r,a,l),n=r.stateNode;try{var f=r.memoizedProps,_=f.id,w=f.onPostCommit;typeof w=="function"&&w(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){Ye(r,r.return,N)}}else ui(n,r,a,l);break;case 31:ui(n,r,a,l);break;case 13:ui(n,r,a,l);break;case 23:break;case 22:f=r.stateNode,_=r.alternate,r.memoizedState!==null?f._visibility&2?ui(n,r,a,l):Fl(n,r):f._visibility&2?ui(n,r,a,l):(f._visibility|=2,lo(n,r,a,l,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Em(_,r);break;case 24:ui(n,r,a,l),d&2048&&bm(r.alternate,r);break;default:ui(n,r,a,l)}}function lo(n,r,a,l,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=n,_=r,w=a,N=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:lo(f,_,w,N,d),Bl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?lo(f,_,w,N,d):Fl(f,_):(W._visibility|=2,lo(f,_,w,N,d)),d&&F&2048&&Em(_.alternate,_);break;case 24:lo(f,_,w,N,d),d&&F&2048&&bm(_.alternate,_);break;default:lo(f,_,w,N,d)}r=r.sibling}}function Fl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,d=l.flags;switch(l.tag){case 22:Fl(a,l),d&2048&&Em(l.alternate,l);break;case 24:Fl(a,l),d&2048&&bm(l.alternate,l);break;default:Fl(a,l)}r=r.sibling}}var Hl=8192;function uo(n,r,a){if(n.subtreeFlags&Hl)for(n=n.child;n!==null;)_v(n,r,a),n=n.sibling}function _v(n,r,a){switch(n.tag){case 26:uo(n,r,a),n.flags&Hl&&n.memoizedState!==null&&NR(a,li,n.memoizedState,n.memoizedProps);break;case 5:uo(n,r,a);break;case 3:case 4:var l=li;li=_h(n.stateNode.containerInfo),uo(n,r,a),li=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Hl,Hl=16777216,uo(n,r,a),Hl=l):uo(n,r,a));break;default:uo(n,r,a)}}function vv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Gl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,bv(l,n)}vv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ev(n),n=n.sibling}function Ev(n){switch(n.tag){case 0:case 11:case 15:Gl(n),n.flags&2048&&rs(9,n,n.return);break;case 3:Gl(n);break;case 12:Gl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,sh(n)):Gl(n);break;default:Gl(n)}}function sh(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,bv(l,n)}vv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:rs(8,r,r.return),sh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,sh(r));break;default:sh(r)}n=n.sibling}}function bv(n,r){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:rs(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=n;qt!==null;){l=qt;var d=l.sibling,f=l.return;if(hv(l),l===a){qt=null;break e}if(d!==null){d.return=f,qt=d;break e}qt=f}}}var GS={getCacheForType:function(n){var r=Jt(Tt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a},cacheSignal:function(){return Jt(Tt).controller.signal}},KS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,De=null,Ve=0,Qe=0,Mn=null,ss=!1,co=!1,Tm=!1,cr=0,gt=0,as=0,pa=0,wm=0,Ln=0,ho=0,Kl=null,wn=null,Am=!1,ah=0,Tv=0,oh=1/0,lh=null,os=null,Pt=0,ls=null,fo=null,hr=0,Sm=0,Rm=null,wv=null,$l=0,Im=null;function Un(){return(Ge&2)!==0&&Ve!==0?Ve&-Ve:X.T!==null?Pm():Fi()}function Av(){if(Ln===0)if((Ve&536870912)===0||je){var n=gi;gi<<=1,(gi&3932160)===0&&(gi=262144),Ln=n}else Ln=536870912;return n=Vn.current,n!==null&&(n.flags|=32),Ln}function An(n,r,a){(n===tt&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)&&(mo(n,0),us(n,Ve,Ln,!1)),Or(n,a),((Ge&2)===0||n!==tt)&&(n===tt&&((Ge&2)===0&&(pa|=a),gt===4&&us(n,Ve,Ln,!1)),Ii(n))}function Sv(n,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&n.expiredLanes)===0||Dr(n,r),d=l?YS(n,r):Cm(n,r,!0),f=l;do{if(d===0){co&&!l&&us(n,r,0,!1);break}else{if(a=n.current.alternate,f&&!$S(a)){d=Cm(n,r,!1),f=!1;continue}if(d===2){if(f=r,n.errorRecoveryDisabledLanes&f)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var w=n;d=Kl;var N=w.current.memoizedState.isDehydrated;if(N&&(mo(w,_).flags|=256),_=Cm(w,_,!1),_!==2){if(Tm&&!N){w.errorRecoveryDisabledLanes|=f,pa|=f,d=4;break e}f=wn,wn=d,f!==null&&(wn===null?wn=f:wn.push.apply(wn,f))}d=_}if(f=!1,d!==2)continue}}if(d===1){mo(n,0),us(n,r,0,!0);break}e:{switch(l=n,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:us(l,r,Ln,!ss);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=ah+300-Qt(),10<d)){if(us(l,r,Ln,!ss),Hn(l,0,!0)!==0)break e;hr=r,l.timeoutHandle=n0(Rv.bind(null,l,a,wn,lh,Am,r,Ln,pa,ho,ss,f,"Throttled",-0,0),d);break e}Rv(l,a,wn,lh,Am,r,Ln,pa,ho,ss,f,null,-0,0)}}break}while(!0);Ii(n)}function Rv(n,r,a,l,d,f,_,w,N,F,W,te,H,K){if(n.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jt},_v(r,f,te);var he=(f&62914560)===f?ah-Qt():(f&4194048)===f?Tv-Qt():0;if(he=DR(te,he),he!==null){hr=f,n.cancelPendingCommit=he(Vv.bind(null,n,r,f,a,l,d,_,w,N,W,te,null,H,K)),us(n,f,_,!F);return}}Vv(n,r,f,a,l,d,_,w,N)}function $S(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!On(f(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function us(n,r,a,l){r&=~wm,r&=~pa,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var d=r;0<d;){var f=31-cn(d),_=1<<f;l[f]=-1,d&=~_}a!==0&&ol(n,a,r)}function uh(){return(Ge&6)===0?(Ql(0),!1):!0}function xm(){if(De!==null){if(Qe===0)var n=De.return;else n=De,er=aa=null,Hf(n),io=null,Nl=0,n=De;for(;n!==null;)iv(n.alternate,n),n=n.return;De=null}}function mo(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,fR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),hr=0,xm(),tt=n,De=a=Ji(n.current,null),Ve=r,Qe=0,Mn=null,ss=!1,co=Dr(n,r),Tm=!1,ho=Ln=wm=pa=as=gt=0,wn=Kl=null,Am=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var d=31-cn(l),f=1<<d;r|=n[d],l&=~f}return cr=r,Nc(),a}function Iv(n,r){Se=null,X.H=Ul,r===no||r===Uc?(r=Fy(),Qe=3):r===Of?(r=Fy(),Qe=4):Qe=r===am?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Mn=r,De===null&&(gt=1,Jc(n,Qn(r,n.current)))}function xv(){var n=Vn.current;return n===null?!0:(Ve&4194048)===Ve?Jn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?n===Jn:!1}function Cv(){var n=X.H;return X.H=Ul,n===null?Ul:n}function Nv(){var n=X.A;return X.A=GS,n}function ch(){gt=4,ss||(Ve&4194048)!==Ve&&Vn.current!==null||(co=!0),(as&134217727)===0&&(pa&134217727)===0||tt===null||us(tt,Ve,Ln,!1)}function Cm(n,r,a){var l=Ge;Ge|=2;var d=Cv(),f=Nv();(tt!==n||Ve!==r)&&(lh=null,mo(n,r)),r=!1;var _=gt;e:do try{if(Qe!==0&&De!==null){var w=De,N=Mn;switch(Qe){case 8:xm(),_=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(r=!0);var F=Qe;if(Qe=0,Mn=null,po(n,w,N,F),a&&co){_=0;break e}break;default:F=Qe,Qe=0,Mn=null,po(n,w,N,F)}}QS(),_=gt;break}catch(W){Iv(n,W)}while(!0);return r&&n.shellSuspendCounter++,er=aa=null,Ge=l,X.H=d,X.A=f,De===null&&(tt=null,Ve=0,Nc()),_}function QS(){for(;De!==null;)Dv(De)}function YS(n,r){var a=Ge;Ge|=2;var l=Cv(),d=Nv();tt!==n||Ve!==r?(lh=null,oh=Qt()+500,mo(n,r)):co=Dr(n,r);e:do try{if(Qe!==0&&De!==null){r=De;var f=Mn;t:switch(Qe){case 1:Qe=0,Mn=null,po(n,r,f,1);break;case 2:case 9:if(By(f)){Qe=0,Mn=null,Ov(r);break}r=function(){Qe!==2&&Qe!==9||tt!==n||(Qe=7),Ii(n)},f.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:By(f)?(Qe=0,Mn=null,Ov(r)):(Qe=0,Mn=null,po(n,r,f,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var w=De;if(_?y0(_):w.stateNode.complete){Qe=0,Mn=null;var N=w.sibling;if(N!==null)De=N;else{var F=w.return;F!==null?(De=F,hh(F)):De=null}break t}}Qe=0,Mn=null,po(n,r,f,5);break;case 6:Qe=0,Mn=null,po(n,r,f,6);break;case 8:xm(),gt=6;break e;default:throw Error(s(462))}}XS();break}catch(W){Iv(n,W)}while(!0);return er=aa=null,X.H=l,X.A=d,Ge=a,De!==null?0:(tt=null,Ve=0,Nc(),gt)}function XS(){for(;De!==null&&!ef();)Dv(De)}function Dv(n){var r=tv(n.alternate,n,cr);n.memoizedProps=n.pendingProps,r===null?hh(n):De=r}function Ov(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=Y_(a,r,r.pendingProps,r.type,void 0,Ve);break;case 11:r=Y_(a,r,r.pendingProps,r.type.render,r.ref,Ve);break;case 5:Hf(r);default:iv(a,r),r=De=Ny(r,cr),r=tv(a,r,cr)}n.memoizedProps=n.pendingProps,r===null?hh(n):De=r}function po(n,r,a,l){er=aa=null,Hf(r),io=null,Nl=0;var d=r.return;try{if(US(n,d,r,a,Ve)){gt=1,Jc(n,Qn(a,n.current)),De=null;return}}catch(f){if(d!==null)throw De=d,f;gt=1,Jc(n,Qn(a,n.current)),De=null;return}r.flags&32768?(je||l===1?n=!0:co||(Ve&536870912)!==0?n=!1:(ss=n=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Pv(r,n)):hh(r)}function hh(n){var r=n;do{if((r.flags&32768)!==0){Pv(r,ss);return}n=r.return;var a=BS(r.alternate,r,cr);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=n}while(r!==null);gt===0&&(gt=5)}function Pv(n,r){do{var a=qS(n.alternate,n);if(a!==null){a.flags&=32767,De=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){De=n;return}De=n=a}while(n!==null);gt=6,De=null}function Vv(n,r,a,l,d,f,_,w,N){n.cancelPendingCommit=null;do dh();while(Pt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=yf,Yt(n,a,f,_,w,N),n===tt&&(De=tt=null,Ve=0),fo=r,ls=n,hr=a,Sm=f,Rm=d,wv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,eR(Bi,function(){return jv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,d=le.p,le.p=2,_=Ge,Ge|=4;try{FS(n,r,a)}finally{Ge=_,le.p=d,X.T=l}}Pt=1,kv(),Mv(),Lv()}}function kv(){if(Pt===1){Pt=0;var n=ls,r=fo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var d=Ge;Ge|=4;try{pv(r,n);var f=Bm,_=by(n.containerInfo),w=f.focusedElem,N=f.selectionRange;if(_!==w&&w&&w.ownerDocument&&Ey(w.ownerDocument.documentElement,w)){if(N!==null&&df(w)){var F=N.start,W=N.end;if(W===void 0&&(W=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(W,w.value.length);else{var te=w.ownerDocument||document,H=te&&te.defaultView||window;if(H.getSelection){var K=H.getSelection(),he=w.textContent.length,ve=Math.min(N.start,he),Ze=N.end===void 0?ve:Math.min(N.end,he);!K.extend&&ve>Ze&&(_=Ze,Ze=ve,ve=_);var j=vy(w,ve),k=vy(w,Ze);if(j&&k&&(K.rangeCount!==1||K.anchorNode!==j.node||K.anchorOffset!==j.offset||K.focusNode!==k.node||K.focusOffset!==k.offset)){var B=te.createRange();B.setStart(j.node,j.offset),K.removeAllRanges(),ve>Ze?(K.addRange(B),K.extend(k.node,k.offset)):(B.setEnd(k.node,k.offset),K.addRange(B))}}}}for(te=[],K=w;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var ee=te[w];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Ah=!!zm,Bm=zm=null}finally{Ge=d,le.p=l,X.T=a}}n.current=r,Pt=2}}function Mv(){if(Pt===2){Pt=0;var n=ls,r=fo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var d=Ge;Ge|=4;try{cv(n,r.alternate,r)}finally{Ge=d,le.p=l,X.T=a}}Pt=3}}function Lv(){if(Pt===4||Pt===3){Pt=0,il();var n=ls,r=fo,a=hr,l=wv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pt=5:(Pt=0,fo=ls=null,Uv(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(os=null),ul(a),r=r.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Cr,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,d=le.p,le.p=2,X.T=null;try{for(var f=n.onRecoverableError,_=0;_<l.length;_++){var w=l[_];f(w.value,{componentStack:w.stack})}}finally{X.T=r,le.p=d}}(hr&3)!==0&&dh(),Ii(n),d=n.pendingLanes,(a&261930)!==0&&(d&42)!==0?n===Im?$l++:($l=0,Im=n):$l=0,Ql(0)}}function Uv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,xl(r)))}function dh(){return kv(),Mv(),Lv(),jv()}function jv(){if(Pt!==5)return!1;var n=ls,r=Sm;Sm=0;var a=ul(hr),l=X.T,d=le.p;try{le.p=32>a?32:a,X.T=null,a=Rm,Rm=null;var f=ls,_=hr;if(Pt=0,fo=ls=null,hr=0,(Ge&6)!==0)throw Error(s(331));var w=Ge;if(Ge|=4,Ev(f.current),yv(f,f.current,_,a),Ge=w,Ql(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Cr,f)}catch{}return!0}finally{le.p=d,X.T=l,Uv(n,r)}}function zv(n,r,a){r=Qn(a,r),r=sm(n.stateNode,r,2),n=ts(n,r,2),n!==null&&(Or(n,2),Ii(n))}function Ye(n,r,a){if(n.tag===3)zv(n,n,a);else for(;r!==null;){if(r.tag===3){zv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(os===null||!os.has(l))){n=Qn(a,n),a=B_(2),l=ts(r,a,2),l!==null&&(q_(a,l,r,n),Or(l,2),Ii(l));break}}r=r.return}}function Nm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new KS;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(Tm=!0,d.add(a),n=WS.bind(null,n,r,a),r.then(n,n))}function WS(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,tt===n&&(Ve&a)===a&&(gt===4||gt===3&&(Ve&62914560)===Ve&&300>Qt()-ah?(Ge&2)===0&&mo(n,0):wm|=a,ho===Ve&&(ho=0)),Ii(n)}function Bv(n,r){r===0&&(r=al()),n=ia(n,r),n!==null&&(Or(n,r),Ii(n))}function JS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Bv(n,a)}function ZS(n,r){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Bv(n,a)}function eR(n,r){return qs(n,r)}var fh=null,go=null,Dm=!1,mh=!1,Om=!1,cs=0;function Ii(n){n!==go&&n.next===null&&(go===null?fh=go=n:go=go.next=n),mh=!0,Dm||(Dm=!0,nR())}function Ql(n,r){if(!Om&&mh){Om=!0;do for(var a=!1,l=fh;l!==null;){if(n!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var _=l.suspendedLanes,w=l.pingedLanes;f=(1<<31-cn(42|n)+1)-1,f&=d&~(_&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Gv(l,f))}else f=Ve,f=Hn(l,l===tt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Dr(l,f)||(a=!0,Gv(l,f));l=l.next}while(a);Om=!1}}function tR(){qv()}function qv(){mh=Dm=!1;var n=0;cs!==0&&dR()&&(n=cs);for(var r=Qt(),a=null,l=fh;l!==null;){var d=l.next,f=Fv(l,r);f===0?(l.next=null,a===null?fh=d:a.next=d,d===null&&(go=a)):(a=l,(n!==0||(f&3)!==0)&&(mh=!0)),l=d}Pt!==0&&Pt!==5||Ql(n),cs!==0&&(cs=0)}function Fv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,f=n.pendingLanes&-62914561;0<f;){var _=31-cn(f),w=1<<_,N=d[_];N===-1?((w&a)===0||(w&l)!==0)&&(d[_]=ka(w,r)):N<=r&&(n.expiredLanes|=w),f&=~w}if(r=tt,a=Ve,a=Hn(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Va(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Dr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&Va(l),ul(a)){case 2:case 8:a=Ut;break;case 32:a=Bi;break;case 268435456:a=rl;break;default:a=Bi}return l=Hv.bind(null,n),a=qs(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&Va(l),n.callbackPriority=2,n.callbackNode=null,2}function Hv(n,r){if(Pt!==0&&Pt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(dh()&&n.callbackNode!==a)return null;var l=Ve;return l=Hn(n,n===tt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Sv(n,l,r),Fv(n,Qt()),n.callbackNode!=null&&n.callbackNode===a?Hv.bind(null,n):null)}function Gv(n,r){if(dh())return null;Sv(n,r,!0)}function nR(){mR(function(){(Ge&6)!==0?qs(Ot,tR):qv()})}function Pm(){if(cs===0){var n=eo;n===0&&(n=Hs,Hs<<=1,(Hs&261888)===0&&(Hs=256)),cs=n}return cs}function Kv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:bi(""+n)}function $v(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function iR(n,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var f=Kv((d[Xt]||null).action),_=l.submitter;_&&(r=(r=_[Xt]||null)?Kv(r.formAction):_.getAttribute("formAction"),r!==null&&(f=r,_=null));var w=new Xs("action","action",null,l,d);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cs!==0){var N=_?$v(d,_):new FormData(d);Zf(a,{pending:!0,data:N,method:d.method,action:f},null,N)}}else typeof f=="function"&&(w.preventDefault(),N=_?$v(d,_):new FormData(d),Zf(a,{pending:!0,data:N,method:d.method,action:f},f,N))},currentTarget:d}]})}}for(var Vm=0;Vm<gf.length;Vm++){var km=gf[Vm],rR=km.toLowerCase(),sR=km[0].toUpperCase()+km.slice(1);oi(rR,"on"+sR)}oi(Ay,"onAnimationEnd"),oi(Sy,"onAnimationIteration"),oi(Ry,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(bS,"onTransitionRun"),oi(TS,"onTransitionStart"),oi(wS,"onTransitionCancel"),oi(Iy,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function Qv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],d=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var _=l.length-1;0<=_;_--){var w=l[_],N=w.instance,F=w.currentTarget;if(w=w.listener,N!==f&&d.isPropagationStopped())break e;f=w,d.currentTarget=F;try{f(d)}catch(W){Cc(W)}d.currentTarget=null,f=N}else for(_=0;_<l.length;_++){if(w=l[_],N=w.instance,F=w.currentTarget,w=w.listener,N!==f&&d.isPropagationStopped())break e;f=w,d.currentTarget=F;try{f(d)}catch(W){Cc(W)}d.currentTarget=null,f=N}}}}function Oe(n,r){var a=r[kr];a===void 0&&(a=r[kr]=new Set);var l=n+"__bubble";a.has(l)||(Yv(r,n,2,!1),a.add(l))}function Mm(n,r,a){var l=0;r&&(l|=4),Yv(a,n,l,r)}var ph="_reactListening"+Math.random().toString(36).slice(2);function Lm(n){if(!n[ph]){n[ph]=!0,Ma.forEach(function(a){a!=="selectionchange"&&(aR.has(a)||Mm(a,!1,n),Mm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[ph]||(r[ph]=!0,Mm("selectionchange",!1,r))}}function Yv(n,r,a,l){switch(A0(r)){case 2:var d=VR;break;case 8:d=kR;break;default:d=Jm}a=d.bind(null,r,a,n),d=void 0,!yl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(r,a,{capture:!0,passive:d}):n.addEventListener(r,a,!0):d!==void 0?n.addEventListener(r,a,{passive:d}):n.addEventListener(r,a,!1)}function Um(n,r,a,l,d){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===d)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;w!==null;){if(_=Gi(w),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=f=_;continue e}w=w.parentNode}}l=l.return}fc(function(){var F=f,W=Ba(a),te=[];e:{var H=xy.get(n);if(H!==void 0){var K=Xs,he=n;switch(n){case"keypress":if(Ys(a)===0)break e;case"keydown":case"keyup":K=Tc;break;case"focusin":he="focus",K=Gr;break;case"focusout":he="blur",K=Gr;break;case"beforeblur":case"afterblur":K=Gr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Ac;break;case Ay:case Sy:case Ry:K=Ha;break;case Iy:K=Ga;break;case"scroll":case"scrollend":K=mc;break;case"wheel":K=Rc;break;case"copy":case"cut":case"paste":K=_c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Tl;break;case"toggle":case"beforetoggle":K=$r}var ve=(r&4)!==0,Ze=!ve&&(n==="scroll"||n==="scrollend"),j=ve?H!==null?H+"Capture":null:H;ve=[];for(var k=F,B;k!==null;){var ee=k;if(B=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||B===null||j===null||(ee=_n(k,j),ee!=null&&ve.push(Xl(k,ee,B))),Ze)break;k=k.return}0<ve.length&&(H=new K(H,he,null,a,W),te.push({event:H,listeners:ve}))}}if((r&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",H&&a!==za&&(he=a.relatedTarget||a.fromElement)&&(Gi(he)||he[_i]))break e;if((K||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,K?(he=a.relatedTarget||a.toElement,K=F,he=he?Gi(he):null,he!==null&&(Ze=u(he),ve=he.tag,he!==Ze||ve!==5&&ve!==27&&ve!==6)&&(he=null)):(K=null,he=F),K!==he)){if(ve=pc,ee="onMouseLeave",j="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(ve=Tl,ee="onPointerLeave",j="onPointerEnter",k="pointer"),Ze=K==null?H:Ks(K),B=he==null?H:Ks(he),H=new ve(ee,k+"leave",K,a,W),H.target=Ze,H.relatedTarget=B,ee=null,Gi(W)===F&&(ve=new ve(j,k+"enter",he,a,W),ve.target=B,ve.relatedTarget=Ze,ee=ve),Ze=ee,K&&he)t:{for(ve=oR,j=K,k=he,B=0,ee=j;ee;ee=ve(ee))B++;ee=0;for(var _e=k;_e;_e=ve(_e))ee++;for(;0<B-ee;)j=ve(j),B--;for(;0<ee-B;)k=ve(k),ee--;for(;B--;){if(j===k||k!==null&&j===k.alternate){ve=j;break t}j=ve(j),k=ve(k)}ve=null}else ve=null;K!==null&&Xv(te,H,K,ve,!1),he!==null&&Ze!==null&&Xv(te,Ze,he,ve,!0)}}e:{if(H=F?Ks(F):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var Fe=fy;else if(vn(H))if(my)Fe=_S;else{Fe=gS;var fe=pS}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&pl(F.elementType)&&(Fe=fy):Fe=yS;if(Fe&&(Fe=Fe(n,F))){ea(te,Fe,a,W);break e}fe&&fe(n,H,F),n==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&ja(H,"number",H.value)}switch(fe=F?Ks(F):window,n){case"focusin":(vn(fe)||fe.contentEditable==="true")&&(Ka=fe,ff=F,Sl=null);break;case"focusout":Sl=ff=Ka=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,Ty(te,a,W);break;case"selectionchange":if(ES)break;case"keydown":case"keyup":Ty(te,a,W)}var Ie;if(y)e:{switch(n){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Ce?$e(n,a)&&(ke="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(z&&a.locale!=="ko"&&(Ce||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Ce&&(Ie=Br()):(Dn=W,qa="value"in Dn?Dn.value:Dn.textContent,Ce=!0)),fe=gh(F,ke),0<fe.length&&(ke=new vl(ke,n,null,a,W),te.push({event:ke,listeners:fe}),Ie?ke.data=Ie:(Ie=bt(a),Ie!==null&&(ke.data=Ie)))),(Ie=S?zt(n,a):Bt(n,a))&&(ke=gh(F,"onBeforeInput"),0<ke.length&&(fe=new vl("onBeforeInput","beforeinput",null,a,W),te.push({event:fe,listeners:ke}),fe.data=Ie)),iR(te,n,F,a,W)}Qv(te,r)})}function Xl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function gh(n,r){for(var a=r+"Capture",l=[];n!==null;){var d=n,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=_n(n,a),d!=null&&l.unshift(Xl(n,d,f)),d=_n(n,r),d!=null&&l.push(Xl(n,d,f))),n.tag===3)return l;n=n.return}return[]}function oR(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Xv(n,r,a,l,d){for(var f=r._reactName,_=[];a!==null&&a!==l;){var w=a,N=w.alternate,F=w.stateNode;if(w=w.tag,N!==null&&N===l)break;w!==5&&w!==26&&w!==27||F===null||(N=F,d?(F=_n(a,f),F!=null&&_.unshift(Xl(a,F,N))):d||(F=_n(a,f),F!=null&&_.push(Xl(a,F,N)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var lR=/\r\n?/g,uR=/\u0000|\uFFFD/g;function Wv(n){return(typeof n=="string"?n:""+n).replace(lR,`
`).replace(uR,"")}function Jv(n,r){return r=Wv(r),Wv(n)===r}function Je(n,r,a,l,d,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Kn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Kn(n,""+l);break;case"className":Ur(n,"class",l);break;case"tabIndex":Ur(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ur(n,a,l);break;case"style":hc(n,l,f);break;case"data":if(r!=="object"){Ur(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=bi(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&Je(n,r,"name",d.name,d,null),Je(n,r,"formEncType",d.formEncType,d,null),Je(n,r,"formMethod",d.formMethod,d,null),Je(n,r,"formTarget",d.formTarget,d,null)):(Je(n,r,"encType",d.encType,d,null),Je(n,r,"method",d.method,d,null),Je(n,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=bi(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=jt);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=bi(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),Lr(n,"popover",l);break;case"xlinkActuate":Gn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Lr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=of.get(a)||a,Lr(n,a,l))}}function jm(n,r,a,l,d,f){switch(a){case"style":hc(n,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Kn(n,l):(typeof l=="number"||typeof l=="bigint")&&Kn(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=jt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),f=n[Xt]||null,f=f!=null?f[a]:null,typeof f=="function"&&n.removeEventListener(r,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,d);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Lr(n,a,l)}}}function en(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(n,r,f,_,a,null)}}d&&Je(n,r,"srcSet",a.srcSet,a,null),l&&Je(n,r,"src",a.src,a,null);return;case"input":Oe("invalid",n);var w=f=_=d=null,N=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":d=W;break;case"type":_=W;break;case"checked":N=W;break;case"defaultChecked":F=W;break;case"value":f=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Je(n,r,l,W,a,null)}}$s(n,f,w,N,F,_,d,!1);return;case"select":Oe("invalid",n),l=_=f=null;for(d in a)if(a.hasOwnProperty(d)&&(w=a[d],w!=null))switch(d){case"value":f=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:Je(n,r,d,w,a,null)}r=f,a=_,n.multiple=!!l,r!=null?qe(n,!!l,r,!1):a!=null&&qe(n,!!l,a,!0);return;case"textarea":Oe("invalid",n),f=d=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":d=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Je(n,r,_,w,a,null)}zr(n,l,d,f);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(n,r,N,l,a,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<Yl.length;l++)Oe(Yl[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(n,r,F,l,a,null)}return;default:if(pl(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&jm(n,r,W,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Je(n,r,w,l,a,null))}function cR(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,_=null,w=null,N=null,F=null,W=null;for(K in a){var te=a[K];if(a.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty(K)||Je(n,r,K,null,l,te)}}for(var H in l){var K=l[H];if(te=a[H],l.hasOwnProperty(H)&&(K!=null||te!=null))switch(H){case"type":f=K;break;case"name":d=K;break;case"checked":F=K;break;case"defaultChecked":W=K;break;case"value":_=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==te&&Je(n,r,H,K,l,te)}}jr(n,_,w,N,F,W,f,d);return;case"select":K=_=w=H=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(f)||Je(n,r,f,null,l,N)}for(d in l)if(f=l[d],N=a[d],l.hasOwnProperty(d)&&(f!=null||N!=null))switch(d){case"value":H=f;break;case"defaultValue":w=f;break;case"multiple":_=f;default:f!==N&&Je(n,r,d,f,l,N)}r=w,a=_,l=K,H!=null?qe(n,!!a,H,!1):!!l!=!!a&&(r!=null?qe(n,!!a,r,!0):qe(n,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(w in a)if(d=a[w],a.hasOwnProperty(w)&&d!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Je(n,r,w,null,l,d)}for(_ in l)if(d=l[_],f=a[_],l.hasOwnProperty(_)&&(d!=null||f!=null))switch(_){case"value":H=d;break;case"defaultValue":K=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&Je(n,r,_,d,l,f)}Qs(n,H,K);return;case"option":for(var he in a)if(H=a[he],a.hasOwnProperty(he)&&H!=null&&!l.hasOwnProperty(he))switch(he){case"selected":n.selected=!1;break;default:Je(n,r,he,null,l,H)}for(N in l)if(H=l[N],K=a[N],l.hasOwnProperty(N)&&H!==K&&(H!=null||K!=null))switch(N){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Je(n,r,N,H,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)H=a[ve],a.hasOwnProperty(ve)&&H!=null&&!l.hasOwnProperty(ve)&&Je(n,r,ve,null,l,H);for(F in l)if(H=l[F],K=a[F],l.hasOwnProperty(F)&&H!==K&&(H!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:Je(n,r,F,H,l,K)}return;default:if(pl(r)){for(var Ze in a)H=a[Ze],a.hasOwnProperty(Ze)&&H!==void 0&&!l.hasOwnProperty(Ze)&&jm(n,r,Ze,void 0,l,H);for(W in l)H=l[W],K=a[W],!l.hasOwnProperty(W)||H===K||H===void 0&&K===void 0||jm(n,r,W,H,l,K);return}}for(var j in a)H=a[j],a.hasOwnProperty(j)&&H!=null&&!l.hasOwnProperty(j)&&Je(n,r,j,null,l,H);for(te in l)H=l[te],K=a[te],!l.hasOwnProperty(te)||H===K||H==null&&K==null||Je(n,r,te,H,l,K)}function Zv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hR(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,_=d.initiatorType,w=d.duration;if(f&&w&&Zv(_)){for(_=0,w=d.responseEnd,l+=1;l<a.length;l++){var N=a[l],F=N.startTime;if(F>w)break;var W=N.transferSize,te=N.initiatorType;W&&Zv(te)&&(N=N.responseEnd,_+=W*(N<w?1:(w-F)/(N-F)))}if(--l,r+=8*(f+_)/(d.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var zm=null,Bm=null;function yh(n){return n.nodeType===9?n:n.ownerDocument}function e0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function qm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fm=null;function dR(){var n=window.event;return n&&n.type==="popstate"?n===Fm?!1:(Fm=n,!0):(Fm=null,!1)}var n0=typeof setTimeout=="function"?setTimeout:void 0,fR=typeof clearTimeout=="function"?clearTimeout:void 0,i0=typeof Promise=="function"?Promise:void 0,mR=typeof queueMicrotask=="function"?queueMicrotask:typeof i0<"u"?function(n){return i0.resolve(null).then(n).catch(pR)}:n0;function pR(n){setTimeout(function(){throw n})}function hs(n){return n==="head"}function r0(n,r){var a=r,l=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(d),Eo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Wl(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Wl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,w=f.nodeName;f[Hi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Wl(n.ownerDocument.body);a=d}while(a);Eo(r)}function s0(n,r){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Hm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hm(a),Gs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function gR(n,r,a,l){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Hi])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(f=n.getAttribute("rel"),f==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(f!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(f=n.getAttribute("src"),(f!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===f)return n}else return n;if(n=Zn(n.nextSibling),n===null)break}return null}function yR(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Zn(n.nextSibling),n===null))return null;return n}function a0(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Zn(n.nextSibling),n===null))return null;return n}function Gm(n){return n.data==="$?"||n.data==="$~"}function Km(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function _R(n,r){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Zn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var $m=null;function o0(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(r===0)return Zn(n.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}n=n.nextSibling}return null}function l0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return n;r--}else a!=="/$"&&a!=="/&"||r++}n=n.previousSibling}return null}function u0(n,r,a){switch(r=yh(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Wl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Gs(n)}var ei=new Map,c0=new Set;function _h(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var dr=le.d;le.d={f:vR,r:ER,D:bR,C:TR,L:wR,m:AR,X:RR,S:SR,M:IR};function vR(){var n=dr.f(),r=uh();return n||r}function ER(n){var r=Ki(n);r!==null&&r.tag===5&&r.type==="form"?I_(r):dr.r(n)}var yo=typeof document>"u"?null:document;function h0(n,r,a){var l=yo;if(l&&typeof r=="string"&&r){var d=mt(r);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),c0.has(d)||(c0.add(d),n={rel:n,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),en(r,"link",n),yt(r),l.head.appendChild(r)))}}function bR(n){dr.D(n),h0("dns-prefetch",n,null)}function TR(n,r){dr.C(n,r),h0("preconnect",n,r)}function wR(n,r,a){dr.L(n,r,a);var l=yo;if(l&&n&&r){var d='link[rel="preload"][as="'+mt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+mt(a.imageSizes)+'"]')):d+='[href="'+mt(n)+'"]';var f=d;switch(r){case"style":f=_o(n);break;case"script":f=vo(n)}ei.has(f)||(n=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),ei.set(f,n),l.querySelector(d)!==null||r==="style"&&l.querySelector(Jl(f))||r==="script"&&l.querySelector(Zl(f))||(r=l.createElement("link"),en(r,"link",n),yt(r),l.head.appendChild(r)))}}function AR(n,r){dr.m(n,r);var a=yo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+mt(l)+'"][href="'+mt(n)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=vo(n)}if(!ei.has(f)&&(n=T({rel:"modulepreload",href:n},r),ei.set(f,n),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zl(f)))return}l=a.createElement("link"),en(l,"link",n),yt(l),a.head.appendChild(l)}}}function SR(n,r,a){dr.S(n,r,a);var l=yo;if(l&&n){var d=si(l).hoistableStyles,f=_o(n);r=r||"default";var _=d.get(f);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(Jl(f)))w.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":r},a),(a=ei.get(f))&&Qm(n,a);var N=_=l.createElement("link");yt(N),en(N,"link",n),N._p=new Promise(function(F,W){N.onload=F,N.onerror=W}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,vh(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:w},d.set(f,_)}}}function RR(n,r){dr.X(n,r);var a=yo;if(a&&n){var l=si(a).hoistableScripts,d=vo(n),f=l.get(d);f||(f=a.querySelector(Zl(d)),f||(n=T({src:n,async:!0},r),(r=ei.get(d))&&Ym(n,r),f=a.createElement("script"),yt(f),en(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function IR(n,r){dr.M(n,r);var a=yo;if(a&&n){var l=si(a).hoistableScripts,d=vo(n),f=l.get(d);f||(f=a.querySelector(Zl(d)),f||(n=T({src:n,async:!0,type:"module"},r),(r=ei.get(d))&&Ym(n,r),f=a.createElement("script"),yt(f),en(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function d0(n,r,a,l){var d=(d=xe.current)?_h(d):null;if(!d)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=_o(a.href),a=si(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=_o(a.href);var f=si(d).hoistableStyles,_=f.get(n);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(n,_),(f=d.querySelector(Jl(n)))&&!f._p&&(_.instance=f,_.state.loading=5),ei.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ei.set(n,a),f||xR(d,n,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=vo(a),a=si(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function _o(n){return'href="'+mt(n)+'"'}function Jl(n){return'link[rel="stylesheet"]['+n+"]"}function f0(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function xR(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),en(r,"link",a),yt(r),n.head.appendChild(r))}function vo(n){return'[src="'+mt(n)+'"]'}function Zl(n){return"script[async]"+n}function m0(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+mt(a.href)+'"]');if(l)return r.instance=l,yt(l),l;var d=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),yt(l),en(l,"style",d),vh(l,a.precedence,n),r.instance=l;case"stylesheet":d=_o(a.href);var f=n.querySelector(Jl(d));if(f)return r.state.loading|=4,r.instance=f,yt(f),f;l=f0(a),(d=ei.get(d))&&Qm(l,d),f=(n.ownerDocument||n).createElement("link"),yt(f);var _=f;return _._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),en(f,"link",l),r.state.loading|=4,vh(f,a.precedence,n),r.instance=f;case"script":return f=vo(a.src),(d=n.querySelector(Zl(f)))?(r.instance=d,yt(d),d):(l=a,(d=ei.get(f))&&(l=T({},a),Ym(l,d)),n=n.ownerDocument||n,d=n.createElement("script"),yt(d),en(d,"link",l),n.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,vh(l,a.precedence,n));return r.instance}function vh(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===r)f=w;else if(f!==d)break}f?f.parentNode.insertBefore(n,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Qm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Ym(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Eh=null;function p0(n,r,a){if(Eh===null){var l=new Map,d=Eh=new Map;d.set(a,l)}else d=Eh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var f=a[d];if(!(f[Hi]||f[ft]||n==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(r)||"";_=n+_;var w=l.get(_);w?w.push(f):l.set(_,[f])}}return l}function g0(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function CR(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function y0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function NR(n,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=_o(l.href),f=r.querySelector(Jl(d));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=bh.bind(n),r.then(n,n)),a.state.loading|=4,a.instance=f,yt(f);return}f=r.ownerDocument||r,l=f0(l),(d=ei.get(d))&&Qm(l,d),f=f.createElement("link"),yt(f);var _=f;_._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),en(f,"link",l),a.instance=f}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=bh.bind(n),r.addEventListener("load",a),r.addEventListener("error",a))}}var Xm=0;function DR(n,r){return n.stylesheets&&n.count===0&&wh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&wh(n,n.stylesheets),n.unsuspend){var f=n.unsuspend;n.unsuspend=null,f()}},6e4+r);0<n.imgBytes&&Xm===0&&(Xm=62500*hR());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&wh(n,n.stylesheets),n.unsuspend)){var f=n.unsuspend;n.unsuspend=null,f()}},(n.imgBytes>Xm?50:800)+r);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function bh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Th=null;function wh(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Th=new Map,r.forEach(OR,n),Th=null,bh.call(n))}function OR(n,r){if(!(r.state.loading&4)){var a=Th.get(n);if(a)var l=a.get(null);else{a=new Map,Th.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var _=d[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}d=r.instance,_=d.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,d),a.set(_,d),this.count++,l=bh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),r.state.loading|=4}}var eu={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function PR(n,r,a,l,d,f,_,w,N){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qi(0),this.hiddenUpdates=qi(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function _0(n,r,a,l,d,f,_,w,N,F,W,te){return n=new PR(n,r,a,_,N,F,W,te,w),r=1,f===!0&&(r|=24),f=Pn(3,null,null,r),n.current=f,f.stateNode=n,r=Cf(),r.refCount++,n.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},Pf(f),n}function v0(n){return n?(n=Ya,n):Ya}function E0(n,r,a,l,d,f){d=v0(d),l.context===null?l.context=d:l.pendingContext=d,l=es(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ts(n,l,r),a!==null&&(An(a,n,r),Ol(a,n,r))}function b0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Wm(n,r){b0(n,r),(n=n.alternate)&&b0(n,r)}function T0(n){if(n.tag===13||n.tag===31){var r=ia(n,67108864);r!==null&&An(r,n,67108864),Wm(n,67108864)}}function w0(n){if(n.tag===13||n.tag===31){var r=Un();r=ll(r);var a=ia(n,r);a!==null&&An(a,n,r),Wm(n,r)}}var Ah=!0;function VR(n,r,a,l){var d=X.T;X.T=null;var f=le.p;try{le.p=2,Jm(n,r,a,l)}finally{le.p=f,X.T=d}}function kR(n,r,a,l){var d=X.T;X.T=null;var f=le.p;try{le.p=8,Jm(n,r,a,l)}finally{le.p=f,X.T=d}}function Jm(n,r,a,l){if(Ah){var d=Zm(l);if(d===null)Um(n,r,l,Sh,a),S0(n,l);else if(LR(d,n,r,a,l))l.stopPropagation();else if(S0(n,l),r&4&&-1<MR.indexOf(n)){for(;d!==null;){var f=Ki(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ri(f.pendingLanes);if(_!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var N=1<<31-cn(_);w.entanglements[1]|=N,_&=~N}Ii(f),(Ge&6)===0&&(oh=Qt()+500,Ql(0))}}break;case 31:case 13:w=ia(f,2),w!==null&&An(w,f,2),uh(),Wm(f,2)}if(f=Zm(l),f===null&&Um(n,r,l,Sh,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else Um(n,r,l,null,a)}}function Zm(n){return n=Ba(n),ep(n)}var Sh=null;function ep(n){if(Sh=null,n=Gi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=c(r),n!==null)return n;n=null}else if(a===31){if(n=m(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Sh=n,null}function A0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rc()){case Ot:return 2;case Ut:return 8;case Bi:case sc:return 32;case rl:return 268435456;default:return 32}default:return 32}}var tp=!1,ds=null,fs=null,ms=null,tu=new Map,nu=new Map,ps=[],MR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S0(n,r){switch(n){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":tu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(r.pointerId)}}function iu(n,r,a,l,d,f){return n===null||n.nativeEvent!==f?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},r!==null&&(r=Ki(r),r!==null&&T0(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function LR(n,r,a,l,d){switch(r){case"focusin":return ds=iu(ds,n,r,a,l,d),!0;case"dragenter":return fs=iu(fs,n,r,a,l,d),!0;case"mouseover":return ms=iu(ms,n,r,a,l,d),!0;case"pointerover":var f=d.pointerId;return tu.set(f,iu(tu.get(f)||null,n,r,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,nu.set(f,iu(nu.get(f)||null,n,r,a,l,d)),!0}return!1}function R0(n){var r=Gi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){n.blockedOn=r,oc(n.priority,function(){w0(a)});return}}else if(r===31){if(r=m(a),r!==null){n.blockedOn=r,oc(n.priority,function(){w0(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Rh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Zm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);za=l,a.target.dispatchEvent(l),za=null}else return r=Ki(a),r!==null&&T0(r),n.blockedOn=a,!1;r.shift()}return!0}function I0(n,r,a){Rh(n)&&a.delete(r)}function UR(){tp=!1,ds!==null&&Rh(ds)&&(ds=null),fs!==null&&Rh(fs)&&(fs=null),ms!==null&&Rh(ms)&&(ms=null),tu.forEach(I0),nu.forEach(I0)}function Ih(n,r){n.blockedOn===r&&(n.blockedOn=null,tp||(tp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,UR)))}var xh=null;function x0(n){xh!==n&&(xh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){xh===n&&(xh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],d=n[r+2];if(typeof l!="function"){if(ep(l||a)===null)continue;break}var f=Ki(a);f!==null&&(n.splice(r,3),r-=3,Zf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Eo(n){function r(N){return Ih(N,n)}ds!==null&&Ih(ds,n),fs!==null&&Ih(fs,n),ms!==null&&Ih(ms,n),tu.forEach(r),nu.forEach(r);for(var a=0;a<ps.length;a++){var l=ps[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ps.length&&(a=ps[0],a.blockedOn===null);)R0(a),a.blockedOn===null&&ps.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],_=d[Xt]||null;if(typeof f=="function")_||x0(a);else if(_){var w=null;if(f&&f.hasAttribute("formAction")){if(d=f,_=f[Xt]||null)w=_.formAction;else if(ep(d)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),x0(a)}}}function C0(){function n(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function np(n){this._internalRoot=n}Ch.prototype.render=np.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Un();E0(a,l,n,r,null,null)},Ch.prototype.unmount=np.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;E0(n.current,2,null,n,null,null),uh(),r[_i]=null}};function Ch(n){this._internalRoot=n}Ch.prototype.unstable_scheduleHydration=function(n){if(n){var r=Fi();n={blockedOn:null,target:n,priority:r};for(var a=0;a<ps.length&&r!==0&&r<ps[a].priority;a++);ps.splice(a,0,n),a===0&&R0(n)}};var N0=e.version;if(N0!=="19.2.0")throw Error(s(527,N0,"19.2.0"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var jR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{Cr=Nh.inject(jR),nn=Nh}catch{}}return su.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",d=L_,f=U_,_=j_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=_0(n,1,!1,null,null,a,l,null,d,f,_,C0),n[_i]=r.current,Lm(n),new np(r)},su.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,d="",f=L_,_=U_,w=j_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=_0(n,1,!0,r,a??null,l,d,N,f,_,w,C0),r.context=v0(null),a=r.current,l=Un(),l=ll(l),d=es(l),d.callback=null,ts(a,d,l),a=l,r.current.lanes=a,Or(r,a),Ii(r),n[_i]=r.current,Lm(n),new Ch(r)},su.version="19.2.0",su}var z0;function YR(){if(z0)return sp.exports;z0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),sp.exports=QR(),sp.exports}var XR=YR();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var B0="popstate";function WR(i={}){function e(o,u){let{pathname:c="/",search:m="",hash:p=""}=Sa(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),xp("",{pathname:c,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let c=o.document.querySelector("base"),m="";if(c&&c.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Au(u))}function s(o,u){fi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return ZR(e,t,s,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function fi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JR(){return Math.random().toString(36).substring(2,10)}function q0(i,e){return{usr:i.state,key:i.key,idx:e}}function xp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Sa(e):e,state:t,key:e&&e.key||s||JR()}}function Au({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Sa(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function ZR(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,m="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function T(){m="POP";let L=v(),Y=L==null?null:L-g;g=L,p&&p({action:m,location:q.location,delta:Y})}function A(L,Y){m="PUSH";let ne=xp(q.location,L,Y);t&&t(ne,L),g=v()+1;let ie=q0(ne,g),me=q.createHref(ne);try{c.pushState(ie,"",me)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(me)}u&&p&&p({action:m,location:q.location,delta:1})}function C(L,Y){m="REPLACE";let ne=xp(q.location,L,Y);t&&t(ne,L),g=v();let ie=q0(ne,g),me=q.createHref(ne);c.replaceState(ie,"",me),u&&p&&p({action:m,location:q.location,delta:0})}function O(L){return e1(L)}let q={get action(){return m},get location(){return i(o,c)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(B0,T),p=L,()=>{o.removeEventListener(B0,T),p=null}},createHref(L){return e(o,L)},createURL:O,encodeLocation(L){let Y=O(L);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:A,replace:C,go(L){return c.go(L)}};return q}function e1(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ht(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Au(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Ob(i,e,t="/"){return t1(i,e,t,!1)}function t1(i,e,t,s){let o=typeof e=="string"?Sa(e):e,u=br(o.pathname||"/",t);if(u==null)return null;let c=Pb(i);n1(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=f1(u);m=h1(c[p],g,s)}return m}function Pb(i,e=[],t=[],s="",o=!1){let u=(c,m,p=o,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;ht(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=vr([s,v.relativePath]),A=t.concat(v);c.children&&c.children.length>0&&(ht(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Pb(c.children,e,A,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:u1(T,c.index),routesMeta:A})};return i.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))u(c,m);else for(let p of Vb(c.path))u(c,m,!0,p)}),e}function Vb(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=Vb(s.join("/")),m=[];return m.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...c),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function n1(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:c1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var i1=/^:[\w-]+$/,r1=3,s1=2,a1=1,o1=10,l1=-2,F0=i=>i==="*";function u1(i,e){let t=i.split("/"),s=t.length;return t.some(F0)&&(s+=l1),e&&(s+=s1),t.filter(o=>!F0(o)).reduce((o,u)=>o+(i1.test(u)?r1:u===""?a1:o1),s)}function c1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function h1(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",c=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=Wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),A=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=Wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:vr([u,T.pathname]),pathnameBase:y1(vr([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=vr([u,T.pathnameBase]))}return c}function Wh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=d1(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},A)=>{if(v==="*"){let O=m[A]||"";c=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const C=m[A];return T&&!C?g[v]=void 0:g[v]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:i}}function d1(i,e=!1,t=!0){fi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function f1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function br(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function m1(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?Sa(i):i;return{pathname:t?t.startsWith("/")?t:p1(t,e):e,search:_1(s),hash:v1(o)}}function p1(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function up(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function g1(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function kb(i){let e=g1(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Mb(i,e,t,s=!1){let o;typeof i=="string"?o=Sa(i):(o={...i},ht(!o.pathname||!o.pathname.includes("?"),up("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),up("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),up("#","search","hash",o)));let u=i===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=t;else{let T=e.length-1;if(!s&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=m1(o,m),g=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var vr=i=>i.join("/").replace(/\/\/+/g,"/"),y1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),_1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,v1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function E1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Lb=["POST","PUT","PATCH","DELETE"];new Set(Lb);var b1=["GET",...Lb];new Set(b1);var qo=G.createContext(null);qo.displayName="DataRouter";var vd=G.createContext(null);vd.displayName="DataRouterState";G.createContext(!1);var Ub=G.createContext({isTransitioning:!1});Ub.displayName="ViewTransition";var T1=G.createContext(new Map);T1.displayName="Fetchers";var w1=G.createContext(null);w1.displayName="Await";var Ui=G.createContext(null);Ui.displayName="Navigation";var Mu=G.createContext(null);Mu.displayName="Location";var Sr=G.createContext({outlet:null,matches:[],isDataRoute:!1});Sr.displayName="Route";var sg=G.createContext(null);sg.displayName="RouteError";function A1(i,{relative:e}={}){ht(Lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=G.useContext(Ui),{hash:o,pathname:u,search:c}=Uu(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:vr([t,u])),s.createHref({pathname:m,search:c,hash:o})}function Lu(){return G.useContext(Mu)!=null}function Ra(){return ht(Lu(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Mu).location}var jb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zb(i){G.useContext(Ui).static||G.useLayoutEffect(i)}function Bb(){let{isDataRoute:i}=G.useContext(Sr);return i?L1():S1()}function S1(){ht(Lu(),"useNavigate() may be used only in the context of a <Router> component.");let i=G.useContext(qo),{basename:e,navigator:t}=G.useContext(Ui),{matches:s}=G.useContext(Sr),{pathname:o}=Ra(),u=JSON.stringify(kb(s)),c=G.useRef(!1);return zb(()=>{c.current=!0}),G.useCallback((p,g={})=>{if(fi(c.current,jb),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=Mb(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:vr([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,o,i])}G.createContext(null);function Uu(i,{relative:e}={}){let{matches:t}=G.useContext(Sr),{pathname:s}=Ra(),o=JSON.stringify(kb(t));return G.useMemo(()=>Mb(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function R1(i,e){return qb(i,e)}function qb(i,e,t,s,o){ht(Lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=G.useContext(Ui),{matches:c}=G.useContext(Sr),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let ne=T&&T.path||"";Fb(g,!T||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let A=Ra(),C;if(e){let ne=typeof e=="string"?Sa(e):e;ht(v==="/"||ne.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),C=ne}else C=A;let O=C.pathname||"/",q=O;if(v!=="/"){let ne=v.replace(/^\//,"").split("/");q="/"+O.replace(/^\//,"").split("/").slice(ne.length).join("/")}let L=Ob(i,{pathname:q});fi(T||L!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),fi(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=D1(L&&L.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:vr([v,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?v:vr([v,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),c,t,s,o);return e&&Y?G.createElement(Mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},Y):Y}function I1(){let i=M1(),e=E1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:o},t):null,c)}var x1=G.createElement(I1,null),C1=class extends G.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?G.createElement(Sr.Provider,{value:this.props.routeContext},G.createElement(sg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function N1({routeContext:i,match:e,children:t}){let s=G.useContext(qo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Sr.Provider,{value:i},t)}function D1(i,e=[],t=null,s=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let u=i,c=t?.errors;if(c!=null){let g=u.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);ht(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(t)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:T,errors:A}=t,C=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||C){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,v,T)=>{let A,C=!1,O=null,q=null;t&&(A=c&&v.route.id?c[v.route.id]:void 0,O=v.route.errorElement||x1,m&&(p<0&&T===0?(Fb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,q=null):p===T&&(C=!0,q=v.route.hydrateFallbackElement||null)));let L=e.concat(u.slice(0,T+1)),Y=()=>{let ne;return A?ne=O:C?ne=q:v.route.Component?ne=G.createElement(v.route.Component,null):v.route.element?ne=v.route.element:ne=g,G.createElement(N1,{match:v,routeContext:{outlet:g,matches:L,isDataRoute:t!=null},children:ne})};return t&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?G.createElement(C1,{location:t.location,revalidation:t.revalidation,component:O,error:A,children:Y(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:s}):Y()},null)}function ag(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O1(i){let e=G.useContext(qo);return ht(e,ag(i)),e}function P1(i){let e=G.useContext(vd);return ht(e,ag(i)),e}function V1(i){let e=G.useContext(Sr);return ht(e,ag(i)),e}function og(i){let e=V1(i),t=e.matches[e.matches.length-1];return ht(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function k1(){return og("useRouteId")}function M1(){let i=G.useContext(sg),e=P1("useRouteError"),t=og("useRouteError");return i!==void 0?i:e.errors?.[t]}function L1(){let{router:i}=O1("useNavigate"),e=og("useNavigate"),t=G.useRef(!1);return zb(()=>{t.current=!0}),G.useCallback(async(o,u={})=>{fi(t.current,jb),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var H0={};function Fb(i,e,t){!e&&!H0[i]&&(H0[i]=!0,fi(!1,t))}G.memo(U1);function U1({routes:i,future:e,state:t,unstable_onError:s}){return qb(i,void 0,t,s,e)}function Cp(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function j1({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ht(!Lu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof t=="string"&&(t=Sa(t));let{pathname:p="/",search:g="",hash:v="",state:T=null,key:A="default"}=t,C=G.useMemo(()=>{let O=br(p,c);return O==null?null:{location:{pathname:O,search:g,hash:v,state:T,key:A},navigationType:s}},[c,p,g,v,T,A,s]);return fi(C!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:G.createElement(Ui.Provider,{value:m},G.createElement(Mu.Provider,{children:e,value:C}))}function z1({children:i,location:e}){return R1(Np(i),e)}function Np(i,e=[]){let t=[];return G.Children.forEach(i,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){t.push.apply(t,Np(s.props.children,u));return}ht(s.type===Cp,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Np(s.props.children,u)),t.push(c)}),t}var zh="get",Bh="application/x-www-form-urlencoded";function Ed(i){return i!=null&&typeof i.tagName=="string"}function B1(i){return Ed(i)&&i.tagName.toLowerCase()==="button"}function q1(i){return Ed(i)&&i.tagName.toLowerCase()==="form"}function F1(i){return Ed(i)&&i.tagName.toLowerCase()==="input"}function H1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function G1(i,e){return i.button===0&&(!e||e==="_self")&&!H1(i)}var Dh=null;function K1(){if(Dh===null)try{new FormData(document.createElement("form"),0),Dh=!1}catch{Dh=!0}return Dh}var $1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cp(i){return i!=null&&!$1.has(i)?(fi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bh}"`),null):i}function Q1(i,e){let t,s,o,u,c;if(q1(i)){let m=i.getAttribute("action");s=m?br(m,e):null,t=i.getAttribute("method")||zh,o=cp(i.getAttribute("enctype"))||Bh,u=new FormData(i)}else if(B1(i)||F1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?br(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||zh,o=cp(i.getAttribute("formenctype"))||cp(m.getAttribute("enctype"))||Bh,u=new FormData(m,i),!K1()){let{name:g,type:v,value:T}=i;if(v==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(Ed(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=zh,s=null,o=Bh,c=i}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Y1(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&br(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function X1(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function W1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function J1(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await X1(u,t);return c.links?c.links():[]}return[]}));return nI(s.flat(1).filter(W1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function G0(i,e,t,s,o,u){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Z1(i,e,{includeHydrateFallback:t}={}){return eI(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function eI(i){return[...new Set(i)]}function tI(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function nI(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(tI(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function Hb(){let i=G.useContext(qo);return lg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function iI(){let i=G.useContext(vd);return lg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var ug=G.createContext(void 0);ug.displayName="FrameworkContext";function Gb(){let i=G.useContext(ug);return lg(i,"You must render this element inside a <HydratedRouter> element"),i}function rI(i,e){let t=G.useContext(ug),[s,o]=G.useState(!1),[u,c]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,A=G.useRef(null);G.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let q=Y=>{Y.forEach(ne=>{c(ne.isIntersecting)})},L=new IntersectionObserver(q,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[i]),G.useEffect(()=>{if(s){let q=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(q)}}},[s]);let C=()=>{o(!0)},O=()=>{o(!1),c(!1)};return t?i!=="intent"?[u,A,{}]:[u,A,{onFocus:au(m,C),onBlur:au(p,O),onMouseEnter:au(g,C),onMouseLeave:au(v,O),onTouchStart:au(T,C)}]:[!1,A,{}]}function au(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function sI({page:i,...e}){let{router:t}=Hb(),s=G.useMemo(()=>Ob(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?G.createElement(oI,{page:i,matches:s,...e}):null}function aI(i){let{manifest:e,routeModules:t}=Gb(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return J1(i,e,t).then(c=>{u||o(c)}),()=>{u=!0}},[i,e,t]),s}function oI({page:i,matches:e,...t}){let s=Ra(),{manifest:o,routeModules:u}=Gb(),{basename:c}=Hb(),{loaderData:m,matches:p}=iI(),g=G.useMemo(()=>G0(i,e,p,o,s,"data"),[i,e,p,o,s]),v=G.useMemo(()=>G0(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=G.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,q=!1;if(e.forEach(Y=>{let ne=o.routes[Y.route.id];!ne||!ne.hasLoader||(!g.some(ie=>ie.route.id===Y.route.id)&&Y.route.id in m&&u[Y.route.id]?.shouldRevalidate||ne.hasClientLoader?q=!0:O.add(Y.route.id))}),O.size===0)return[];let L=Y1(i,c,"data");return q&&O.size>0&&L.searchParams.set("_routes",e.filter(Y=>O.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[L.pathname+L.search]},[c,m,s,o,g,e,i,u]),A=G.useMemo(()=>Z1(v,o),[v,o]),C=aI(v);return G.createElement(G.Fragment,null,T.map(O=>G.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),A.map(O=>G.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),C.map(({key:O,link:q})=>G.createElement("link",{key:O,nonce:t.nonce,...q})))}function lI(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Kb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kb&&(window.__reactRouterVersion="7.9.5")}catch{}function uI({basename:i,children:e,window:t}){let s=G.useRef();s.current==null&&(s.current=WR({window:t,v5Compat:!0}));let o=s.current,[u,c]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>c(p))},[c]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(j1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var $b=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qb=G.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,...A},C){let{basename:O}=G.useContext(Ui),q=typeof g=="string"&&$b.test(g),L,Y=!1;if(typeof g=="string"&&q&&(L=g,Kb))try{let I=new URL(window.location.href),P=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=br(P.pathname,O);P.origin===I.origin&&V!=null?g=V+P.search+P.hash:Y=!0}catch{fi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=A1(g,{relative:o}),[ie,me,re]=rI(s,A),pe=fI(g,{replace:c,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:T});function D(I){e&&e(I),I.defaultPrevented||pe(I)}let R=G.createElement("a",{...A,...re,href:L||ne,onClick:Y||u?e:D,ref:lI(C,me),target:p,"data-discover":!q&&t==="render"?"true":void 0});return ie&&!q?G.createElement(G.Fragment,null,R,G.createElement(sI,{page:ne})):R});Qb.displayName="Link";var cI=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:m,children:p,...g},v){let T=Uu(c,{relative:g.relative}),A=Ra(),C=G.useContext(vd),{navigator:O,basename:q}=G.useContext(Ui),L=C!=null&&_I(T)&&m===!0,Y=O.encodeLocation?O.encodeLocation(T).pathname:T.pathname,ne=A.pathname,ie=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,Y=Y.toLowerCase()),ie&&q&&(ie=br(ie,q)||ie);const me=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let re=ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(me)==="/",pe=ie!=null&&(ie===Y||!o&&ie.startsWith(Y)&&ie.charAt(Y.length)==="/"),D={isActive:re,isPending:pe,isTransitioning:L},R=re?e:void 0,I;typeof s=="function"?I=s(D):I=[s,re?"active":null,pe?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(D):u;return G.createElement(Qb,{...g,"aria-current":R,className:I,ref:v,style:P,to:c,viewTransition:m},typeof p=="function"?p(D):p)});cI.displayName="NavLink";var hI=G.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:c=zh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...A},C)=>{let O=gI(),q=yI(m,{relative:g}),L=c.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&$b.test(m),ne=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let me=ie.nativeEvent.submitter,re=me?.getAttribute("formmethod")||c;O(me||ie.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return G.createElement("form",{ref:C,method:L,action:q,onSubmit:s?p:ne,...A,"data-discover":!Y&&i==="render"?"true":void 0})});hI.displayName="Form";function dI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yb(i){let e=G.useContext(qo);return ht(e,dI(i)),e}function fI(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:c}={}){let m=Bb(),p=Ra(),g=Uu(i,{relative:u});return G.useCallback(v=>{if(G1(v,e)){v.preventDefault();let T=t!==void 0?t:Au(p)===Au(g);m(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:c})}},[p,m,g,t,s,e,i,o,u,c])}var mI=0,pI=()=>`__${String(++mI)}__`;function gI(){let{router:i}=Yb("useSubmit"),{basename:e}=G.useContext(Ui),t=k1();return G.useCallback(async(s,o={})=>{let{action:u,method:c,encType:m,formData:p,body:g}=Q1(s,e);if(o.navigate===!1){let v=o.fetcherKey||pI();await i.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function yI(i,{relative:e}={}){let{basename:t}=G.useContext(Ui),s=G.useContext(Sr);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Uu(i||".",{relative:e})},c=Ra();if(i==null){u.search=c.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:vr([t,u.pathname])),Au(u)}function _I(i,{relative:e}={}){let t=G.useContext(Ub);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Yb("useViewTransitionState"),o=Uu(i,{relative:e});if(!t.isTransitioning)return!1;let u=br(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=br(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Wh(o.pathname,c)!=null||Wh(o.pathname,u)!=null}const vI=()=>{};var K0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},EI=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],c=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],c=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Wb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,C=g&63;p||(C=64,c||(A=64)),s.push(t[v],t[T],t[A],t[C])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Xb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):EI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new bI;const A=u<<2|m>>4;if(s.push(A),g!==64){const C=m<<4&240|g>>2;if(s.push(C),T!==64){const O=g<<6&192|T;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class bI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TI=function(i){const e=Xb(i);return Wb.encodeByteArray(e,!0)},Jh=function(i){return TI(i).replace(/\./g,"")},Jb=function(i){try{return Wb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=()=>Zb().__FIREBASE_DEFAULTS__,AI=()=>{if(typeof process>"u"||typeof K0>"u")return;const i=K0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},SI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Jb(i[1]);return e&&JSON.parse(e)},bd=()=>{try{return vI()||wI()||AI()||SI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},eT=i=>{var e,t;return(t=(e=bd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},tT=i=>{const e=eT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},nT=()=>{var i;return(i=bd())===null||i===void 0?void 0:i.config},iT=i=>{var e;return(e=bd())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Td(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Jh(JSON.stringify(t)),Jh(JSON.stringify(c)),""].join(".")}const mu={};function xI(){const i={prod:[],emulator:[]};for(const e of Object.keys(mu))mu[e]?i.emulator.push(e):i.prod.push(e);return i}function CI(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let $0=!1;function cg(i,e){if(typeof window>"u"||typeof document>"u"||!Ms(window.location.host)||mu[i]===e||mu[i]||$0)return;mu[i]=e;function t(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=xI().prod.length>0;function c(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,C){A.setAttribute("width","24"),A.setAttribute("id",C),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{$0=!0,c()},A}function v(A,C){A.setAttribute("id",C),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=CI(s),C=t("text"),O=document.getElementById(C)||document.createElement("span"),q=t("learnmore"),L=document.getElementById(q)||document.createElement("a"),Y=t("preprendIcon"),ne=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ie=A.element;m(ie),v(L,q);const me=g();p(ne,Y),ie.append(ne,O,L,me),document.body.appendChild(ie)}u?(O.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function DI(){var i;const e=(i=bd())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function VI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kI(){const i=kt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function MI(){return!DI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rT(){try{return typeof indexedDB=="object"}catch{return!1}}function LI(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="FirebaseError";class ji extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=UI,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?jI(u,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new ji(o,m,s)}}function jI(i,e){return i.replace(zI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const zI=/\{\$([^}]+)}/g;function BI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function xs(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],c=e[o];if(Q0(u)&&Q0(c)){if(!xs(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Q0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function lu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function uu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function qI(i,e){const t=new FI(i,e);return t.subscribe.bind(t)}class FI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");HI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=hp),o.error===void 0&&(o.error=hp),o.complete===void 0&&(o.complete=hp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HI(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function hp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(i){return i&&i._delegate?i._delegate:i}class Cs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new RI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($I(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&c.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const c=this.instances.get(o);return c&&e(c,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KI(i){return i===ga?void 0:i}function $I(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new GI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const YI={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},XI=Me.INFO,WI={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},JI=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=WI[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hg{constructor(e){this.name=e,this._logLevel=XI,this._logHandler=JI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const ZI=(i,e)=>e.some(t=>i instanceof t);let Y0,X0;function ex(){return Y0||(Y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tx(){return X0||(X0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sT=new WeakMap,Dp=new WeakMap,aT=new WeakMap,dp=new WeakMap,dg=new WeakMap;function nx(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{t(Ts(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&sT.set(t,i)}).catch(()=>{}),dg.set(e,i),e}function ix(i){if(Dp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{t(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});Dp.set(i,e)}let Op={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Dp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||aT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ts(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function rx(i){Op=i(Op)}function sx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(fp(this),e,...t);return aT.set(s,e.sort?e.sort():[e]),Ts(s)}:tx().includes(i)?function(...e){return i.apply(fp(this),e),Ts(sT.get(this))}:function(...e){return Ts(i.apply(fp(this),e))}}function ax(i){return typeof i=="function"?sx(i):(i instanceof IDBTransaction&&ix(i),ZI(i,ex())?new Proxy(i,Op):i)}function Ts(i){if(i instanceof IDBRequest)return nx(i);if(dp.has(i))return dp.get(i);const e=ax(i);return e!==i&&(dp.set(i,e),dg.set(e,i)),e}const fp=i=>dg.get(i);function ox(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(i,e),m=Ts(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Ts(c.result),p.oldVersion,p.newVersion,Ts(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const lx=["get","getKey","getAll","getAllKeys","count"],ux=["put","add","delete","clear"],mp=new Map;function W0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(mp.get(e))return mp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=ux.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||lx.includes(t)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return mp.set(e,u),u}rx(i=>({...i,get:(e,t,s)=>W0(e,t)||i.get(e,t,s),has:(e,t)=>!!W0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hx(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function hx(i){const e=i.getComponent();return e?.type==="VERSION"}const Pp="@firebase/app",J0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new hg("@firebase/app"),dx="@firebase/app-compat",fx="@firebase/analytics-compat",mx="@firebase/analytics",px="@firebase/app-check-compat",gx="@firebase/app-check",yx="@firebase/auth",_x="@firebase/auth-compat",vx="@firebase/database",Ex="@firebase/data-connect",bx="@firebase/database-compat",Tx="@firebase/functions",wx="@firebase/functions-compat",Ax="@firebase/installations",Sx="@firebase/installations-compat",Rx="@firebase/messaging",Ix="@firebase/messaging-compat",xx="@firebase/performance",Cx="@firebase/performance-compat",Nx="@firebase/remote-config",Dx="@firebase/remote-config-compat",Ox="@firebase/storage",Px="@firebase/storage-compat",Vx="@firebase/firestore",kx="@firebase/ai",Mx="@firebase/firestore-compat",Lx="firebase",Ux="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="[DEFAULT]",jx={[Pp]:"fire-core",[dx]:"fire-core-compat",[mx]:"fire-analytics",[fx]:"fire-analytics-compat",[gx]:"fire-app-check",[px]:"fire-app-check-compat",[yx]:"fire-auth",[_x]:"fire-auth-compat",[vx]:"fire-rtdb",[Ex]:"fire-data-connect",[bx]:"fire-rtdb-compat",[Tx]:"fire-fn",[wx]:"fire-fn-compat",[Ax]:"fire-iid",[Sx]:"fire-iid-compat",[Rx]:"fire-fcm",[Ix]:"fire-fcm-compat",[xx]:"fire-perf",[Cx]:"fire-perf-compat",[Nx]:"fire-rc",[Dx]:"fire-rc-compat",[Ox]:"fire-gcs",[Px]:"fire-gcs-compat",[Vx]:"fire-fst",[Mx]:"fire-fst-compat",[kx]:"fire-vertex","fire-js":"fire-js",[Lx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new Map,zx=new Map,kp=new Map;function Z0(i,e){try{i.container.addComponent(e)}catch(t){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ba(i){const e=i.name;if(kp.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;kp.set(e,i);for(const t of Zh.values())Z0(t,i);for(const t of zx.values())Z0(t,i);return!0}function zu(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function xt(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new ju("app","Firebase",Bx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=Ux;function oT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Vp,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw ws.create("bad-app-name",{appName:String(o)});if(t||(t=nT()),!t)throw ws.create("no-options");const u=Zh.get(o);if(u){if(xs(t,u.options)&&xs(s,u.config))return u;throw ws.create("duplicate-app",{appName:o})}const c=new QI(o);for(const p of kp.values())c.addComponent(p);const m=new qx(t,s,c);return Zh.set(o,m),m}function fg(i=Vp){const e=Zh.get(i);if(!e&&i===Vp&&nT())return oT();if(!e)throw ws.create("no-app",{appName:i});return e}function Ni(i,e,t){var s;let o=(s=jx[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&c&&m.push("and"),c&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(m.join(" "));return}ba(new Cs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="firebase-heartbeat-database",Hx=1,Su="firebase-heartbeat-store";let pp=null;function lT(){return pp||(pp=ox(Fx,Hx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Su)}catch(t){console.warn(t)}}}}).catch(i=>{throw ws.create("idb-open",{originalErrorMessage:i.message})})),pp}async function Gx(i){try{const t=(await lT()).transaction(Su),s=await t.objectStore(Su).get(uT(i));return await t.done,s}catch(e){if(e instanceof ji)Tr.warn(e.message);else{const t=ws.create("idb-get",{originalErrorMessage:e?.message});Tr.warn(t.message)}}}async function eE(i,e){try{const s=(await lT()).transaction(Su,"readwrite");await s.objectStore(Su).put(e,uT(i)),await s.done}catch(t){if(t instanceof ji)Tr.warn(t.message);else{const s=ws.create("idb-set",{originalErrorMessage:t?.message});Tr.warn(s.message)}}}function uT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=1024,$x=30;class Qx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Xx(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=tE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>$x){const c=Wx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Tr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tE(),{heartbeatsToSend:s,unsentEntries:o}=Yx(this._heartbeatsCache.heartbeats),u=Jh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Tr.warn(t),""}}}function tE(){return new Date().toISOString().substring(0,10)}function Yx(i,e=Kx){const t=[];let s=i.slice();for(const o of i){const u=t.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),nE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),nE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class Xx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rT()?LI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Gx(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return eE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return eE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function nE(i){return Jh(JSON.stringify({version:2,heartbeats:i})).length}function Wx(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(i){ba(new Cs("platform-logger",e=>new cx(e),"PRIVATE")),ba(new Cs("heartbeat",e=>new Qx(e),"PRIVATE")),Ni(Pp,J0,i),Ni(Pp,J0,"esm2017"),Ni("fire-js","")}Jx("");var iE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var As,cT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function I(){}I.prototype=R.prototype,D.D=R.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(P,V,U){for(var x=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)x[Xe-2]=arguments[Xe];return R.prototype[V].apply(P,x)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,I){I||(I=0);var P=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)P[V]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(V=0;16>V;++V)P[V]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=D.g[0],I=D.g[1],V=D.g[2];var U=D.g[3],x=R+(U^I&(V^U))+P[0]+3614090360&4294967295;R=I+(x<<7&4294967295|x>>>25),x=U+(V^R&(I^V))+P[1]+3905402710&4294967295,U=R+(x<<12&4294967295|x>>>20),x=V+(I^U&(R^I))+P[2]+606105819&4294967295,V=U+(x<<17&4294967295|x>>>15),x=I+(R^V&(U^R))+P[3]+3250441966&4294967295,I=V+(x<<22&4294967295|x>>>10),x=R+(U^I&(V^U))+P[4]+4118548399&4294967295,R=I+(x<<7&4294967295|x>>>25),x=U+(V^R&(I^V))+P[5]+1200080426&4294967295,U=R+(x<<12&4294967295|x>>>20),x=V+(I^U&(R^I))+P[6]+2821735955&4294967295,V=U+(x<<17&4294967295|x>>>15),x=I+(R^V&(U^R))+P[7]+4249261313&4294967295,I=V+(x<<22&4294967295|x>>>10),x=R+(U^I&(V^U))+P[8]+1770035416&4294967295,R=I+(x<<7&4294967295|x>>>25),x=U+(V^R&(I^V))+P[9]+2336552879&4294967295,U=R+(x<<12&4294967295|x>>>20),x=V+(I^U&(R^I))+P[10]+4294925233&4294967295,V=U+(x<<17&4294967295|x>>>15),x=I+(R^V&(U^R))+P[11]+2304563134&4294967295,I=V+(x<<22&4294967295|x>>>10),x=R+(U^I&(V^U))+P[12]+1804603682&4294967295,R=I+(x<<7&4294967295|x>>>25),x=U+(V^R&(I^V))+P[13]+4254626195&4294967295,U=R+(x<<12&4294967295|x>>>20),x=V+(I^U&(R^I))+P[14]+2792965006&4294967295,V=U+(x<<17&4294967295|x>>>15),x=I+(R^V&(U^R))+P[15]+1236535329&4294967295,I=V+(x<<22&4294967295|x>>>10),x=R+(V^U&(I^V))+P[1]+4129170786&4294967295,R=I+(x<<5&4294967295|x>>>27),x=U+(I^V&(R^I))+P[6]+3225465664&4294967295,U=R+(x<<9&4294967295|x>>>23),x=V+(R^I&(U^R))+P[11]+643717713&4294967295,V=U+(x<<14&4294967295|x>>>18),x=I+(U^R&(V^U))+P[0]+3921069994&4294967295,I=V+(x<<20&4294967295|x>>>12),x=R+(V^U&(I^V))+P[5]+3593408605&4294967295,R=I+(x<<5&4294967295|x>>>27),x=U+(I^V&(R^I))+P[10]+38016083&4294967295,U=R+(x<<9&4294967295|x>>>23),x=V+(R^I&(U^R))+P[15]+3634488961&4294967295,V=U+(x<<14&4294967295|x>>>18),x=I+(U^R&(V^U))+P[4]+3889429448&4294967295,I=V+(x<<20&4294967295|x>>>12),x=R+(V^U&(I^V))+P[9]+568446438&4294967295,R=I+(x<<5&4294967295|x>>>27),x=U+(I^V&(R^I))+P[14]+3275163606&4294967295,U=R+(x<<9&4294967295|x>>>23),x=V+(R^I&(U^R))+P[3]+4107603335&4294967295,V=U+(x<<14&4294967295|x>>>18),x=I+(U^R&(V^U))+P[8]+1163531501&4294967295,I=V+(x<<20&4294967295|x>>>12),x=R+(V^U&(I^V))+P[13]+2850285829&4294967295,R=I+(x<<5&4294967295|x>>>27),x=U+(I^V&(R^I))+P[2]+4243563512&4294967295,U=R+(x<<9&4294967295|x>>>23),x=V+(R^I&(U^R))+P[7]+1735328473&4294967295,V=U+(x<<14&4294967295|x>>>18),x=I+(U^R&(V^U))+P[12]+2368359562&4294967295,I=V+(x<<20&4294967295|x>>>12),x=R+(I^V^U)+P[5]+4294588738&4294967295,R=I+(x<<4&4294967295|x>>>28),x=U+(R^I^V)+P[8]+2272392833&4294967295,U=R+(x<<11&4294967295|x>>>21),x=V+(U^R^I)+P[11]+1839030562&4294967295,V=U+(x<<16&4294967295|x>>>16),x=I+(V^U^R)+P[14]+4259657740&4294967295,I=V+(x<<23&4294967295|x>>>9),x=R+(I^V^U)+P[1]+2763975236&4294967295,R=I+(x<<4&4294967295|x>>>28),x=U+(R^I^V)+P[4]+1272893353&4294967295,U=R+(x<<11&4294967295|x>>>21),x=V+(U^R^I)+P[7]+4139469664&4294967295,V=U+(x<<16&4294967295|x>>>16),x=I+(V^U^R)+P[10]+3200236656&4294967295,I=V+(x<<23&4294967295|x>>>9),x=R+(I^V^U)+P[13]+681279174&4294967295,R=I+(x<<4&4294967295|x>>>28),x=U+(R^I^V)+P[0]+3936430074&4294967295,U=R+(x<<11&4294967295|x>>>21),x=V+(U^R^I)+P[3]+3572445317&4294967295,V=U+(x<<16&4294967295|x>>>16),x=I+(V^U^R)+P[6]+76029189&4294967295,I=V+(x<<23&4294967295|x>>>9),x=R+(I^V^U)+P[9]+3654602809&4294967295,R=I+(x<<4&4294967295|x>>>28),x=U+(R^I^V)+P[12]+3873151461&4294967295,U=R+(x<<11&4294967295|x>>>21),x=V+(U^R^I)+P[15]+530742520&4294967295,V=U+(x<<16&4294967295|x>>>16),x=I+(V^U^R)+P[2]+3299628645&4294967295,I=V+(x<<23&4294967295|x>>>9),x=R+(V^(I|~U))+P[0]+4096336452&4294967295,R=I+(x<<6&4294967295|x>>>26),x=U+(I^(R|~V))+P[7]+1126891415&4294967295,U=R+(x<<10&4294967295|x>>>22),x=V+(R^(U|~I))+P[14]+2878612391&4294967295,V=U+(x<<15&4294967295|x>>>17),x=I+(U^(V|~R))+P[5]+4237533241&4294967295,I=V+(x<<21&4294967295|x>>>11),x=R+(V^(I|~U))+P[12]+1700485571&4294967295,R=I+(x<<6&4294967295|x>>>26),x=U+(I^(R|~V))+P[3]+2399980690&4294967295,U=R+(x<<10&4294967295|x>>>22),x=V+(R^(U|~I))+P[10]+4293915773&4294967295,V=U+(x<<15&4294967295|x>>>17),x=I+(U^(V|~R))+P[1]+2240044497&4294967295,I=V+(x<<21&4294967295|x>>>11),x=R+(V^(I|~U))+P[8]+1873313359&4294967295,R=I+(x<<6&4294967295|x>>>26),x=U+(I^(R|~V))+P[15]+4264355552&4294967295,U=R+(x<<10&4294967295|x>>>22),x=V+(R^(U|~I))+P[6]+2734768916&4294967295,V=U+(x<<15&4294967295|x>>>17),x=I+(U^(V|~R))+P[13]+1309151649&4294967295,I=V+(x<<21&4294967295|x>>>11),x=R+(V^(I|~U))+P[4]+4149444226&4294967295,R=I+(x<<6&4294967295|x>>>26),x=U+(I^(R|~V))+P[11]+3174756917&4294967295,U=R+(x<<10&4294967295|x>>>22),x=V+(R^(U|~I))+P[2]+718787259&4294967295,V=U+(x<<15&4294967295|x>>>17),x=I+(U^(V|~R))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+U&4294967295}s.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var I=R-this.blockSize,P=this.B,V=this.h,U=0;U<R;){if(V==0)for(;U<=I;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<R;)if(P[V++]=D.charCodeAt(U++),V==this.blockSize){o(this,P),V=0;break}}else for(;U<R;)if(P[V++]=D[U++],V==this.blockSize){o(this,P),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var I=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=I&255,I/=256;for(this.u(D),D=Array(16),R=I=0;4>R;++R)for(var P=0;32>P;P+=8)D[I++]=this.g[R]>>>P&255;return D};function u(D,R){var I=m;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=R(D)}function c(D,R){this.h=R;for(var I=[],P=!0,V=D.length-1;0<=V;V--){var U=D[V]|0;P&&U==R||(I[V]=U,P=!1)}this.g=I}var m={};function p(D){return-128<=D&&128>D?u(D,function(R){return new c([R|0],0>R?-1:0)}):new c([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return L(g(-D));for(var R=[],I=1,P=0;D>=I;P++)R[P]=D/I|0,I*=4294967296;return new c(R,0)}function v(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return L(v(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),P=T,V=0;V<D.length;V+=8){var U=Math.min(8,D.length-V),x=parseInt(D.substring(V,V+U),R);8>U?(U=g(Math.pow(R,U)),P=P.j(U).add(g(x))):(P=P.j(I),P=P.add(g(x)))}return P}var T=p(0),A=p(1),C=p(16777216);i=c.prototype,i.m=function(){if(q(this))return-L(this).m();for(var D=0,R=1,I=0;I<this.g.length;I++){var P=this.i(I);D+=(0<=P?P:4294967296+P)*R,R*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O(this))return"0";if(q(this))return"-"+L(this).toString(D);for(var R=g(Math.pow(D,6)),I=this,P="";;){var V=me(I,R).g;I=Y(I,V.j(R));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=V,O(I))return U+P;for(;6>U.length;)U="0"+U;P=U+P}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function O(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function q(D){return D.h==-1}i.l=function(D){return D=Y(this,D),q(D)?-1:O(D)?0:1};function L(D){for(var R=D.g.length,I=[],P=0;P<R;P++)I[P]=~D.g[P];return new c(I,~D.h).add(A)}i.abs=function(){return q(this)?L(this):this},i.add=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],P=0,V=0;V<=R;V++){var U=P+(this.i(V)&65535)+(D.i(V)&65535),x=(U>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);P=x>>>16,U&=65535,x&=65535,I[V]=x<<16|U}return new c(I,I[I.length-1]&-2147483648?-1:0)};function Y(D,R){return D.add(L(R))}i.j=function(D){if(O(this)||O(D))return T;if(q(this))return q(D)?L(this).j(L(D)):L(L(this).j(D));if(q(D))return L(this.j(L(D)));if(0>this.l(C)&&0>D.l(C))return g(this.m()*D.m());for(var R=this.g.length+D.g.length,I=[],P=0;P<2*R;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<D.g.length;V++){var U=this.i(P)>>>16,x=this.i(P)&65535,Xe=D.i(V)>>>16,it=D.i(V)&65535;I[2*P+2*V]+=x*it,ne(I,2*P+2*V),I[2*P+2*V+1]+=U*it,ne(I,2*P+2*V+1),I[2*P+2*V+1]+=x*Xe,ne(I,2*P+2*V+1),I[2*P+2*V+2]+=U*Xe,ne(I,2*P+2*V+2)}for(P=0;P<R;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=R;P<2*R;P++)I[P]=0;return new c(I,0)};function ne(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function ie(D,R){this.g=D,this.h=R}function me(D,R){if(O(R))throw Error("division by zero");if(O(D))return new ie(T,T);if(q(D))return R=me(L(D),R),new ie(L(R.g),L(R.h));if(q(R))return R=me(D,L(R)),new ie(L(R.g),R.h);if(30<D.g.length){if(q(D)||q(R))throw Error("slowDivide_ only works with positive integers.");for(var I=A,P=R;0>=P.l(D);)I=re(I),P=re(P);var V=pe(I,1),U=pe(P,1);for(P=pe(P,2),I=pe(I,2);!O(P);){var x=U.add(P);0>=x.l(D)&&(V=V.add(I),U=x),P=pe(P,1),I=pe(I,1)}return R=Y(D,V.j(R)),new ie(V,R)}for(V=T;0<=D.l(R);){for(I=Math.max(1,Math.floor(D.m()/R.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),U=g(I),x=U.j(R);q(x)||0<x.l(D);)I-=P,U=g(I),x=U.j(R);O(U)&&(U=A),V=V.add(U),D=Y(D,x)}return new ie(V,D)}i.A=function(D){return me(this,D).h},i.and=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],P=0;P<R;P++)I[P]=this.i(P)&D.i(P);return new c(I,this.h&D.h)},i.or=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],P=0;P<R;P++)I[P]=this.i(P)|D.i(P);return new c(I,this.h|D.h)},i.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],P=0;P<R;P++)I[P]=this.i(P)^D.i(P);return new c(I,this.h^D.h)};function re(D){for(var R=D.g.length+1,I=[],P=0;P<R;P++)I[P]=D.i(P)<<1|D.i(P-1)>>>31;return new c(I,D.h)}function pe(D,R){var I=R>>5;R%=32;for(var P=D.g.length-I,V=[],U=0;U<P;U++)V[U]=0<R?D.i(U+I)>>>R|D.i(U+I+1)<<32-R:D.i(U+I);return new c(V,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,cT=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,As=c}).apply(typeof iE<"u"?iE:typeof self<"u"?self:typeof window<"u"?window:{});var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hT,cu,dT,qh,Mp,fT,mT,pT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,E){return h==Array.prototype||h==Object.prototype||(h[y]=E.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oh=="object"&&Oh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function o(h,y){if(y)e:{var E=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var z=h[S];if(!(z in E))break e;E=E[z]}h=h[h.length-1],S=E[h],y=y(S),y!=S&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}function u(h,y){h instanceof String&&(h+="");var E=0,S=!1,z={next:function(){if(!S&&E<h.length){var $=E++;return{value:y($,h[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(h){return h||function(){return u(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},m=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,E){return h.call.apply(h.bind,arguments)}function T(h,y,E){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),h.apply(y,z)}}return function(){return h.apply(y,arguments)}}function A(h,y,E){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,A.apply(null,arguments)}function C(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function O(h,y){function E(){}E.prototype=y.prototype,h.aa=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(S,z,$){for(var oe=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)oe[$e-2]=arguments[$e];return y.prototype[z].apply(S,oe)}}function q(h){const y=h.length;if(0<y){const E=Array(y);for(let S=0;S<y;S++)E[S]=h[S];return E}return[]}function L(h,y){for(let E=1;E<arguments.length;E++){const S=arguments[E];if(p(S)){const z=h.length||0,$=S.length||0;h.length=z+$;for(let oe=0;oe<$;oe++)h[z+oe]=S[oe]}else h.push(S)}}class Y{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ne(h){return/^[\s\xa0]*$/.test(h)}function ie(){var h=m.navigator;return h&&(h=h.userAgent)?h:""}function me(h){return me[" "](h),h}me[" "]=function(){};var re=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function pe(h,y,E){for(const S in h)y.call(E,h[S],S,h)}function D(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function R(h){const y={};for(const E in h)y[E]=h[E];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,y){let E,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(E in S)h[E]=S[E];for(let $=0;$<I.length;$++)E=I[$],Object.prototype.hasOwnProperty.call(S,E)&&(h[E]=S[E])}}function V(h){var y=1;h=h.split(":");const E=[];for(;0<y&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function U(h){m.setTimeout(()=>{throw h},0)}function x(){var h=Pe;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Xe{constructor(){this.h=this.g=null}add(y,E){const S=it.get();S.set(y,E),this.h?this.h.next=S:this.g=S,this.h=S}}var it=new Y(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ye=!1,Pe=new Xe,ze=()=>{const h=m.Promise.resolve(void 0);le=()=>{h.then(M)}};var M=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(E){U(E)}var y=it;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ye=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var de=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};m.addEventListener("test",E,y),m.removeEventListener("test",E,y)}catch{}return h})();function be(h,y){if(ae.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(re){e:{try{me(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:xe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&be.aa.h.call(this)}}O(be,ae);var xe={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),$t=0;function ut(h,y,E,S,z){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!S,this.ha=z,this.key=++$t,this.da=this.fa=!1}function pi(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function zi(h){this.src=h,this.g={},this.h=0}zi.prototype.add=function(h,y,E,S,z){var $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);var oe=Da(h,y,S,z);return-1<oe?(y=h[oe],E||(y.fa=!1)):(y=new ut(y,this.src,$,!!S,z),y.fa=E,h.push(y)),y};function zs(h,y){var E=y.type;if(E in h.g){var S=h.g[E],z=Array.prototype.indexOf.call(S,y,void 0),$;($=0<=z)&&Array.prototype.splice.call(S,z,1),$&&(pi(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Da(h,y,E,S){for(var z=0;z<h.length;++z){var $=h[z];if(!$.da&&$.listener==y&&$.capture==!!E&&$.ha==S)return z}return-1}var ii="closure_lm_"+(1e6*Math.random()|0),Bs={};function Oa(h,y,E,S,z){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Oa(h,y[$],E,S,z);return null}return E=rc(E),h&&h[Ue]?h.K(y,E,g(S)?!!S.capture:!1,z):Zd(h,y,E,!1,S,z)}function Zd(h,y,E,S,z,$){if(!y)throw Error("Invalid event type");var oe=g(z)?!!z.capture:!!z,$e=il(h);if($e||(h[ii]=$e=new zi(h)),E=$e.add(y,E,S,oe,$),E.proxy)return E;if(S=ic(),E.proxy=S,S.src=h,S.listener=E,h.addEventListener)de||(z=oe),z===void 0&&(z=!1),h.addEventListener(y.toString(),S,z);else if(h.attachEvent)h.attachEvent(Va(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ic(){function h(E){return y.call(h.src,h.listener,E)}const y=ef;return h}function Pa(h,y,E,S,z){if(Array.isArray(y))for(var $=0;$<y.length;$++)Pa(h,y[$],E,S,z);else S=g(S)?!!S.capture:!!S,E=rc(E),h&&h[Ue]?(h=h.i,y=String(y).toString(),y in h.g&&($=h.g[y],E=Da($,E,S,z),-1<E&&(pi($[E]),Array.prototype.splice.call($,E,1),$.length==0&&(delete h.g[y],h.h--)))):h&&(h=il(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Da(y,E,S,z)),(E=-1<h?y[h]:null)&&qs(E))}function qs(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ue])zs(y.i,h);else{var E=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(E,S,h.capture):y.detachEvent?y.detachEvent(Va(E),S):y.addListener&&y.removeListener&&y.removeListener(S),(E=il(y))?(zs(E,h),E.h==0&&(E.src=null,y[ii]=null)):pi(h)}}}function Va(h){return h in Bs?Bs[h]:Bs[h]="on"+h}function ef(h,y){if(h.da)h=!0;else{y=new be(y,this);var E=h.listener,S=h.ha||h.src;h.fa&&qs(h),h=E.call(S,y)}return h}function il(h){return h=h[ii],h instanceof zi?h:null}var Qt="__closure_events_fn_"+(1e9*Math.random()>>>0);function rc(h){return typeof h=="function"?h:(h[Qt]||(h[Qt]=function(y){return h.handleEvent(y)}),h[Qt])}function Ot(){J.call(this),this.i=new zi(this),this.M=this,this.F=null}O(Ot,J),Ot.prototype[Ue]=!0,Ot.prototype.removeEventListener=function(h,y,E,S){Pa(this,h,y,E,S)};function Ut(h,y){var E,S=h.F;if(S)for(E=[];S;S=S.F)E.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new ae(y,h);else if(y instanceof ae)y.target=y.target||h;else{var z=y;y=new ae(S,h),P(y,z)}if(z=!0,E)for(var $=E.length-1;0<=$;$--){var oe=y.g=E[$];z=Bi(oe,S,!0,y)&&z}if(oe=y.g=h,z=Bi(oe,S,!0,y)&&z,z=Bi(oe,S,!1,y)&&z,E)for($=0;$<E.length;$++)oe=y.g=E[$],z=Bi(oe,S,!1,y)&&z}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var E=h.g[y],S=0;S<E.length;S++)pi(E[S]);delete h.g[y],h.h--}}this.F=null},Ot.prototype.K=function(h,y,E,S){return this.i.add(String(h),y,!1,E,S)},Ot.prototype.L=function(h,y,E,S){return this.i.add(String(h),y,!0,E,S)};function Bi(h,y,E,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,$=0;$<y.length;++$){var oe=y[$];if(oe&&!oe.da&&oe.capture==E){var $e=oe.listener,bt=oe.ha||oe.src;oe.fa&&zs(h.i,oe),z=$e.call(bt,S)!==!1&&z}}return z&&!S.defaultPrevented}function sc(h,y,E){if(typeof h=="function")E&&(h=A(h,E));else if(h&&typeof h.handleEvent=="function")h=A(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(h,y||0)}function rl(h){h.g=sc(()=>{h.g=null,h.i&&(h.i=!1,rl(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class tf extends J{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:rl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fs(h){J.call(this),this.h=h,this.g={}}O(Fs,J);var Cr=[];function nn(h){pe(h.g,function(y,E){this.g.hasOwnProperty(E)&&qs(y)},h),h.g={}}Fs.prototype.N=function(){Fs.aa.N.call(this),nn(this)},Fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=m.JSON.stringify,cn=m.JSON.parse,nf=class{stringify(h){return m.JSON.stringify(h,void 0)}parse(h){return m.JSON.parse(h,void 0)}};function sl(){}sl.prototype.h=null;function ac(h){return h.h||(h.h=h.i())}function Hs(){}var gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nr(){ae.call(this,"d")}O(Nr,ae);function ri(){ae.call(this,"c")}O(ri,ae);var Hn={},Dr=null;function ka(){return Dr=Dr||new Ot}Hn.La="serverreachability";function al(h){ae.call(this,Hn.La,h)}O(al,ae);function qi(h){const y=ka();Ut(y,new al(y))}Hn.STAT_EVENT="statevent";function Or(h,y){ae.call(this,Hn.STAT_EVENT,h),this.stat=y}O(Or,ae);function Yt(h){const y=ka();Ut(y,new Or(y,h))}Hn.Ma="timingevent";function ol(h,y){ae.call(this,Hn.Ma,h),this.size=y}O(ol,ae);function Pr(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){h()},y)}function Vr(){this.g=!0}Vr.prototype.xa=function(){this.g=!1};function ll(h,y,E,S,z,$){h.info(function(){if(h.g)if($)for(var oe="",$e=$.split("&"),bt=0;bt<$e.length;bt++){var Ce=$e[bt].split("=");if(1<Ce.length){var zt=Ce[0];Ce=Ce[1];var Bt=zt.split("_");oe=2<=Bt.length&&Bt[1]=="type"?oe+(zt+"="+Ce+"&"):oe+(zt+"=redacted&")}}else oe=null;else oe=$;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+E+`
`+oe})}function ul(h,y,E,S,z,$,oe){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+E+`
`+$+" "+oe})}function Fi(h,y,E,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+yi(h,E)+(S?" "+S:"")})}function oc(h,y){h.info(function(){return"TIMEOUT: "+y})}Vr.prototype.info=function(){};function yi(h,y){if(!h.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var S=E[h];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var $=z[0];if($!="noop"&&$!="stop"&&$!="close")for(var oe=1;oe<z.length;oe++)z[oe]=""}}}}return Fn(E)}catch{return y}}var ft={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_i;function kr(){}O(kr,sl),kr.prototype.g=function(){return new XMLHttpRequest},kr.prototype.i=function(){return{}},_i=new kr;function vi(h,y,E,S){this.j=h,this.i=y,this.l=E,this.R=S||1,this.U=new Fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lc}function lc(){this.i=null,this.g="",this.h=!1}var cl={},Hi={};function Gs(h,y,E){h.L=1,h.v=Qs(mt(y)),h.m=E,h.P=!0,Gi(h,null)}function Gi(h,y){h.F=Date.now(),si(h),h.A=mt(h.v);var E=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),Qi(E.i,"t",S),h.C=0,E=h.j.J,h.h=new lc,h.g=Ac(h.j,E?y:null,!h.m),0<h.O&&(h.M=new tf(A(h.Y,h,h.g),h.O)),y=h.U,E=h.g,S=h.ca;var z="readystatechange";Array.isArray(z)||(z&&(Cr[0]=z.toString()),z=Cr);for(var $=0;$<z.length;$++){var oe=Oa(E,z[$],S||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),qi(),ll(h.i,h.u,h.A,h.l,h.R,h.m)}vi.prototype.ca=function(h){h=h.target;const y=this.M;y&&fn(h)==3?y.j():this.Y(h)},vi.prototype.Y=function(h){try{if(h==this.g)e:{const Bt=fn(this.g);var y=this.g.Ba();const Qr=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||Ws(this.g)))){this.J||Bt!=4||y==7||(y==8||0>=Qr?qi(3):qi(2)),Ma(this);var E=this.g.Z();this.X=E;t:if(Ki(this)){var S=Ws(this.g);h="";var z=S.length,$=fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),Mr(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,h+=this.h.i.decode(S[y],{stream:!($&&y==z-1)});S.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=E==200,ul(this.i,this.u,this.A,this.l,this.R,Bt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,bt=this.g;if(($e=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne($e)){var Ce=$e;break t}}Ce=null}if(E=Ce)Fi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ei(this,E);else{this.o=!1,this.s=3,Yt(12),hn(this),Mr(this);break e}}if(this.P){E=!0;let vn;for(;!this.J&&this.C<oe.length;)if(vn=Ks(this,oe),vn==Hi){Bt==4&&(this.s=4,Yt(14),E=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==cl){this.s=4,Yt(15),Fi(this.i,this.l,oe,"[Invalid Chunk]"),E=!1;break}else Fi(this.i,this.l,vn,null),Ei(this,vn);if(Ki(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||oe.length!=0||this.h.h||(this.s=1,Yt(16),E=!1),this.o=this.o&&E,!E)Fi(this.i,this.l,oe,"[Invalid Chunked Response]"),hn(this),Mr(this);else if(0<oe.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),bl(zt),zt.M=!0,Yt(11))}}else Fi(this.i,this.l,oe,null),Ei(this,oe);Bt==4&&hn(this),this.o&&!this.J&&(Bt==4?bc(this.j,this):(this.o=!1,si(this)))}else pc(this.g),E==400&&0<oe.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),hn(this),Mr(this)}}}catch{}finally{}};function Ki(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ks(h,y){var E=h.C,S=y.indexOf(`
`,E);return S==-1?Hi:(E=Number(y.substring(E,S)),isNaN(E)?cl:(S+=1,S+E>y.length?Hi:(y=y.slice(S,S+E),h.C=S+E,y)))}vi.prototype.cancel=function(){this.J=!0,hn(this)};function si(h){h.S=Date.now()+h.I,yt(h,h.I)}function yt(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Pr(A(h.ba,h),y)}function Ma(h){h.B&&(m.clearTimeout(h.B),h.B=null)}vi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(oc(this.i,this.A),this.L!=2&&(qi(),Yt(17)),hn(this),this.s=2,Mr(this)):yt(this,this.S-h)};function Mr(h){h.j.G==0||h.J||bc(h.j,h)}function hn(h){Ma(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,nn(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Ei(h,y){try{var E=h.j;if(E.G!=0&&(E.g==h||Lr(E.h,h))){if(!h.K&&Lr(E.h,h)&&E.G==3){try{var S=E.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)Kr(E),Gr(E);else break e;El(E),Yt(18)}}else E.za=z[1],0<E.za-E.T&&37500>z[2]&&E.F&&E.v==0&&!E.C&&(E.C=Pr(A(E.Za,E),6e3));if(1>=uc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Xi(E,11)}else if((h.K||E.g==h)&&Kr(E),!ne(y))for(z=E.Da.g.parse(y),y=0;y<z.length;y++){let Ce=z[y];if(E.T=Ce[0],Ce=Ce[1],E.G==2)if(Ce[0]=="c"){E.K=Ce[1],E.ia=Ce[2];const zt=Ce[3];zt!=null&&(E.la=zt,E.j.info("VER="+E.la));const Bt=Ce[4];Bt!=null&&(E.Aa=Bt,E.j.info("SVER="+E.Aa));const Qr=Ce[5];Qr!=null&&typeof Qr=="number"&&0<Qr&&(S=1.5*Qr,E.L=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const vn=h.g;if(vn){const ea=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ea){var $=S.h;$.g||ea.indexOf("spdy")==-1&&ea.indexOf("quic")==-1&&ea.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ur($,$.h),$.h=null))}if(S.D){const Wi=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wi&&(S.ya=Wi,qe(S.I,S.D,Wi))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),S=E;var oe=h;if(S.qa=wc(S,S.J?S.ia:null,S.W),oe.K){Gn(S.h,oe);var $e=oe,bt=S.L;bt&&($e.I=bt),$e.B&&(Ma($e),si($e)),S.g=oe}else vc(S);0<E.i.length&&Ha(E)}else Ce[0]!="stop"&&Ce[0]!="close"||Xi(E,7);else E.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Xi(E,7):_l(E):Ce[0]!="noop"&&E.l&&E.l.ta(Ce),E.v=0)}}qi(4)}catch{}}var rf=class{constructor(h,y){this.g=h,this.map=y}};function hl(h){this.l=h||10,m.PerformanceNavigationTiming?(h=m.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function uc(h){return h.h?1:h.g?h.g.size:0}function Lr(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ur(h,y){h.g?h.g.add(y):h.h=y}function Gn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}hl.prototype.cancel=function(){if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function dn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.D);return y}return q(h.i)}function cc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],E=h.length,S=0;S<E;S++)y.push(h[S]);return y}y=[],E=0;for(S in h)y[E++]=h[S];return y}function sf(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var E=0;E<h;E++)y.push(E);return y}y=[],E=0;for(const S in h)y[E++]=S;return y}}}function La(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var E=sf(h),S=cc(h),z=S.length,$=0;$<z;$++)y.call(void 0,S[$],E&&E[$],h)}var fl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(h,y){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var S=h[E].indexOf("="),z=null;if(0<=S){var $=h[E].substring(0,S);z=h[E].substring(S+1)}else $=h[E];y($,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function $i(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof $i){this.h=h.h,jr(this,h.j),this.o=h.o,this.g=h.g,$s(this,h.s),this.l=h.l;var y=h.i,E=new bi;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),ja(this,E),this.m=h.m}else h&&(y=String(h).match(fl))?(this.h=!1,jr(this,y[1]||"",!0),this.o=zr(y[2]||""),this.g=zr(y[3]||"",!0),$s(this,y[4]),this.l=zr(y[5]||"",!0),ja(this,y[6]||"",!0),this.m=zr(y[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}$i.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Kn(y,ml,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Kn(y,ml,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Kn(E,E.charAt(0)=="/"?pl:hc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Kn(E,lf)),h.join("")};function mt(h){return new $i(h)}function jr(h,y,E){h.j=E?zr(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function $s(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function ja(h,y,E){y instanceof bi?(h.i=y,dc(h.i,h.h)):(E||(y=Kn(y,of)),h.i=new bi(y,h.h))}function qe(h,y,E){h.i.set(y,E)}function Qs(h){return qe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function zr(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Kn(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,af),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function af(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ml=/[#\/\?@]/g,hc=/[#\?:]/g,pl=/[#\?]/g,of=/[#\?@]/g,lf=/#/g;function bi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function jt(h){h.g||(h.g=new Map,h.h=0,h.i&&Ua(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=bi.prototype,i.add=function(h,y){jt(this),this.i=null,h=Nn(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function za(h,y){jt(h),y=Nn(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Ba(h,y){return jt(h),y=Nn(h,y),h.g.has(y)}i.forEach=function(h,y){jt(this),this.g.forEach(function(E,S){E.forEach(function(z){h.call(y,z,S,this)},this)},this)},i.na=function(){jt(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let S=0;S<y.length;S++){const z=h[S];for(let $=0;$<z.length;$++)E.push(y[S])}return E},i.V=function(h){jt(this);let y=[];if(typeof h=="string")Ba(this,h)&&(y=y.concat(this.g.get(Nn(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)y=y.concat(h[E])}return y},i.set=function(h,y){return jt(this),this.i=null,h=Nn(this,h),Ba(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Qi(h,y,E){za(h,y),0<E.length&&(h.i=null,h.g.set(Nn(h,y),q(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var S=y[E];const $=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var z=$;oe[S]!==""&&(z+="="+encodeURIComponent(String(oe[S]))),h.push(z)}}return this.i=h.join("&")};function Nn(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function dc(h,y){y&&!h.j&&(jt(h),h.i=null,h.g.forEach(function(E,S){var z=S.toLowerCase();S!=z&&(za(this,S),Qi(this,z,E))},h)),h.j=y}function gl(h,y){const E=new Vr;if(m.Image){const S=new Image;S.onload=C(_n,E,"TestLoadImage: loaded",!0,y,S),S.onerror=C(_n,E,"TestLoadImage: error",!1,y,S),S.onabort=C(_n,E,"TestLoadImage: abort",!1,y,S),S.ontimeout=C(_n,E,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function fc(h,y){const E=new Vr,S=new AbortController,z=setTimeout(()=>{S.abort(),_n(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then($=>{clearTimeout(z),$.ok?_n(E,"TestPingServer: ok",!0,y):_n(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),_n(E,"TestPingServer: error",!1,y)})}function _n(h,y,E,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(E)}catch{}}function ai(){this.g=new nf}function yl(h,y,E){const S=E||"";try{La(h,function(z,$){let oe=z;g(z)&&(oe=Fn(z)),y.push(S+$+"="+encodeURIComponent(oe))})}catch(z){throw y.push(S+"type="+encodeURIComponent("_badmap")),z}}function Ti(h){this.l=h.Ub||null,this.j=h.eb||!1}O(Ti,sl),Ti.prototype.g=function(){return new Dn(this.l,this.j)},Ti.prototype.i=(function(h){return function(){return h}})({});function Dn(h,y){Ot.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Dn,Ot),i=Dn.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Br(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},i.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qa(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function qa(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}i.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?wi(this):Br(this),this.readyState==3&&qa(this)}},i.Ra=function(h){this.g&&(this.response=this.responseText=h,wi(this))},i.Qa=function(h){this.g&&(this.response=h,wi(this))},i.ga=function(){this.g&&wi(this)};function wi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Br(h)}i.setRequestHeader=function(h,y){this.u.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Br(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Dn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ys(h){let y="";return pe(h,function(E,S){y+=S,y+=":",y+=E,y+=`\r
`}),y}function qr(h,y,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=Ys(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):qe(h,y,E))}function rt(h){Ot.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(rt,Ot);var rn=/^https?$/i,Yi=["POST","PUT"];i=rt.prototype,i.Ha=function(h){this.J=h},i.ea=function(h,y,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_i.g(),this.v=this.o?ac(this.o):ac(_i),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch($){Xs(this,$);return}if(h=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)E.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())E.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),z=m.FormData&&h instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Yi,y,void 0))||S||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,oe]of E)this.g.setRequestHeader($,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fa(this),this.u=!0,this.g.send(h),this.u=!1}catch($){Xs(this,$)}};function Xs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Fr(h),Hr(h)}function Fr(h){h.A||(h.A=!0,Ut(h,"complete"),Ut(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ut(this,"complete"),Ut(this,"abort"),Hr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hr(this,!0)),rt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?mc(this):this.bb())},i.bb=function(){mc(this)};function mc(h){if(h.h&&typeof c<"u"&&(!h.v[1]||fn(h)!=4||h.Z()!=2)){if(h.u&&fn(h)==4)sc(h.Ea,0,h);else if(Ut(h,"readystatechange"),fn(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var S;if(S=oe===0){var z=String(h.D).match(fl)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),S=!rn.test(z?z.toLowerCase():"")}E=S}if(E)Ut(h,"complete"),Ut(h,"success");else{h.m=6;try{var $=2<fn(h)?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.Z()+"]",Fr(h)}}finally{Hr(h)}}}}function Hr(h,y){if(h.g){Fa(h);const E=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Ut(h,"ready");try{E.onreadystatechange=S}catch{}}}function Fa(h){h.I&&(m.clearTimeout(h.I),h.I=null)}i.isActive=function(){return!!this.g};function fn(h){return h.g?h.g.readyState:0}i.Z=function(){try{return 2<fn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),cn(y)}};function Ws(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function pc(h){const y={};h=(h.g&&2<=fn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(ne(h[S]))continue;var E=V(h[S]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=y[z]||[];y[z]=$,$.push(E)}D(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Js(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function gc(h){this.Aa=0,this.i=[],this.j=new Vr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Js("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Js("baseRetryDelayMs",5e3,h),this.cb=Js("retryDelaySeedMs",1e4,h),this.Wa=Js("forwardChannelMaxRetries",2,h),this.wa=Js("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new hl(h&&h.concurrentRequestLimit),this.Da=new ai,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=gc.prototype,i.la=8,i.G=1,i.connect=function(h,y,E,S){Yt(0),this.W=h,this.H=y||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.I=wc(this,null,this.W),Ha(this)};function _l(h){if(yc(h),h.G==3){var y=h.U++,E=mt(h.I);if(qe(E,"SID",h.K),qe(E,"RID",y),qe(E,"TYPE","terminate"),Zs(h,E),y=new vi(h,h.j,y),y.L=2,y.v=Qs(mt(E)),E=!1,m.navigator&&m.navigator.sendBeacon)try{E=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&m.Image&&(new Image().src=y.v,E=!0),E||(y.g=Ac(y.j,null),y.g.ea(y.v)),y.F=Date.now(),si(y)}Tl(h)}function Gr(h){h.g&&(bl(h),h.g.cancel(),h.g=null)}function yc(h){Gr(h),h.u&&(m.clearTimeout(h.u),h.u=null),Kr(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&m.clearTimeout(h.s),h.s=null)}function Ha(h){if(!dl(h.h)&&!h.s){h.s=!0;var y=h.Ga;le||ze(),ye||(le(),ye=!0),Pe.add(y,h),h.B=0}}function uf(h,y){return uc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Pr(A(h.Ga,h,y),Tc(h,h.B)),h.B++,!0)}i.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const z=new vi(this,this.j,h);let $=this.o;if(this.S&&($?($=R($),P($,this.S)):$=this.S),this.m!==null||this.O||(z.H=$,$=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=vl(this,z,y),E=mt(this.I),qe(E,"RID",h),qe(E,"CVER",22),this.D&&qe(E,"X-HTTP-Session-Id",this.D),Zs(this,E),$&&(this.O?y="headers="+encodeURIComponent(String(Ys($)))+"&"+y:this.m&&qr(E,this.m,$)),Ur(this.h,z),this.Ua&&qe(E,"TYPE","init"),this.P?(qe(E,"$req",y),qe(E,"SID","null"),z.T=!0,Gs(z,E,null)):Gs(z,E,y),this.G=2}}else this.G==3&&(h?_c(this,h):this.i.length==0||dl(this.h)||_c(this))};function _c(h,y){var E;y?E=y.l:E=h.U++;const S=mt(h.I);qe(S,"SID",h.K),qe(S,"RID",E),qe(S,"AID",h.T),Zs(h,S),h.m&&h.o&&qr(S,h.m,h.o),E=new vi(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),y&&(h.i=y.D.concat(h.i)),y=vl(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ur(h.h,E),Gs(E,S,y)}function Zs(h,y){h.H&&pe(h.H,function(E,S){qe(y,S,E)}),h.l&&La({},function(E,S){qe(y,S,E)})}function vl(h,y,E){E=Math.min(h.i.length,E);var S=h.l?A(h.l.Na,h.l,h):null;e:{var z=h.i;let $=-1;for(;;){const oe=["count="+E];$==-1?0<E?($=z[0].g,oe.push("ofs="+$)):$=0:oe.push("ofs="+$);let $e=!0;for(let bt=0;bt<E;bt++){let Ce=z[bt].g;const zt=z[bt].map;if(Ce-=$,0>Ce)$=Math.max(0,z[bt].g-100),$e=!1;else try{yl(zt,oe,"req"+Ce+"_")}catch{S&&S(zt)}}if($e){S=oe.join("&");break e}}}return h=h.i.splice(0,E),y.D=h,S}function vc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;le||ze(),ye||(le(),ye=!0),Pe.add(y,h),h.v=0}}function El(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Pr(A(h.Fa,h),Tc(h,h.v)),h.v++,!0)}i.Fa=function(){if(this.u=null,Ec(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Pr(A(this.ab,this),h)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),Gr(this),Ec(this))};function bl(h){h.A!=null&&(m.clearTimeout(h.A),h.A=null)}function Ec(h){h.g=new vi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=mt(h.qa);qe(y,"RID","rpc"),qe(y,"SID",h.K),qe(y,"AID",h.T),qe(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&qe(y,"TO",h.ja),qe(y,"TYPE","xmlhttp"),Zs(h,y),h.m&&h.o&&qr(y,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Qs(mt(y)),E.m=null,E.P=!0,Gi(E,h)}i.Za=function(){this.C!=null&&(this.C=null,Gr(this),El(this),Yt(19))};function Kr(h){h.C!=null&&(m.clearTimeout(h.C),h.C=null)}function bc(h,y){var E=null;if(h.g==y){Kr(h),bl(h),h.g=null;var S=2}else if(Lr(h.h,y))E=y.D,Gn(h.h,y),S=1;else return;if(h.G!=0){if(y.o)if(S==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var z=h.B;S=ka(),Ut(S,new ol(S,E)),Ha(h)}else vc(h);else if(z=y.s,z==3||z==0&&0<y.X||!(S==1&&uf(h,y)||S==2&&El(h)))switch(E&&0<E.length&&(y=h.h,y.i=y.i.concat(E)),z){case 1:Xi(h,5);break;case 4:Xi(h,10);break;case 3:Xi(h,6);break;default:Xi(h,2)}}}function Tc(h,y){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*y}function Xi(h,y){if(h.j.info("Error code "+y),y==2){var E=A(h.fb,h),S=h.Xa;const z=!S;S=new $i(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||jr(S,"https"),Qs(S),z?gl(S.toString(),E):fc(S.toString(),E)}else Yt(2);h.G=0,h.l&&h.l.sa(y),Tl(h),yc(h)}i.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function Tl(h){if(h.G=0,h.ka=[],h.l){const y=dn(h.h);(y.length!=0||h.i.length!=0)&&(L(h.ka,y),L(h.ka,h.i),h.h.i.length=0,q(h.i),h.i.length=0),h.l.ra()}}function wc(h,y,E){var S=E instanceof $i?mt(E):new $i(E);if(S.g!="")y&&(S.g=y+"."+S.g),$s(S,S.s);else{var z=m.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var $=new $i(null);S&&jr($,S),y&&($.g=y),z&&$s($,z),E&&($.l=E),S=$}return E=h.D,y=h.ya,E&&y&&qe(S,E,y),qe(S,"VER",h.la),Zs(h,S),S}function Ac(h,y,E){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new rt(new Ti({eb:E})):new rt(h.pa),y.Ha(h.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sc(){}i=Sc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ga(){}Ga.prototype.g=function(h,y){return new mn(h,y)};function mn(h,y){Ot.call(this),this.g=new gc(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!ne(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ne(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new $r(this)}O(mn,Ot),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){_l(this.g)},mn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Fn(h),h=E);y.i.push(new rf(y.Ya++,h)),y.G==3&&Ha(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,mn.aa.N.call(this)};function Rc(h){Nr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}O(Rc,Nr);function Ic(){ri.call(this),this.status=1}O(Ic,ri);function $r(h){this.g=h}O($r,Sc),$r.prototype.ua=function(){Ut(this.g,"a")},$r.prototype.ta=function(h){Ut(this.g,new Rc(h))},$r.prototype.sa=function(h){Ut(this.g,new Ic)},$r.prototype.ra=function(){Ut(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,pT=function(){return new Ga},mT=function(){return ka()},fT=Hn,Mp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ft.NO_ERROR=0,ft.TIMEOUT=8,ft.HTTP_ERROR=6,qh=ft,Xt.COMPLETE="complete",dT=Xt,Hs.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,cu=Hs,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,hT=rt}).apply(typeof Oh<"u"?Oh:typeof self<"u"?self:typeof window<"u"?window:{});const rE="@firebase/firestore",sE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new hg("@firebase/firestore");function bo(){return Ta.logLevel}function ue(i,...e){if(Ta.logLevel<=Me.DEBUG){const t=e.map(mg);Ta.debug(`Firestore (${Go}): ${i}`,...t)}}function Pi(i,...e){if(Ta.logLevel<=Me.ERROR){const t=e.map(mg);Ta.error(`Firestore (${Go}): ${i}`,...t)}}function Vi(i,...e){if(Ta.logLevel<=Me.WARN){const t=e.map(mg);Ta.warn(`Firestore (${Go}): ${i}`,...t)}}function mg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,gT(i,s,t)}function gT(i,e,t){let s=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Pi(s),new Error(s)}function Ke(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||gT(e,o,s)}function Te(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends ji{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _T{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ln.UNAUTHENTICATED)))}shutdown(){}}class Zx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class eC{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ti,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ti)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new yT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class tC{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nC{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new tC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class aE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new aE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new aE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=rC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ne(i,e){return i<e?-1:i>e?1:0}function Lp(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ne(s,o);{const u=vT(),c=sC(u.encode(oE(i,t)),u.encode(oE(e,t)));return c!==0?c:Ne(s,o)}}t+=s>65535?2:1}return Ne(i.length,e.length)}function oE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function sC(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Ne(i[t],e[t]);return Ne(i.length,e.length)}function Oo(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="__name__";class xi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ee(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=xi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ne(e.length,t.length)}static compareSegments(e,t){const s=xi.isNumericId(e),o=xi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?xi.extractNumericId(e).compare(xi.extractNumericId(t)):Lp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return As.fromString(e.substring(4,e.length-2))}}class et extends xi{construct(e,t,s){return new et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new et(t)}static emptyPath(){return new et([])}}const aC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends xi{construct(e,t,s){return new Ht(e,t,s)}static isValidIdentifier(e){return aC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lE}static keyField(){return new Ht([lE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new se(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new se(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new se(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(u(),o++)}if(u(),c)throw new se(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(t)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(et.fromString(e))}static fromName(e){return new ge(et.fromString(e).popFirst(5))}static empty(){return new ge(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(i,e,t){if(!t)throw new se(Q.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ET(i,e,t,s){if(e===!0&&s===!0)throw new se(Q.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function uE(i){if(!ge.isDocumentKey(i))throw new se(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function cE(i){if(ge.isDocumentKey(i))throw new se(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function bT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Ad(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function Dt(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new se(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ad(i);throw new se(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function TT(i,e){if(e<=0)throw new se(Q.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Bu(i,e){if(!bT(i))throw new se(Q.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new se(Q.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=-62135596800,dE=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*dE);return new nt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hE)throw new se(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dE}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bu(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Nt("string",nt._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new nt(0,0))}static max(){return new we(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=-1;function oC(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new nt(t+1,0):new nt(t,s));return new Ns(o,ge.empty(),e)}function lC(i){return new Ns(i.readTime,i.key,Ru)}class Ns{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ns(we.min(),ge.empty(),Ru)}static max(){return new Ns(we.max(),ge.empty(),Ru)}}function uC(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(i.documentKey,e.documentKey),t!==0?t:Ne(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(i){if(i.code!==Q.FAILED_PRECONDITION||i.message!==cC)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.reject(t)}static resolve(e){return new Z(((t,s)=>{t(e)}))}static reject(e){return new Z(((t,s)=>{s(e)}))}static waitFor(e){return new Z(((t,s)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&t()}),(p=>s(p)))})),c=!0,u===o&&t()}))}static or(e){let t=Z.resolve(!1);for(const s of e)t=t.next((o=>o?Z.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new Z(((s,o)=>{const u=e.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next((v=>{c[g]=v,++m,m===u&&s(c)}),(v=>o(v)))}}))}static doWhile(e,t){return new Z(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="SimpleDb";class gg{static open(e,t,s,o){try{return new gg(t,e.transaction(o,s))}catch(u){throw new pu(t,u)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new ti,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new pu(e,t.error)):this.S.resolve()},this.transaction.onerror=s=>{const o=yg(s.target.error);this.S.reject(new pu(e,o))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ue(jn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new fC(t)}}class va{static delete(e){return ue(jn,"Removing database:",e),ya(Zb().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!rT())return!1;if(va.F())return!0;const e=kt(),t=va.M(e),s=0<t&&t<10,o=wT(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||u)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}constructor(e,t,s){this.name=e,this.version=t,this.B=s,this.L=null,va.M(kt())===12.2&&Pi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(ue(jn,"Opening database:",this.name),this.db=await new Promise(((t,s)=>{const o=indexedDB.open(this.name,this.version);o.onsuccess=u=>{const c=u.target.result;t(c)},o.onblocked=()=>{s(new pu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const c=u.target.error;c.name==="VersionError"?s(new se(Q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?s(new se(Q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):s(new pu(e,c))},o.onupgradeneeded=u=>{ue(jn,'Database "'+this.name+'" requires upgrade from version:',u.oldVersion);const c=u.target.result;if(this.L!==null&&this.L!==u.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${u.oldVersion}, event.newVersion=${u.newVersion}, db.version=${c.version}`);this.B.q(c,o.transaction,u.oldVersion,this.version).next((()=>{ue(jn,"Database upgrade to version "+this.version+" complete")}))}})),this.db.addEventListener("close",(t=>{const s=t.target;this.L=s.version}),{passive:!0})),this.db.addEventListener("versionchange",(t=>{var s;t.newVersion===null&&(Vi('Received "versionchange" event with newVersion===null; notifying the registered DatabaseDeletedListener, if any'),(s=this.databaseDeletedListener)===null||s===void 0||s.call(this))}),{passive:!0}),this.db}setDatabaseDeletedListener(e){if(this.databaseDeletedListener)throw new Error("setDatabaseDeletedListener() may only be called once, and it has already been called");this.databaseDeletedListener=e}async runTransaction(e,t,s,o){const u=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.k(e);const m=gg.open(this.db,e,u?"readonly":"readwrite",s),p=o(m).next((g=>(m.v(),g))).catch((g=>(m.abort(g),Z.reject(g)))).toPromise();return p.catch((()=>{})),await m.D,p}catch(m){const p=m,g=p.name!=="FirebaseError"&&c<3;if(ue(jn,"Transaction failed with error:",p.message,"Retrying:",g),this.close(),!g)return Promise.reject(p)}}}close(){this.db&&this.db.close(),this.db=void 0}}function wT(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class dC{constructor(e){this.$=e,this.U=!1,this.K=null}get isDone(){return this.U}get W(){return this.K}set cursor(e){this.$=e}done(){this.U=!0}G(e){this.K=e}delete(){return ya(this.$.delete())}}class pu extends se{constructor(e,t){super(Q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function $o(i){return i.name==="IndexedDbTransactionError"}class fC{constructor(e){this.store=e}put(e,t){let s;return t!==void 0?(ue(jn,"PUT",this.store.name,e,t),s=this.store.put(t,e)):(ue(jn,"PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ya(s)}add(e){return ue(jn,"ADD",this.store.name,e,e),ya(this.store.add(e))}get(e){return ya(this.store.get(e)).next((t=>(t===void 0&&(t=null),ue(jn,"GET",this.store.name,e,t),t)))}delete(e){return ue(jn,"DELETE",this.store.name,e),ya(this.store.delete(e))}count(){return ue(jn,"COUNT",this.store.name),ya(this.store.count())}j(e,t){const s=this.options(e,t),o=s.index?this.store.index(s.index):this.store;if(typeof o.getAll=="function"){const u=o.getAll(s.range);return new Z(((c,m)=>{u.onerror=p=>{m(p.target.error)},u.onsuccess=p=>{c(p.target.result)}}))}{const u=this.cursor(s),c=[];return this.J(u,((m,p)=>{c.push(p)})).next((()=>c))}}H(e,t){const s=this.store.getAll(e,t===null?void 0:t);return new Z(((o,u)=>{s.onerror=c=>{u(c.target.error)},s.onsuccess=c=>{o(c.target.result)}}))}Y(e,t){ue(jn,"DELETE ALL",this.store.name);const s=this.options(e,t);s.Z=!1;const o=this.cursor(s);return this.J(o,((u,c,m)=>m.delete()))}X(e,t){let s;t?s=e:(s={},t=e);const o=this.cursor(s);return this.J(o,t)}ee(e){const t=this.cursor({});return new Z(((s,o)=>{t.onerror=u=>{const c=yg(u.target.error);o(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next((m=>{m?c.continue():s()})):s()}}))}J(e,t){const s=[];return new Z(((o,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const m=c.target.result;if(!m)return void o();const p=new dC(m),g=t(m.primaryKey,m.value,p);if(g instanceof Z){const v=g.catch((T=>(p.done(),Z.reject(T))));s.push(v)}p.isDone?o():p.W===null?m.continue():m.continue(p.W)}})).next((()=>Z.waitFor(s)))}options(e,t){let s;return e!==void 0&&(typeof e=="string"?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Z?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ya(i){return new Z(((e,t)=>{i.onsuccess=s=>{const o=s.target.result;e(o)},i.onerror=s=>{const o=yg(s.target.error);t(o)}}))}let fE=!1;function yg(i){const e=va.M(kt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fE||(fE=!0,setTimeout((()=>{throw s}),0)),s}}return i}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Sd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=-1;function Rd(i){return i==null}function ed(i){return i===0&&1/i==-1/0}function mC(i){return typeof i=="number"&&Number.isInteger(i)&&!ed(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="";function pC(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=mE(e)),e=gC(i.get(t),e);return mE(e)}function gC(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case AT:t+="";break;default:t+=u}}return t}function mE(i){return i+AT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ls(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function yC(i,e){const t=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.push(e(i[s],s,i));return t}function ST(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ph(this.root,e,this.comparator,!0)}}class Ph{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??tn.RED,this.left=o??tn.EMPTY,this.right=u??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new tn(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gE(this.data.getIterator())}getIteratorFrom(e){return new gE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class gE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Bn([])}unionWith(e){let t=new Vt(Ht.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new RT("Invalid base64 string: "+u):u}})(e);return new Gt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const _C=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const t=_C.exec(i);if(Ke(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Os(i){return typeof i=="string"?Gt.fromBase64String(i):Gt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="server_timestamp",xT="__type__",CT="__previous_value__",NT="__local_write_time__";function Id(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[xT])===null||t===void 0?void 0:t.stringValue)===IT}function xd(i){const e=i.mapValue.fields[CT];return Id(e)?xd(e):e}function Iu(i){const e=Ds(i.mapValue.fields[NT].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,t,s,o,u,c,m,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const xu="(default)";class Po{constructor(e,t){this.projectId=e,this.database=t||xu}static empty(){return new Po("","")}get isDefaultDatabase(){return this.database===xu}isEqual(e){return e instanceof Po&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="__type__",EC="__max__",Vh={mapValue:{}},OT="__vector__",td="value";function Ps(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Id(i)?4:TC(i)?9007199254740991:bC(i)?10:11:Ee(28295,{value:i})}function ki(i,e){if(i===e)return!0;const t=Ps(i);if(t!==Ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Iu(i).isEqual(Iu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Ds(o.timestampValue),m=Ds(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Os(o.bytesValue).isEqual(Os(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Et(o.doubleValue),m=Et(u.doubleValue);return c===m?ed(c)===ed(m):isNaN(c)&&isNaN(m)}return!1})(i,e);case 9:return Oo(i.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(pE(c)!==pE(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!ki(c[p],m[p])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function Cu(i,e){return(i.values||[]).find((t=>ki(t,e)))!==void 0}function Vo(i,e){if(i===e)return 0;const t=Ps(i),s=Ps(e);if(t!==s)return Ne(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(i.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=Et(u.integerValue||u.doubleValue),p=Et(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return yE(i.timestampValue,e.timestampValue);case 4:return yE(Iu(i),Iu(e));case 5:return Lp(i.stringValue,e.stringValue);case 6:return(function(u,c){const m=Os(u),p=Os(c);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ne(m[g],p[g]);if(v!==0)return v}return Ne(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=Ne(Et(u.latitude),Et(c.latitude));return m!==0?m:Ne(Et(u.longitude),Et(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return _E(i.arrayValue,e.arrayValue);case 10:return(function(u,c){var m,p,g,v;const T=u.fields||{},A=c.fields||{},C=(m=T[td])===null||m===void 0?void 0:m.arrayValue,O=(p=A[td])===null||p===void 0?void 0:p.arrayValue,q=Ne(((g=C?.values)===null||g===void 0?void 0:g.length)||0,((v=O?.values)===null||v===void 0?void 0:v.length)||0);return q!==0?q:_E(C,O)})(i.mapValue,e.mapValue);case 11:return(function(u,c){if(u===Vh.mapValue&&c===Vh.mapValue)return 0;if(u===Vh.mapValue)return 1;if(c===Vh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const A=Lp(p[T],v[T]);if(A!==0)return A;const C=Vo(m[p[T]],g[v[T]]);if(C!==0)return C}return Ne(p.length,v.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{le:t})}}function yE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ne(i,e);const t=Ds(i),s=Ds(e),o=Ne(t.seconds,s.seconds);return o!==0?o:Ne(t.nanos,s.nanos)}function _E(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Vo(t[o],s[o]);if(u)return u}return Ne(t.length,s.length)}function ko(i){return Up(i)}function Up(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=Ds(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Os(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ge.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Up(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${Up(t.fields[c])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function Fh(i){switch(Ps(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xd(i);return e?16+Fh(e):16;case 5:return 2*i.stringValue.length;case 6:return Os(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Fh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ls(s.fields,((u,c)=>{o+=u.length+Fh(c)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function nd(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function jp(i){return!!i&&"integerValue"in i}function vg(i){return!!i&&"arrayValue"in i}function vE(i){return!!i&&"nullValue"in i}function EE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Hh(i){return!!i&&"mapValue"in i}function bC(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[DT])===null||t===void 0?void 0:t.stringValue)===OT}function gu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ls(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=gu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function TC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===EC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Hh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gu(t)}setAll(e){let t=Ht.emptyPath(),s={},o=[];e.forEach(((c,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}c?s[m.lastSegment()]=gu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Hh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Hh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ls(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Rn(gu(this.value))}}function PT(i){const e=[];return Ls(i.fields,((t,s)=>{const o=new Ht([t]);if(Hh(s)){const u=PT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t,s,o,u,c,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new un(e,0,we.min(),we.min(),we.min(),Rn.empty(),0)}static newFoundDocument(e,t,s,o){return new un(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new un(e,2,t,we.min(),we.min(),Rn.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,we.min(),we.min(),Rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,t){this.position=e,this.inclusive=t}}function bE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],c=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(c.referenceValue),t.key):s=Vo(c,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function TE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ki(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,t="asc"){this.field=e,this.dir=t}}function wC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{}class Ct extends VT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new SC(e,t,s):t==="array-contains"?new xC(e,s):t==="in"?new CC(e,s):t==="not-in"?new NC(e,s):t==="array-contains-any"?new DC(e,s):new Ct(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new RC(e,s):new IC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Vo(t,this.value)):t!==null&&Ps(this.value)===Ps(t)&&this.matchesComparison(Vo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends VT{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new mi(e,t)}matches(e){return kT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function kT(i){return i.op==="and"}function MT(i){return AC(i)&&kT(i)}function AC(i){for(const e of i.filters)if(e instanceof mi)return!1;return!0}function zp(i){if(i instanceof Ct)return i.field.canonicalString()+i.op.toString()+ko(i.value);if(MT(i))return i.filters.map((e=>zp(e))).join(",");{const e=i.filters.map((t=>zp(t))).join(",");return`${i.op}(${e})`}}function LT(i,e){return i instanceof Ct?(function(s,o){return o instanceof Ct&&s.op===o.op&&s.field.isEqual(o.field)&&ki(s.value,o.value)})(i,e):i instanceof mi?(function(s,o){return o instanceof mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,m)=>u&&LT(c,o.filters[m])),!0):!1})(i,e):void Ee(19439)}function UT(i){return i instanceof Ct?(function(t){return`${t.field.canonicalString()} ${t.op} ${ko(t.value)}`})(i):i instanceof mi?(function(t){return t.op.toString()+" {"+t.getFilters().map(UT).join(" ,")+"}"})(i):"Filter"}class SC extends Ct{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class RC extends Ct{constructor(e,t){super(e,"in",t),this.keys=jT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class IC extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=jT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function jT(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((s=>ge.fromName(s.referenceValue)))}class xC extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vg(t)&&Cu(t.arrayValue,this.value)}}class CC extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Cu(this.value.arrayValue,t)}}class NC extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Cu(this.value.arrayValue,t)}}class DC extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Cu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,t=null,s=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Pe=null}}function wE(i,e=null,t=[],s=[],o=null,u=null,c=null){return new OC(i,e,t,s,o,u,c)}function Eg(i){const e=Te(i);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>zp(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Rd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>ko(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>ko(s))).join(",")),e.Pe=t}return e.Pe}function bg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!wC(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!LT(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!TE(i.startAt,e.startAt)&&TE(i.endAt,e.endAt)}function Bp(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,t=null,s=[],o=[],u=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function PC(i,e,t,s,o,u,c,m){return new Rr(i,e,t,s,o,u,c,m)}function Cd(i){return new Rr(i)}function AE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Tg(i){return i.collectionGroup!==null}function So(i){const e=Te(i);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Vt(Ht.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new Nu(u,s))})),t.has(Ht.keyField().canonicalString())||e.Te.push(new Nu(Ht.keyField(),s))}return e.Te}function Di(i){const e=Te(i);return e.Ie||(e.Ie=zT(e,So(i))),e.Ie}function VC(i){const e=Te(i);return e.de||(e.de=zT(e,i.explicitOrderBy)),e.de}function zT(i,e){if(i.limitType==="F")return wE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Nu(o.field,u)}));const t=i.endAt?new Mo(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Mo(i.startAt.position,i.startAt.inclusive):null;return wE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function qp(i,e){const t=i.filters.concat([e]);return new Rr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function id(i,e,t){return new Rr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Nd(i,e){return bg(Di(i),Di(e))&&i.limitType===e.limitType}function BT(i){return`${Eg(Di(i))}|lt:${i.limitType}`}function To(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>UT(o))).join(", ")}]`),Rd(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>ko(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>ko(o))).join(",")),`Target(${s})`})(Di(i))}; limitType=${i.limitType})`}function Dd(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of So(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(c,m,p){const g=bE(c,m,p);return c.inclusive?g<=0:g<0})(s.startAt,So(s),o)||s.endAt&&!(function(c,m,p){const g=bE(c,m,p);return c.inclusive?g>=0:g>0})(s.endAt,So(s),o))})(i,e)}function kC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function qT(i){return(e,t)=>{let s=!1;for(const o of So(i)){const u=MC(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function MC(i,e,t){const s=i.field.isKeyField()?ge.comparator(e.key,t.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Vo(p,g):Ee(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return ST(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new dt(ge.comparator);function wr(){return LC}const FT=new dt(ge.comparator);function hu(...i){let e=FT;for(const t of i)e=e.insert(t.key,t);return e}function HT(i){let e=FT;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function _a(){return yu()}function GT(){return yu()}function yu(){return new Ia((i=>i.toString()),((i,e)=>i.isEqual(e)))}const UC=new dt(ge.comparator),jC=new Vt(ge.comparator);function Le(...i){let e=jC;for(const t of i)e=e.add(t);return e}const zC=new Vt(Ne);function BC(){return zC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ed(e)?"-0":e}}function KT(i){return{integerValue:""+i}}function qC(i,e){return mC(e)?KT(e):wg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this._=void 0}}function FC(i,e,t){return i instanceof rd?(function(o,u){const c={fields:{[xT]:{stringValue:IT},[NT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Id(u)&&(u=xd(u)),u&&(c.fields[CT]=u),{mapValue:c}})(t,e):i instanceof Du?QT(i,e):i instanceof Ou?YT(i,e):(function(o,u){const c=$T(o,u),m=SE(c)+SE(o.Ee);return jp(c)&&jp(o.Ee)?KT(m):wg(o.serializer,m)})(i,e)}function HC(i,e,t){return i instanceof Du?QT(i,e):i instanceof Ou?YT(i,e):t}function $T(i,e){return i instanceof sd?(function(s){return jp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class rd extends Od{}class Du extends Od{constructor(e){super(),this.elements=e}}function QT(i,e){const t=XT(e);for(const s of i.elements)t.some((o=>ki(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Ou extends Od{constructor(e){super(),this.elements=e}}function YT(i,e){let t=XT(e);for(const s of i.elements)t=t.filter((o=>!ki(o,s)));return{arrayValue:{values:t}}}class sd extends Od{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function SE(i){return Et(i.integerValue||i.doubleValue)}function XT(i){return vg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function GC(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Du&&o instanceof Du||s instanceof Ou&&o instanceof Ou?Oo(s.elements,o.elements,ki):s instanceof sd&&o instanceof sd?ki(s.Ee,o.Ee):s instanceof rd&&o instanceof rd})(i.transform,e.transform)}class KC{constructor(e,t){this.version=e,this.transformResults=t}}class gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gn}static exists(e){return new gn(void 0,e)}static updateTime(e){return new gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Pd{}function WT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Vd(i.key,gn.none()):new qu(i.key,i.data,gn.none());{const t=i.data,s=Rn.empty();let o=new Vt(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let c=t.field(u);c===null&&u.length>1&&(u=u.popLast(),c=t.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new Us(i.key,s,new Bn(o.toArray()),gn.none())}}function $C(i,e,t){i instanceof qu?(function(o,u,c){const m=o.value.clone(),p=IE(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,t):i instanceof Us?(function(o,u,c){if(!Gh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=IE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(JT(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,t):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function _u(i,e,t,s){return i instanceof qu?(function(u,c,m,p){if(!Gh(u.precondition,c))return m;const g=u.value.clone(),v=xE(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,t,s):i instanceof Us?(function(u,c,m,p){if(!Gh(u.precondition,c))return m;const g=xE(u.fieldTransforms,p,c),v=c.data;return v.setAll(JT(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,t,s):(function(u,c,m){return Gh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,e,t)}function QC(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=$T(s.transform,o||null);u!=null&&(t===null&&(t=Rn.empty()),t.set(s.field,u))}return t||null}function RE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Oo(s,o,((u,c)=>GC(u,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class qu extends Pd{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Us extends Pd{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function JT(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function IE(i,e,t){const s=new Map;Ke(i.length===t.length,32656,{Ae:t.length,Re:i.length});for(let o=0;o<t.length;o++){const u=i[o],c=u.transform,m=e.data.field(u.field);s.set(u.field,HC(c,m,t[o]))}return s}function xE(i,e,t){const s=new Map;for(const o of i){const u=o.transform,c=t.data.field(o.field);s.set(o.field,FC(u,c,e))}return s}class Vd extends Pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YC extends Pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&$C(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=_u(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=_u(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=GT();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=t.has(o.key)?null:m;const p=WT(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,((t,s)=>RE(t,s)))&&Oo(this.baseMutations,e.baseMutations,((t,s)=>RE(t,s)))}}class Ag{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ke(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=(function(){return UC})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new Ag(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Be;function eN(i){switch(i){case Q.OK:return Ee(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function ZT(i){if(i===void 0)return Pi("GRPC error has no .code"),Q.UNKNOWN;switch(i){case Rt.OK:return Q.OK;case Rt.CANCELLED:return Q.CANCELLED;case Rt.UNKNOWN:return Q.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return Q.INTERNAL;case Rt.UNAVAILABLE:return Q.UNAVAILABLE;case Rt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Rt.NOT_FOUND:return Q.NOT_FOUND;case Rt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Rt.ABORTED:return Q.ABORTED;case Rt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Rt.DATA_LOSS:return Q.DATA_LOSS;default:return Ee(39323,{code:i})}}(Be=Rt||(Rt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new As([4294967295,4294967295],0);function CE(i){const e=vT().encode(i),t=new cT;return t.update(e),new Uint8Array(t.digest())}function NE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new As([t,s],0),new As([o,u],0)]}class Sg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new du(`Invalid padding: ${t}`);if(s<0)throw new du(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new du(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new du(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=As.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(As.fromNumber(s)));return o.compare(tN)===1&&(o=new As([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=CE(e),[s,o]=NE(t);for(let u=0;u<this.hashCount;u++){const c=this.pe(s,o,u);if(!this.ye(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new Sg(u,o,t);return s.forEach((m=>c.insert(m))),c}insert(e){if(this.fe===0)return;const t=CE(e),[s,o]=NE(t);for(let u=0;u<this.hashCount;u++){const c=this.pe(s,o,u);this.we(c)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new kd(we.min(),o,new dt(Ne),wr(),Le())}}class Fu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Fu(s,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class ew{constructor(e,t){this.targetId=e,this.De=t}}class tw{constructor(e,t,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class DE{constructor(){this.ve=0,this.Ce=OE(),this.Fe=Gt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Le(),t=Le(),s=Le();return this.Ce.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new Fu(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=OE()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class nN{constructor(e){this.We=e,this.Ge=new Map,this.ze=wr(),this.je=kh(),this.Je=kh(),this.He=new dt(Ne)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((s,o)=>{this.nt(o)&&t(o)}))}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const u=o.target;if(Bp(u))if(s===0){const c=new ge(u.path);this.Xe(t,c,un.newNoDocument(c,we.min()))}else Ke(s===1,20013,{expectedCount:s});else{const c=this.ot(t);if(c!==s){const m=this._t(e),p=m?this.ut(m,e,c):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let c,m;try{c=Os(s).toUint8Array()}catch(p){if(p instanceof RT)return Vi("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Sg(c,o,u)}catch(p){return Vi(p instanceof du?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const c=this.We.lt(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,u,null),o++)})),o}Pt(e){const t=new Map;this.Ge.forEach(((u,c)=>{const m=this.st(c);if(m){if(u.current&&Bp(m.target)){const p=new ge(m.target.path);this.Tt(p).has(c)||this.It(c,p)||this.Xe(c,p,un.newNoDocument(p,e))}u.Ne&&(t.set(c,u.Le()),u.ke())}}));let s=Le();this.Je.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,c)=>c.setReadTime(e)));const o=new kd(e,t,this.He,this.ze,s);return this.ze=wr(),this.je=kh(),this.Je=kh(),this.He=new dt(Ne),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new DE,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Vt(Ne),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Vt(Ne),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new DE),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function kh(){return new dt(ge.comparator)}function OE(){return new dt(ge.comparator)}const iN={asc:"ASCENDING",desc:"DESCENDING"},rN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sN={and:"AND",or:"OR"};class aN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fp(i,e){return i.useProto3Json||Rd(e)?e:{value:e}}function ad(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function oN(i,e){return ad(i,e.toTimestamp())}function Oi(i){return Ke(!!i,49232),we.fromTimestamp((function(t){const s=Ds(t);return new nt(s.seconds,s.nanos)})(i))}function Rg(i,e){return Hp(i,e).canonicalString()}function Hp(i,e){const t=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function iw(i){const e=et.fromString(i);return Ke(uw(e),10190,{key:e.toString()}),e}function Gp(i,e){return Rg(i.databaseId,e.path)}function gp(i,e){const t=iw(e);if(t.get(1)!==i.databaseId.projectId)throw new se(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new se(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ge(sw(t))}function rw(i,e){return Rg(i.databaseId,e)}function lN(i){const e=iw(i);return e.length===4?et.emptyPath():sw(e)}function Kp(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function sw(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function PE(i,e,t){return{name:Gp(i,e),fields:t.value.mapValue.fields}}function uN(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Ke(v===void 0||typeof v=="string",58123),Gt.fromBase64String(v||"")):(Ke(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Gt.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?Q.UNKNOWN:ZT(g.code);return new se(v,g.message||"")})(c);t=new tw(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gp(i,s.document.name),u=Oi(s.document.updateTime),c=s.document.createTime?Oi(s.document.createTime):we.min(),m=new Rn({mapValue:{fields:s.document.fields}}),p=un.newFoundDocument(o,u,c,m),g=s.targetIds||[],v=s.removedTargetIds||[];t=new Kh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gp(i,s.document),u=s.readTime?Oi(s.readTime):we.min(),c=un.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Kh([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gp(i,s.document),u=s.removedTargetIds||[];t=new Kh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new ZC(o,u),m=s.targetId;t=new ew(m,c)}}return t}function cN(i,e){let t;if(e instanceof qu)t={update:PE(i,e.key,e.value)};else if(e instanceof Vd)t={delete:Gp(i,e.key)};else if(e instanceof Us)t={update:PE(i,e.key,e.data),updateMask:vN(e.fieldMask)};else{if(!(e instanceof YC))return Ee(16599,{Rt:e.type});t={verify:Gp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const m=c.transform;if(m instanceof rd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Du)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ou)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof sd)return{fieldPath:c.field.canonicalString(),increment:m.Ee};throw Ee(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:oN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(i,e.precondition)),t}function hN(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map((t=>(function(o,u){let c=o.updateTime?Oi(o.updateTime):Oi(u);return c.isEqual(we.min())&&(c=Oi(u)),new KC(c,o.transformResults||[])})(t,e)))):[]}function dN(i,e){return{documents:[rw(i,e.path)]}}function aw(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=rw(i,o);const u=(function(g){if(g.length!==0)return lw(mi.create(g,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(A){return{field:_s(A.field),direction:gN(A.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=Fp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{Vt:t,parent:o}}function fN(i,e,t,s){const{Vt:o,parent:u}=aw(i,e),c={},m=[];let p=0;return t.forEach((g=>{const v="aggregate_"+p++;c[v]=g.alias,g.aggregateType==="count"?m.push({alias:v,count:{}}):g.aggregateType==="avg"?m.push({alias:v,avg:{field:_s(g.fieldPath)}}):g.aggregateType==="sum"&&m.push({alias:v,sum:{field:_s(g.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:m,structuredQuery:o.structuredQuery},parent:o.parent},ft:c,parent:u}}function mN(i){let e=lN(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=(function(T){const A=ow(T);return A instanceof mi&&MT(A)?A.getFilters():[A]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((A=>(function(O){return new Nu(wo(O.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(A)))})(t.orderBy));let m=null;t.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,Rd(A)?null:A})(t.limit));let p=null;t.startAt&&(p=(function(T){const A=!!T.before,C=T.values||[];return new Mo(C,A)})(t.startAt));let g=null;return t.endAt&&(g=(function(T){const A=!T.before,C=T.values||[];return new Mo(C,A)})(t.endAt)),PC(e,o,c,u,m,"F",p,g)}function pN(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ow(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=wo(t.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=wo(t.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=wo(t.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=wo(t.unaryFilter.field);return Ct.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Ct.create(wo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return mi.create(t.compositeFilter.filters.map((s=>ow(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(t.compositeFilter.op))})(i):Ee(30097,{filter:i})}function gN(i){return iN[i]}function yN(i){return rN[i]}function _N(i){return sN[i]}function _s(i){return{fieldPath:i.canonicalString()}}function wo(i){return Ht.fromServerFormat(i.fieldPath)}function lw(i){return i instanceof Ct?(function(t){if(t.op==="=="){if(EE(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NAN"}};if(vE(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(EE(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NOT_NAN"}};if(vE(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(t.field),op:yN(t.op),value:t.value}}})(i):i instanceof mi?(function(t){const s=t.getFilters().map((o=>lw(o)));return s.length===1?s[0]:{compositeFilter:{op:_N(t.op),filters:s}}})(i):Ee(54877,{filter:i})}function vN(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function uw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t,s,o,u=we.min(),c=we.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.gt=e}}function bN(i){const e=mN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?id(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.Dn=new wN}addToCollectionParentIndex(e,t){return this.Dn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Ns.min())}updateCollectionGroup(e,t,s){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class wN{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Vt(et.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cw=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(cw,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Lo(0)}static ur(){return new Lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="LruGarbageCollector",hw=1048576;function ME([i,e],[t,s]){const o=Ne(i,t);return o===0?Ne(e,s):o}class AN{constructor(e){this.Tr=e,this.buffer=new Vt(ME),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();ME(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class SN{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ue(kE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){$o(t)?ue(kE,"Ignoring IndexedDB error during garbage collection: ",t):await Ko(t)}await this.Rr(3e5)}))}}class RN{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Sd.ue);const s=new AN(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(VE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VE):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,t)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),bo()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function IN(i,e){return new RN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.changes=new Ia((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Z.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&_u(s.mutation,o,Bn.empty(),nt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Le()){const o=_a();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let c=hu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=_a();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Le())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{t.set(c,m)}))}))}computeViews(e,t,s,o){let u=wr();const c=yu(),m=(function(){return yu()})();return t.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Us)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),_u(v.mutation,g,v.mutation.getFieldMask(),nt.now())):c.set(g.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>{var T;return m.set(g,new CN(v,(T=c.get(g))!==null&&T!==void 0?T:null))})),m)))}recalculateAndSaveOverlays(e,t){const s=yu();let o=new dt(((c,m)=>c-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||Bn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const T=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=GT();v.forEach((A=>{if(!u.has(A)){const C=WT(t.get(A),s.get(A));C!==null&&T.set(A,C),u=u.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return Z.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(c){return ge.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Tg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):Z.resolve(_a());let m=Ru,p=u;return c.next((g=>Z.forEach(g,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?Z.resolve():this.remoteDocumentCache.getEntry(e,v).next((A=>{p=p.insert(v,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Le()))).next((v=>({batchId:m,changes:HT(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next((s=>{let o=hu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let c=hu();return this.indexManager.getCollectionParents(e,u).next((m=>Z.forEach(m,(p=>{const g=(function(T,A){return new Rr(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((T,A)=>{c=c.insert(T,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,un.newInvalidDocument(v)))}));let m=hu();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&_u(v.mutation,g,Bn.empty(),nt.now()),Dd(t,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Z.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(o){return{name:o.name,query:bN(o.bundledQuery),readTime:Oi(o.readTime)}})(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.overlays=new dt(ge.comparator),this.kr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const s=_a();return Z.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.wt(e,t,u)})),Z.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),Z.resolve()}getOverlaysForCollection(e,t,s){const o=_a(),u=t.length+1,c=new ge(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new dt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=_a(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=_a(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return Z.resolve(m)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new WC(t,s));let u=this.kr.get(t);u===void 0&&(u=Le(),this.kr.set(t,u)),this.kr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(){this.qr=new Vt(Ft.Qr),this.$r=new Vt(Ft.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new Ft(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new Ft(e,t))}Gr(e,t){e.forEach((s=>this.removeReference(s,t)))}zr(e){const t=new ge(new et([])),s=new Ft(t,e),o=new Ft(t,e+1),u=[];return this.$r.forEachInRange([s,o],(c=>{this.Wr(c),u.push(c.key)})),u}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ge(new et([])),s=new Ft(t,e),o=new Ft(t,e+1);let u=Le();return this.$r.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const t=new Ft(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ft{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ge.comparator(e.key,t.key)||Ne(e.Hr,t.Hr)}static Ur(e,t){return Ne(e.Hr,t.Hr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Vt(Ft.Qr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new XC(u,t,s,o);this.mutationQueue.push(c);for(const m of o)this.Yr=this.Yr.add(new Ft(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(c)}lookupMutationBatch(e,t){return Z.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?_g:this.er-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ft(t,0),o=new Ft(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(c=>{const m=this.Zr(c.Hr);u.push(m)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Vt(Ne);return t.forEach((o=>{const u=new Ft(o,0),c=new Ft(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,c],(m=>{s=s.add(m.Hr)}))})),Z.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const c=new Ft(new ge(u),0);let m=new Vt(Ne);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),c),Z.resolve(this.ei(m))}ei(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ke(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return Z.forEach(t.mutations,(o=>{const u=new Ft(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,t){const s=new Ft(t,0),o=this.Yr.firstAfterOrEqual(s);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.ni=e,this.docs=(function(){return new dt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,c=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Z.resolve(s?s.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let s=wr();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():un.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=wr();const c=t.path,m=new ge(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||uC(lC(v),s)<=0||(o.has(v.key)||Dd(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ee(9500)}ri(e,t){return Z.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new MN(this)}getSize(e){return Z.resolve(this.size)}}class MN extends xN{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)})),Z.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.persistence=e,this.ii=new Ia((t=>Eg(t)),bg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.si=0,this.oi=new Ig,this.targetCount=0,this._i=Lo.ar()}forEachTarget(e,t){return this.ii.forEach(((s,o)=>t(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),Z.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Lo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.hr(t),Z.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ii.forEach(((c,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ii.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return Z.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),Z.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return Z.resolve(s)}containsKey(e,t){return Z.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t){this.ai={},this.overlays={},this.ui=new Sd(0),this.ci=!1,this.ci=!0,this.li=new PN,this.referenceDelegate=e(this),this.hi=new LN(this),this.indexManager=new TN,this.remoteDocumentCache=(function(o){return new kN(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new EN(t),this.Ti=new DN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ON,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new VN(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new UN(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,t){return Z.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,t))))}}class UN extends hC{constructor(e){super(),this.currentSequenceNumber=e}}class xg{constructor(e){this.persistence=e,this.Ai=new Ig,this.Ri=null}static Vi(e){return new xg(e)}get mi(){if(this.Ri)return this.Ri;throw Ee(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),Z.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.mi,(s=>{const o=ge.fromPath(s);return this.fi(e,o).next((u=>{u||t.removeEntry(o,we.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return Z.or([()=>Z.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class od{constructor(e,t){this.persistence=e,this.gi=new Ia((s=>pC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=IN(this,t)}static Vi(e,t){return new od(e,t)}Ii(){}di(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}yr(e){let t=0;return this.gr(e,(s=>{t++})).next((()=>t))}gr(e,t){return Z.forEach(this.gi,((s,o)=>this.Sr(e,s,o).next((u=>u?Z.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,(c=>this.Sr(e,c,t).next((m=>{m||(s++,u.removeEntry(c,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Z.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fh(e.data.value)),t}Sr(e,t,s){return Z.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}const jN="main";function zN(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=Le(),o=Le();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return MI()?8:wT(kt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ps(e,t).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ys(e,t,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new BN;return this.ws(e,t,c).next((m=>{if(u.result=m,this.Rs)return this.Ss(e,t,c,m.size)}))})).next((()=>u.result))}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(bo()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",To(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(bo()<=Me.DEBUG&&ue("QueryEngine","Query:",To(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(bo()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",To(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(t))):Z.resolve())}ps(e,t){if(AE(t))return Z.resolve(null);let s=Di(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=id(t,null,"F"),s=Di(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=Le(...u);return this.gs.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(t,m);return this.Ds(t,g,c,p.readTime)?this.ps(e,id(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ys(e,t,s,o){return AE(t)||o.isEqual(we.min())?Z.resolve(null):this.gs.getDocuments(e,s).next((u=>{const c=this.bs(t,u);return this.Ds(t,c,s,o)?Z.resolve(null):(bo()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),To(t)),this.vs(e,c,t,oC(o,Ru)).next((m=>m)))}))}bs(e,t){let s=new Vt(qT(e));return t.forEach(((o,u)=>{Dd(e,u)&&(s=s.add(u))})),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,s){return bo()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",To(t)),this.gs.getDocumentsMatchingQuery(e,t,Ns.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="LocalStore",FN=3e8;class HN{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new dt(Ne),this.Ms=new Ia((u=>Eg(u)),bg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function GN(i,e,t,s){return new HN(i,e,t,s)}async function fw(i,e){const t=Te(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],m=[];let p=Le();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next((g=>({Bs:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function KN(i,e){const t=Te(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const T=g.batch,A=T.keys();let C=Z.resolve();return A.forEach((O=>{C=C.next((()=>v.getEntry(p,O))).next((q=>{const L=g.docVersions.get(O);Ke(L!==null,48541),q.version.compareTo(L)<0&&(T.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),v.addEntry(q)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function mw(i){const e=Te(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function $N(i,e){const t=Te(i),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const m=[];e.targetChanges.forEach(((v,T)=>{const A=o.get(T);if(!A)return;m.push(t.hi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>t.hi.addMatchingKeys(u,v.addedDocuments,T))));let C=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(Gt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,s)),o=o.insert(T,C),(function(q,L,Y){return q.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=FN?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(A,C,v)&&m.push(t.hi.updateTargetData(u,C))}));let p=wr(),g=Le();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(QN(u,c,e.documentUpdates).next((v=>{p=v.Ls,g=v.ks}))),!s.isEqual(we.min())){const v=t.hi.getLastRemoteSnapshotVersion(u).next((T=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return Z.waitFor(m).next((()=>c.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(t.Fs=o,u)))}function QN(i,e,t){let s=Le(),o=Le();return t.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let c=wr();return t.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):ue(Ng,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ls:c,ks:o}}))}function YN(i,e){const t=Te(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=_g),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function XN(i,e){const t=Te(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.hi.getTargetData(s,e).next((u=>u?(o=u,Z.resolve(o)):t.hi.allocateTargetId(s).next((c=>(o=new vs(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s}))}async function $p(i,e,t){const s=Te(i),o=s.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!$o(c))throw c;ue(Ng,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function LE(i,e,t){const s=Te(i);let o=we.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const T=Te(p),A=T.Ms.get(v);return A!==void 0?Z.resolve(T.Fs.get(A)):T.hi.getTargetData(g,v)})(s,c,Di(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,e,t?o:we.min(),t?u:Le()))).next((m=>(WN(s,kC(e),m),{documents:m,qs:u})))))}function WN(i,e,t){let s=i.xs.get(e)||we.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.xs.set(e,s)}class UE{constructor(){this.activeTargetIds=BC()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JN{constructor(){this.Fo=new UE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new UE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="ConnectivityMonitor";class zE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ue(jE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ue(jE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh=null;function Qp(){return Mh===null?Mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mh++,"0x"+Mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="RestConnection",e2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class t2{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===xu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const c=Qp(),m=this.Go(e,t.toUriEncodedString());ue(yp,`Sending RPC '${e}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),v=Ms(g);return this.jo(e,m,p,s,v).then((T=>(ue(yp,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Vi(yp,`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",s),T}))}Jo(e,t,s,o,u,c){return this.Wo(e,t,s,o,u)}zo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Go})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Go(e,t){const s=e2[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class i2 extends t2{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,u){const c=Qp();return new Promise(((m,p)=>{const g=new hT;g.setWithCredentials(!0),g.listenOnce(dT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case qh.NO_ERROR:const T=g.getResponseJson();ue(an,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),m(T);break;case qh.TIMEOUT:ue(an,`RPC '${e}' ${c} timed out`),p(new se(Q.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const A=g.getStatus();if(ue(an,`RPC '${e}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const O=C?.error;if(O&&O.status&&O.message){const q=(function(Y){const ne=Y.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(ne)>=0?ne:Q.UNKNOWN})(O.status);p(new se(q,O.message))}else p(new se(Q.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new se(Q.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{c_:e,streamId:c,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ue(an,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);ue(an,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",v,s,15)}))}P_(e,t,s){const o=Qp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=pT(),m=mT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ue(an,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=c.createWebChannel(v,p);this.T_(T);let A=!1,C=!1;const O=new n2({Ho:L=>{C?ue(an,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(ue(an,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),ue(an,`RPC '${e}' stream ${o} sending:`,L),T.send(L))},Yo:()=>T.close()}),q=(L,Y,ne)=>{L.listen(Y,(ie=>{try{ne(ie)}catch(me){setTimeout((()=>{throw me}),0)}}))};return q(T,cu.EventType.OPEN,(()=>{C||(ue(an,`RPC '${e}' stream ${o} transport opened.`),O.s_())})),q(T,cu.EventType.CLOSE,(()=>{C||(C=!0,ue(an,`RPC '${e}' stream ${o} transport closed`),O.__(),this.I_(T))})),q(T,cu.EventType.ERROR,(L=>{C||(C=!0,Vi(an,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),O.__(new se(Q.UNAVAILABLE,"The operation could not be completed")))})),q(T,cu.EventType.MESSAGE,(L=>{var Y;if(!C){const ne=L.data[0];Ke(!!ne,16349);const ie=ne,me=ie?.error||((Y=ie[0])===null||Y===void 0?void 0:Y.error);if(me){ue(an,`RPC '${e}' stream ${o} received error:`,me);const re=me.status;let pe=(function(I){const P=Rt[I];if(P!==void 0)return ZT(P)})(re),D=me.message;pe===void 0&&(pe=Q.INTERNAL,D="Unknown error status: "+re+" with message "+me.message),C=!0,O.__(new se(pe,D)),T.close()}else ue(an,`RPC '${e}' stream ${o} received:`,ne),O.a_(ne)}})),q(m,fT.STAT_EVENT,(L=>{L.stat===Mp.PROXY?ue(an,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Mp.NOPROXY&&ue(an,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{O.o_()}),0),O}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function _p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(i){return new aN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="PersistentStream";class gw{constructor(e,t,s,o,u,c,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new pw(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(Pi(t.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===t&&this.W_(s,o)}),(s=>{e((()=>{const o=new se(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return ue(BE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(ue(BE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class r2 extends gw{constructor(e,t,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=uN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?Oi(c.readTime):we.min()})(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=Kp(this.serializer),t.addTarget=(function(u,c){let m;const p=c.target;if(m=Bp(p)?{documents:dN(u,p)}:{query:aw(u,p).Vt},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=nw(u,c.resumeToken);const g=Fp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(we.min())>0){m.readTime=ad(u,c.snapshotVersion.toTimestamp());const g=Fp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=pN(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=Kp(this.serializer),t.removeTarget=e,this.k_(t)}}class s2 extends gw{constructor(e,t,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=hN(e.writeResults,e.commitTime),s=Oi(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=Kp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>cN(this.serializer,s)))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{}class o2 extends a2{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new se(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Wo(e,Hp(t,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new se(Q.UNKNOWN,u.toString())}))}Jo(e,t,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Jo(e,Hp(t,s),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new se(Q.UNKNOWN,c.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class l2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Pi(t),this._a=!1):ue("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class u2{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((c=>{s.enqueueAndForget((async()=>{xa(this)&&(ue(wa,"Restarting streams for network reachability change."),await(async function(p){const g=Te(p);g.Ia.add(4),await Qo(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Hu(g)})(this))}))})),this.Aa=new l2(s,o)}}async function Hu(i){if(xa(i))for(const e of i.da)await e(!0)}async function Qo(i){for(const e of i.da)await e(!1)}function yw(i,e){const t=Te(i);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Vg(t)?Pg(t):Yo(t).x_()&&Og(t,e))}function Dg(i,e){const t=Te(i),s=Yo(t);t.Ta.delete(e),s.x_()&&_w(t,e),t.Ta.size===0&&(s.x_()?s.B_():xa(t)&&t.Aa.set("Unknown"))}function Og(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yo(i).H_(e)}function _w(i,e){i.Ra.$e(e),Yo(i).Y_(e)}function Pg(i){i.Ra=new nN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),Yo(i).start(),i.Aa.aa()}function Vg(i){return xa(i)&&!Yo(i).M_()&&i.Ta.size>0}function xa(i){return Te(i).Ia.size===0}function vw(i){i.Ra=void 0}async function c2(i){i.Aa.set("Online")}async function h2(i){i.Ta.forEach(((e,t)=>{Og(i,e)}))}async function d2(i,e){vw(i),Vg(i)?(i.Aa.la(e),Pg(i)):i.Aa.set("Unknown")}async function f2(i,e,t){if(i.Aa.set("Online"),e instanceof tw&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ta.delete(m),o.Ra.removeTarget(m))})(i,e)}catch(s){ue(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ld(i,s)}else if(e instanceof Kh?i.Ra.Ye(e):e instanceof ew?i.Ra.it(e):i.Ra.et(e),!t.isEqual(we.min()))try{const s=await mw(i.localStore);t.compareTo(s)>=0&&await(function(u,c){const m=u.Ra.Pt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ta.get(g);v&&u.Ta.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ta.get(p);if(!v)return;u.Ta.set(p,v.withResumeToken(Gt.EMPTY_BYTE_STRING,v.snapshotVersion)),_w(u,p);const T=new vs(v.target,p,g,v.sequenceNumber);Og(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){ue(wa,"Failed to raise snapshot:",s),await ld(i,s)}}async function ld(i,e,t){if(!$o(e))throw e;i.Ia.add(1),await Qo(i),i.Aa.set("Offline"),t||(t=()=>mw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(wa,"Retrying IndexedDB access"),await t(),i.Ia.delete(1),await Hu(i)}))}function Ew(i,e){return e().catch((t=>ld(i,t,e)))}async function Ld(i){const e=Te(i),t=Vs(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:_g;for(;m2(e);)try{const o=await YN(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,p2(e,o)}catch(o){await ld(e,o)}bw(e)&&Tw(e)}function m2(i){return xa(i)&&i.Pa.length<10}function p2(i,e){i.Pa.push(e);const t=Vs(i);t.x_()&&t.Z_&&t.X_(e.mutations)}function bw(i){return xa(i)&&!Vs(i).M_()&&i.Pa.length>0}function Tw(i){Vs(i).start()}async function g2(i){Vs(i).na()}async function y2(i){const e=Vs(i);for(const t of i.Pa)e.X_(t.mutations)}async function _2(i,e,t){const s=i.Pa.shift(),o=Ag.from(s,e,t);await Ew(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Ld(i)}async function v2(i,e){e&&Vs(i).Z_&&await(async function(s,o){if((function(c){return eN(c)&&c!==Q.ABORTED})(o.code)){const u=s.Pa.shift();Vs(s).N_(),await Ew(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ld(s)}})(i,e),bw(i)&&Tw(i)}async function qE(i,e){const t=Te(i);t.asyncQueue.verifyOperationInProgress(),ue(wa,"RemoteStore received new credentials");const s=xa(t);t.Ia.add(3),await Qo(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Hu(t)}async function E2(i,e){const t=Te(i);e?(t.Ia.delete(2),await Hu(t)):e||(t.Ia.add(2),await Qo(t),t.Aa.set("Unknown"))}function Yo(i){return i.Va||(i.Va=(function(t,s,o){const u=Te(t);return u.ia(),new r2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:c2.bind(null,i),e_:h2.bind(null,i),n_:d2.bind(null,i),J_:f2.bind(null,i)}),i.da.push((async e=>{e?(i.Va.N_(),Vg(i)?Pg(i):i.Aa.set("Unknown")):(await i.Va.stop(),vw(i))}))),i.Va}function Vs(i){return i.ma||(i.ma=(function(t,s,o){const u=Te(t);return u.ia(),new s2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:g2.bind(null,i),n_:v2.bind(null,i),ea:y2.bind(null,i),ta:_2.bind(null,i)}),i.da.push((async e=>{e?(i.ma.N_(),await Ld(i)):(await i.ma.stop(),i.Pa.length>0&&(ue(wa,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))}))),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const c=Date.now()+s,m=new kg(e,t,c,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mg(i,e){if(Pi("AsyncQueue",`${e}: ${i}`),$o(i))return new se(Q.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=hu(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.fa=new dt(ge.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ee(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Uo{constructor(e,t,s,o,u,c,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const c=[];return t.forEach((m=>{c.push({type:0,doc:m})})),new Uo(e,t,Ro.emptySet(t),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class T2{constructor(){this.queries=HE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Te(t),u=o.queries;o.queries=HE(),u.forEach(((c,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new se(Q.ABORTED,"Firestore shutting down"))}}function HE(){return new Ia((i=>BT(i)),Nd)}async function Lg(i,e){const t=Te(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new b2,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const m=Mg(c,`Initialization of query '${To(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&jg(t)}async function Ug(i,e){const t=Te(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const c=u.wa.indexOf(e);c>=0&&(u.wa.splice(c,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function w2(i,e){const t=Te(i);let s=!1;for(const o of e){const u=o.query,c=t.queries.get(u);if(c){for(const m of c.wa)m.Ca(o)&&(s=!0);c.ya=o}}s&&jg(t)}function A2(i,e,t){const s=Te(i),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(t);s.queries.delete(e)}function jg(i){i.Da.forEach((e=>{e.next()}))}var Yp,GE;(GE=Yp||(Yp={})).Fa="default",GE.Cache="cache";class zg{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.key=e}}class Aw{constructor(e){this.key=e}}class S2{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Le(),this.mutatedKeys=Le(),this.Xa=qT(e),this.eu=new Ro(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new FE,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,T)=>{const A=o.get(v),C=Dd(this.query,T)?T:null,O=!!A&&this.mutatedKeys.has(A.key),q=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let L=!1;A&&C?A.data.isEqual(C.data)?O!==q&&(s.track({type:3,doc:C}),L=!0):this.iu(A,C)||(s.track({type:2,doc:C}),L=!0,(p&&this.Xa(C,p)>0||g&&this.Xa(C,g)<0)&&(m=!0)):!A&&C?(s.track({type:0,doc:C}),L=!0):A&&!C&&(s.track({type:1,doc:A}),L=!0,(p||g)&&(m=!0)),L&&(C?(c=c.add(C),u=q?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{eu:c,ru:s,Ds:m,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort(((v,T)=>(function(C,O){const q=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{At:L})}};return q(C)-q(O)})(v.type,T.type)||this.Xa(v.doc,T.doc))),this.su(s),o=o!=null&&o;const m=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,c.length!==0||g?{snapshot:new Uo(this.query,e.eu,u,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new FE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Le(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const t=[];return e.forEach((s=>{this.Za.has(s)||t.push(new Aw(s))})),this.Za.forEach((s=>{e.has(s)||t.push(new ww(s))})),t}uu(e){this.Ha=e.qs,this.Za=Le();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Uo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Bg="SyncEngine";class R2{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class I2{constructor(e){this.key=e,this.lu=!1}}class x2{constructor(e,t,s,o,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new Ia((m=>BT(m)),Nd),this.Tu=new Map,this.Iu=new Set,this.du=new dt(ge.comparator),this.Eu=new Map,this.Au=new Ig,this.Ru={},this.Vu=new Map,this.mu=Lo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function C2(i,e,t=!0){const s=Nw(i);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await Sw(s,e,t,!0),o}async function N2(i,e){const t=Nw(i);await Sw(t,e,!0,!1)}async function Sw(i,e,t,s){const o=await XN(i.localStore,Di(e)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await D2(i,e,u,c==="current",o.resumeToken)),i.isPrimaryClient&&t&&yw(i.remoteStore,o),m}async function D2(i,e,t,s,o){i.gu=(T,A,C)=>(async function(q,L,Y,ne){let ie=L.view.nu(Y);ie.Ds&&(ie=await LE(q.localStore,L.query,!1).then((({documents:D})=>L.view.nu(D,ie))));const me=ne&&ne.targetChanges.get(L.targetId),re=ne&&ne.targetMismatches.get(L.targetId)!=null,pe=L.view.applyChanges(ie,q.isPrimaryClient,me,re);return $E(q,L.targetId,pe._u),pe.snapshot})(i,T,A,C);const u=await LE(i.localStore,e,!0),c=new S2(e,u.qs),m=c.nu(u.documents),p=Fu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);$E(i,t,g._u);const v=new R2(e,t,c);return i.Pu.set(e,v),i.Tu.has(t)?i.Tu.get(t).push(e):i.Tu.set(t,[e]),g.snapshot}async function O2(i,e,t){const s=Te(i),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((c=>!Nd(c,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $p(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Dg(s.remoteStore,o.targetId),Xp(s,o.targetId)})).catch(Ko)):(Xp(s,o.targetId),await $p(s.localStore,o.targetId,!0))}async function P2(i,e){const t=Te(i),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Dg(t.remoteStore,s.targetId))}async function V2(i,e,t){const s=B2(i);try{const o=await(function(c,m){const p=Te(c),g=nt.now(),v=m.reduce(((C,O)=>C.add(O.key)),Le());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let O=wr(),q=Le();return p.Os.getEntries(C,v).next((L=>{O=L,O.forEach(((Y,ne)=>{ne.isValidDocument()||(q=q.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,O))).next((L=>{T=L;const Y=[];for(const ne of m){const ie=QC(ne,T.get(ne.key).overlayedDocument);ie!=null&&Y.push(new Us(ne.key,ie,PT(ie.value.mapValue),gn.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,Y,m)})).next((L=>{A=L;const Y=L.applyToLocalDocumentSet(T,q);return p.documentOverlayCache.saveOverlays(C,L.batchId,Y)}))})).then((()=>({batchId:A.batchId,changes:HT(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Ru[c.currentUser.toKey()];g||(g=new dt(Ne)),g=g.insert(m,p),c.Ru[c.currentUser.toKey()]=g})(s,o.batchId,t),await Gu(s,o.changes),await Ld(s.remoteStore)}catch(o){const u=Mg(o,"Failed to persist write");t.reject(u)}}async function Rw(i,e){const t=Te(i);try{const s=await $N(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=t.Eu.get(u);c&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.lu=!0:o.modifiedDocuments.size>0?Ke(c.lu,14607):o.removedDocuments.size>0&&(Ke(c.lu,42227),c.lu=!1))})),await Gu(t,s,e)}catch(s){await Ko(s)}}function KE(i,e,t){const s=Te(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Te(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,T)=>{for(const A of T.wa)A.va(m)&&(g=!0)})),g&&jg(p)})(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function k2(i,e,t){const s=Te(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let c=new dt(ge.comparator);c=c.insert(u,un.newNoDocument(u,we.min()));const m=Le().add(u),p=new kd(we.min(),new Map,new dt(Ne),c,m);await Rw(s,p),s.du=s.du.remove(u),s.Eu.delete(e),qg(s)}else await $p(s.localStore,e,!1).then((()=>Xp(s,e,t))).catch(Ko)}async function M2(i,e){const t=Te(i),s=e.batch.batchId;try{const o=await KN(t.localStore,e);xw(t,s,null),Iw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Gu(t,o)}catch(o){await Ko(o)}}async function L2(i,e,t){const s=Te(i);try{const o=await(function(c,m){const p=Te(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ke(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);xw(s,e,t),Iw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Gu(s,o)}catch(o){await Ko(o)}}function Iw(i,e){(i.Vu.get(e)||[]).forEach((t=>{t.resolve()})),i.Vu.delete(e)}function xw(i,e,t){const s=Te(i);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Xp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Tu.get(e))i.Pu.delete(s),t&&i.hu.pu(s,t);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach((s=>{i.Au.containsKey(s)||Cw(i,s)}))}function Cw(i,e){i.Iu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Dg(i.remoteStore,t),i.du=i.du.remove(e),i.Eu.delete(t),qg(i))}function $E(i,e,t){for(const s of t)s instanceof ww?(i.Au.addReference(s.key,e),U2(i,s)):s instanceof Aw?(ue(Bg,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,e),i.Au.containsKey(s.key)||Cw(i,s.key)):Ee(19791,{yu:s})}function U2(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Iu.has(s)||(ue(Bg,"New document in limbo: "+t),i.Iu.add(s),qg(i))}function qg(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const t=new ge(et.fromString(e)),s=i.mu.next();i.Eu.set(s,new I2(t)),i.du=i.du.insert(t,s),yw(i.remoteStore,new vs(Di(Cd(t.path)),s,"TargetPurposeLimboResolution",Sd.ue))}}async function Gu(i,e,t){const s=Te(i),o=[],u=[],c=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{c.push(s.gu(p,e,t).then((g=>{var v;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(v=t?.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Cg.Es(p.targetId,g);u.push(T)}})))})),await Promise.all(c),s.hu.J_(o),await(async function(p,g){const v=Te(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>Z.forEach(g,(A=>Z.forEach(A.Is,(C=>v.persistence.referenceDelegate.addReference(T,A.targetId,C))).next((()=>Z.forEach(A.ds,(C=>v.persistence.referenceDelegate.removeReference(T,A.targetId,C)))))))))}catch(T){if(!$o(T))throw T;ue(Ng,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const C=v.Fs.get(A),O=C.snapshotVersion,q=C.withLastLimboFreeSnapshotVersion(O);v.Fs=v.Fs.insert(A,q)}}})(s.localStore,u))}async function j2(i,e){const t=Te(i);if(!t.currentUser.isEqual(e)){ue(Bg,"User change. New user:",e.toKey());const s=await fw(t.localStore,e);t.currentUser=e,(function(u,c){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new se(Q.CANCELLED,c))}))})),u.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Gu(t,s.Bs)}}function z2(i,e){const t=Te(i),s=t.Eu.get(e);if(s&&s.lu)return Le().add(s.key);{let o=Le();const u=t.Tu.get(e);if(!u)return o;for(const c of u){const m=t.Pu.get(c);o=o.unionWith(m.view.tu)}return o}}function Nw(i){const e=Te(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k2.bind(null,e),e.hu.J_=w2.bind(null,e.eventManager),e.hu.pu=A2.bind(null,e.eventManager),e}function B2(i){const e=Te(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L2.bind(null,e),e}class ud{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Md(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return GN(this.persistence,new qN,e.initialUser,this.serializer)}Du(e){return new dw(xg.Vi,this.serializer)}bu(e){return new JN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ud.provider={build:()=>new ud};class q2 extends ud{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ke(this.persistence.referenceDelegate instanceof od,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new SN(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new dw((s=>od.Vi(s,t)),this.serializer)}}class Wp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>KE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=j2.bind(null,this.syncEngine),await E2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new T2})()}createDatastore(e){const t=Md(e.databaseInfo.databaseId),s=(function(u){return new i2(u)})(e.databaseInfo);return(function(u,c,m,p){return new o2(u,c,m,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,c,m){return new u2(s,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>KE(this.syncEngine,t,0)),(function(){return zE.C()?new zE:new ZN})())}createSyncEngine(e,t){return(function(o,u,c,m,p,g,v){const T=new x2(o,u,c,m,p,g);return v&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const u=Te(o);ue(wa,"RemoteStore shutting down."),u.Ia.add(5),await Qo(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Wp.provider={build:()=>new Wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="FirestoreClient";class F2{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{ue(ks,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ue(ks,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Mg(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function vp(i,e){i.asyncQueue.verifyOperationInProgress(),ue(ks,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await fw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>{Vi("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then((()=>{ue("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{Vi("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),i._offlineComponents=e}async function QE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await Dw(i);ue(ks,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>qE(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>qE(e.remoteStore,o))),i._onlineComponents=e}async function Dw(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(ks,"Using user provided OfflineComponentProvider");try{await vp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Vi("Error using user provided cache. Falling back to memory cache: "+t),await vp(i,new ud)}}else ue(ks,"Using default OfflineComponentProvider"),await vp(i,new q2(void 0));return i._offlineComponents}async function Ud(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(ks,"Using user provided OnlineComponentProvider"),await QE(i,i._uninitializedComponentsProvider._online)):(ue(ks,"Using default OnlineComponentProvider"),await QE(i,new Wp))),i._onlineComponents}function Ow(i){return Dw(i).then((e=>e.persistence))}function Pw(i){return Ud(i).then((e=>e.remoteStore))}function H2(i){return Ud(i).then((e=>e.syncEngine))}function G2(i){return Ud(i).then((e=>e.datastore))}async function cd(i){const e=await Ud(i),t=e.eventManager;return t.onListen=C2.bind(null,e.syncEngine),t.onUnlisten=O2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=N2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=P2.bind(null,e.syncEngine),t}function K2(i){return i.asyncQueue.enqueue((async()=>{const e=await Ow(i),t=await Pw(i);return e.setNetworkEnabled(!0),(function(o){const u=Te(o);return u.Ia.delete(0),Hu(u)})(t)}))}function $2(i){return i.asyncQueue.enqueue((async()=>{const e=await Ow(i),t=await Pw(i);return e.setNetworkEnabled(!1),(async function(o){const u=Te(o);u.Ia.add(0),await Qo(u),u.Aa.set("Offline")})(t)}))}function Q2(i,e,t={}){const s=new ti;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new Fg({next:A=>{v.Ou(),c.enqueueAndForget((()=>Ug(u,T)));const C=A.docs.has(m);!C&&A.fromCache?g.reject(new se(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&A.fromCache&&p&&p.source==="server"?g.reject(new se(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new zg(Cd(m.path),v,{includeMetadataChanges:!0,ka:!0});return Lg(u,T)})(await cd(i),i.asyncQueue,e,t,s))),s.promise}function Y2(i,e,t={}){const s=new ti;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new Fg({next:A=>{v.Ou(),c.enqueueAndForget((()=>Ug(u,T))),A.fromCache&&p.source==="server"?g.reject(new se(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new zg(m,v,{includeMetadataChanges:!0,ka:!0});return Lg(u,T)})(await cd(i),i.asyncQueue,e,t,s))),s.promise}function X2(i,e,t){const s=new ti;return i.asyncQueue.enqueueAndForget((async()=>{try{const o=await G2(i);s.resolve((async function(c,m,p){var g;const v=Te(c),{request:T,ft:A,parent:C}=fN(v.serializer,VC(m),p);v.connection.Qo||delete T.parent;const O=(await v.Jo("RunAggregationQuery",v.serializer.databaseId,C,T,1)).filter((L=>!!L.result));Ke(O.length===1,64727);const q=(g=O[0].result)===null||g===void 0?void 0:g.aggregateFields;return Object.keys(q).reduce(((L,Y)=>(L[A[Y]]=q[Y],L)),{})})(o,e,t))}catch(o){s.reject(o)}})),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="firestore.googleapis.com",XE=!0;class WE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new se(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kw,this.ssl=XE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:XE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hw)throw new se(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ET("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new se(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new se(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new se(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ku{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new _T;switch(s.type){case"firstParty":return new nC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=YE.get(t);s&&(ue("ComponentProvider","Removing Datastore"),YE.delete(t),s.terminate())})(this),Promise.resolve()}}function Mw(i,e,t,s={}){var o;i=Dt(i,Ku);const u=Ms(e),c=i._getSettings(),m=Object.assign(Object.assign({},c),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${t}`;u&&(Td(`https://${p}`),cg("Firestore",!0)),c.host!==kw&&c.host!==p&&Vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:p,ssl:u,emulatorOptions:s});if(!xs(g,m)&&(i._setSettings(g),s.mockUserToken)){let v,T;if(typeof s.mockUserToken=="string")v=s.mockUserToken,T=ln.MOCK_USER;else{v=II(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new se(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new ln(A)}i._authCredentials=new Zx(new yT(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new qn(this.firestore,e,this._query)}}class ct{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Er(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ct(this.firestore,e,this._key)}toJSON(){return{type:ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Bu(t,ct._jsonSchema))return new ct(e,s||null,new ge(et.fromString(t.referencePath)))}}ct._jsonSchemaVersion="firestore/documentReference/1.0",ct._jsonSchema={type:Nt("string",ct._jsonSchemaVersion),referencePath:Nt("string")};class Er extends qn{constructor(e,t,s){super(e,t,Cd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new ge(e))}withConverter(e){return new Er(this.firestore,e,this._path)}}function Lw(i,e,...t){if(i=Re(i),pg("collection","path",e),i instanceof Ku){const s=et.fromString(e,...t);return cE(s),new Er(i,null,s)}{if(!(i instanceof ct||i instanceof Er))throw new se(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...t));return cE(s),new Er(i.firestore,null,s)}}function W2(i,e){if(i=Dt(i,Ku),pg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new se(Q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qn(i,null,(function(s){return new Rr(et.emptyPath(),s)})(e))}function Hg(i,e,...t){if(i=Re(i),arguments.length===1&&(e=wd.newId()),pg("doc","path",e),i instanceof Ku){const s=et.fromString(e,...t);return uE(s),new ct(i,null,new ge(s))}{if(!(i instanceof ct||i instanceof Er))throw new se(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...t));return uE(s),new ct(i.firestore,i instanceof Er?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="AsyncQueue";class ZE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new pw(this,"async_queue_retry"),this.oc=()=>{const s=_p();s&&ue(JE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=_p();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=_p();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new ti;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!$o(e))throw e;ue(JE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,Pi("INTERNAL UNHANDLED ERROR: ",eb(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=kg.createAndSchedule(this,e,t,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&Ee(47125,{hc:eb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function eb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=-1;class Cn extends Ku{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new ZE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZE(e),this._firestoreClient=void 0,await e}}}function jw(i,e,t){t||(t=xu);const s=zu(i,"firestore");if(s.isInitialized(t)){const o=s.getImmediate({identifier:t}),u=s.getOptions(t);if(xs(u,e))return o;throw new se(Q.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new se(Q.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hw)throw new se(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Ms(e.host)&&Td(e.host),s.initialize({options:e,instanceIdentifier:t})}function J2(i,e){const t=fg(),s=xu,o=zu(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=tT("firestore");u&&Mw(o,...u)}return o}function Ir(i){if(i._terminated)throw new se(Q.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Z2(i),i._firestoreClient}function Z2(i){var e,t,s;const o=i._freezeSettings(),u=(function(m,p,g,v){return new vC(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Vw(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new F2(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&(function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}})(i._componentsProvider))}function eD(i){if(i._initialized&&!i._terminated)throw new se(Q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ti;return i._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(s){if(!va.C())return Promise.resolve();const o=s+jN;await va.delete(o)})(zN(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function tD(i){return K2(Ir(i=Dt(i,Cn)))}function nD(i){return $2(Ir(i=Dt(i,Cn)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class Bw{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Gt.fromBase64String(e))}catch(t){throw new se(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zn(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Nt("string",zn._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new se(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hi._jsonSchemaVersion}}static fromJSON(e){if(Bu(e,hi._jsonSchema))return new hi(e.latitude,e.longitude)}}hi._jsonSchemaVersion="firestore/geoPoint/1.0",hi._jsonSchema={type:Nt("string",hi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bu(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new di(e.vectorValues);throw new se(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:Nt("string",di._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=/^__.*__$/;class rD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Us(e,this.data,this.fieldMask,t,this.fieldTransforms):new qu(e,this.data,t,this.fieldTransforms)}}class qw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Us(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Fw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ec:i})}}class Gg{constructor(e,t,s,o,u,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return hd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Fw(this.Ec)&&iD.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class sD{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Md(e)}Dc(e,t,s,o=!1){return new Gg({Ec:e,methodName:t,bc:s,path:Ht.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wo(i){const e=i._freezeSettings(),t=Md(i._databaseId);return new sD(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Kg(i,e,t,s,o,u={}){const c=i.Dc(u.merge||u.mergeFields?2:0,e,t,o);$g("Data must be an object, but it was:",c,s);const m=$w(s,c);let p,g;if(u.merge)p=new Bn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const A=Jp(e,T,t);if(!c.contains(A))throw new se(Q.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Yw(v,A)||v.push(A)}p=new Bn(v),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new rD(new Rn(m),p,g)}class zd extends jd{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zd}}function Hw(i,e,t,s){const o=i.Dc(1,e,t);$g("Data must be an object, but it was:",o,s);const u=[],c=Rn.empty();Ls(s,((p,g)=>{const v=Qg(e,p,t);g=Re(g);const T=o.gc(v);if(g instanceof zd)u.push(v);else{const A=$u(g,T);A!=null&&(u.push(v),c.set(v,A))}}));const m=new Bn(u);return new qw(c,m,o.fieldTransforms)}function Gw(i,e,t,s,o,u){const c=i.Dc(1,e,t),m=[Jp(e,s,t)],p=[o];if(u.length%2!=0)throw new se(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Jp(e,u[A])),p.push(u[A+1]);const g=[],v=Rn.empty();for(let A=m.length-1;A>=0;--A)if(!Yw(g,m[A])){const C=m[A];let O=p[A];O=Re(O);const q=c.gc(C);if(O instanceof zd)g.push(C);else{const L=$u(O,q);L!=null&&(g.push(C),v.set(C,L))}}const T=new Bn(g);return new qw(v,T,c.fieldTransforms)}function Kw(i,e,t,s=!1){return $u(t,i.Dc(s?4:3,e))}function $u(i,e){if(Qw(i=Re(i)))return $g("Unsupported field value:",e,i),$w(i,e);if(i instanceof jd)return(function(s,o){if(!Fw(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const m of s){let p=$u(m,o.yc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Re(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return qC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=nt.fromDate(s);return{timestampValue:ad(o.serializer,u)}}if(s instanceof nt){const u=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ad(o.serializer,u)}}if(s instanceof hi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:nw(o.serializer,s._byteString)};if(s instanceof ct){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Rg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof di)return(function(c,m){return{mapValue:{fields:{[DT]:{stringValue:OT},[td]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return wg(m.serializer,g)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${Ad(s)}`)})(i,e)}function $w(i,e){const t={};return ST(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(i,((s,o)=>{const u=$u(o,e.Vc(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function Qw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof nt||i instanceof hi||i instanceof zn||i instanceof ct||i instanceof jd||i instanceof di)}function $g(i,e,t){if(!Qw(t)||!bT(t)){const s=Ad(t);throw s==="an object"?e.wc(i+" a custom object"):e.wc(i+" "+s)}}function Jp(i,e,t){if((e=Re(e))instanceof Xo)return e._internalPath;if(typeof e=="string")return Qg(i,e);throw hd("Field path arguments must be of type string or ",i,!1,void 0,t)}const aD=new RegExp("[~\\*/\\[\\]]");function Qg(i,e,t){if(e.search(aD)>=0)throw hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Xo(...e.split("."))._internalPath}catch{throw hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function hd(i,e,t,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new se(Q.INVALID_ARGUMENT,m+i+p)}function Yw(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class oD extends Yg{data(){return super.data()}}function Bd(i,e){return typeof e=="string"?Qg(i,e):e instanceof Xo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new se(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xg{}class Jo extends Xg{}function Ww(i,e,...t){let s=[];e instanceof Xg&&s.push(e),s=s.concat(t),(function(u){const c=u.filter((p=>p instanceof Ca)).length,m=u.filter((p=>p instanceof Zo)).length;if(c>1||c>0&&m>0)throw new se(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Zo extends Jo{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Zo(e,t,s)}_apply(e){const t=this._parse(e);return eA(e._query,t),new qn(e.firestore,e.converter,qp(e._query,t))}_parse(e){const t=Wo(e.firestore);return(function(u,c,m,p,g,v,T){let A;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new se(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){ib(T,v);const O=[];for(const q of T)O.push(nb(p,u,q));A={arrayValue:{values:O}}}else A=nb(p,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||ib(T,v),A=Kw(m,c,T,v==="in"||v==="not-in");return Ct.create(g,v,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Jw(i,e,t){const s=e,o=Bd("where",i);return Zo._create(o,s,t)}class Ca extends Xg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ca(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:mi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)eA(c,p),c=qp(c,p)})(e._query,t),new qn(e.firestore,e.converter,qp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function lD(...i){return i.forEach((e=>tA("or",e))),Ca._create("or",i)}function uD(...i){return i.forEach((e=>tA("and",e))),Ca._create("and",i)}class qd extends Jo{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qd(e,t)}_apply(e){const t=(function(o,u,c){if(o.startAt!==null)throw new se(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new se(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nu(u,c)})(e._query,this._field,this._direction);return new qn(e.firestore,e.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new Rr(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function cD(i,e="asc"){const t=e,s=Bd("orderBy",i);return qd._create(s,t)}class Qu extends Jo{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Qu(e,t,s)}_apply(e){return new qn(e.firestore,e.converter,id(e._query,this._limit,this._limitType))}}function hD(i){return TT("limit",i),Qu._create("limit",i,"F")}function dD(i){return TT("limitToLast",i),Qu._create("limitToLast",i,"L")}class Yu extends Jo{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Yu(e,t,s)}_apply(e){const t=Zw(e,this.type,this._docOrFields,this._inclusive);return new qn(e.firestore,e.converter,(function(o,u){return new Rr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)})(e._query,t))}}function fD(...i){return Yu._create("startAt",i,!0)}function mD(...i){return Yu._create("startAfter",i,!1)}class Xu extends Jo{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Xu(e,t,s)}_apply(e){const t=Zw(e,this.type,this._docOrFields,this._inclusive);return new qn(e.firestore,e.converter,(function(o,u){return new Rr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)})(e._query,t))}}function pD(...i){return Xu._create("endBefore",i,!1)}function gD(...i){return Xu._create("endAt",i,!0)}function Zw(i,e,t,s){if(t[0]=Re(t[0]),t[0]instanceof Yg)return(function(u,c,m,p,g){if(!p)throw new se(Q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const v=[];for(const T of So(u))if(T.field.isKeyField())v.push(nd(c,p.key));else{const A=p.data.field(T.field);if(Id(A))throw new se(Q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(A===null){const C=T.field.canonicalString();throw new se(Q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${C}' (used as the orderBy) does not exist.`)}v.push(A)}return new Mo(v,g)})(i._query,i.firestore._databaseId,e,t[0]._document,s);{const o=Wo(i.firestore);return(function(c,m,p,g,v,T){const A=c.explicitOrderBy;if(v.length>A.length)throw new se(Q.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const C=[];for(let O=0;O<v.length;O++){const q=v[O];if(A[O].field.isKeyField()){if(typeof q!="string")throw new se(Q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof q}`);if(!Tg(c)&&q.indexOf("/")!==-1)throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${q}' contains a slash.`);const L=c.path.child(et.fromString(q));if(!ge.isDocumentKey(L))throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${L}' is not because it contains an odd number of segments.`);const Y=new ge(L);C.push(nd(m,Y))}else{const L=Kw(p,g,q);C.push(L)}}return new Mo(C,T)})(i._query,i.firestore._databaseId,o,e,t,s)}}function nb(i,e,t){if(typeof(t=Re(t))=="string"){if(t==="")throw new se(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tg(e)&&t.indexOf("/")!==-1)throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(et.fromString(t));if(!ge.isDocumentKey(s))throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return nd(i,new ge(s))}if(t instanceof ct)return nd(i,t._key);throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ad(t)}.`)}function ib(i,e){if(!Array.isArray(i)||i.length===0)throw new se(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eA(i,e){const t=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new se(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function tA(i,e){if(!(e instanceof Zo||e instanceof Ca))throw new se(Q.INVALID_ARGUMENT,`Function ${i}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class nA{convertValue(e,t="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ls(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[td].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((c=>Et(c.doubleValue)));return new di(u)}convertGeoPoint(e){return new hi(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=xd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Iu(e));default:return null}}convertTimestamp(e){const t=Ds(e);return new nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=et.fromString(e);Ke(uw(s),9688,{name:e});const o=new Po(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(t)||Pi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}function iA(){return new zw("count")}class Ao{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ss extends Yg{constructor(e,t,s,o,u,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Bd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ss._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ss._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ss._jsonSchema={type:Nt("string",Ss._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class vu extends Ss{data(e={}){return super.data(e)}}class Rs{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ao(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new vu(this._firestore,this._userDataWriter,s.key,s,new Ao(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new se(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new vu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ao(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new vu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ao(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:yD(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(i){i=Dt(i,ct);const e=Dt(i.firestore,Cn);return Q2(Ir(e),i._key).then((t=>aA(e,i,t)))}Rs._jsonSchemaVersion="firestore/querySnapshot/1.0",Rs._jsonSchema={type:Nt("string",Rs._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Fd extends nA{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,t)}}function rA(i){i=Dt(i,qn);const e=Dt(i.firestore,Cn),t=Ir(e),s=new Fd(e);return Xw(i._query),Y2(t,i._query).then((o=>new Rs(e,s,i,o)))}function vD(i,e,t){i=Dt(i,ct);const s=Dt(i.firestore,Cn),o=Wg(i.converter,e,t);return el(s,[Kg(Wo(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,gn.none())])}function ED(i,e,t,...s){i=Dt(i,ct);const o=Dt(i.firestore,Cn),u=Wo(o);let c;return c=typeof(e=Re(e))=="string"||e instanceof Xo?Gw(u,"updateDoc",i._key,e,t,s):Hw(u,"updateDoc",i._key,e),el(o,[c.toMutation(i._key,gn.exists(!0))])}function sA(i){return el(Dt(i.firestore,Cn),[new Vd(i._key,gn.none())])}function bD(i,e){const t=Dt(i.firestore,Cn),s=Hg(i),o=Wg(i.converter,e);return el(t,[Kg(Wo(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,gn.exists(!1))]).then((()=>s))}function TD(i,...e){var t,s,o;i=Re(i);let u={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||tb(e[c])||(u=e[c++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(tb(e[c])){const T=e[c];e[c]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[c+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[c+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,v;if(i instanceof ct)g=Dt(i.firestore,Cn),v=Cd(i._key.path),p={next:T=>{e[c]&&e[c](aA(g,i,T))},error:e[c+1],complete:e[c+2]};else{const T=Dt(i,qn);g=Dt(T.firestore,Cn),v=T._query;const A=new Fd(g);p={next:C=>{e[c]&&e[c](new Rs(g,A,T,C))},error:e[c+1],complete:e[c+2]},Xw(i._query)}return(function(A,C,O,q){const L=new Fg(q),Y=new zg(C,L,O);return A.asyncQueue.enqueueAndForget((async()=>Lg(await cd(A),Y))),()=>{L.Ou(),A.asyncQueue.enqueueAndForget((async()=>Ug(await cd(A),Y)))}})(Ir(g),v,m,p)}function el(i,e){return(function(s,o){const u=new ti;return s.asyncQueue.enqueueAndForget((async()=>V2(await H2(s),o,u))),u.promise})(Ir(i),e)}function aA(i,e,t){const s=t.docs.get(e._key),o=new Fd(i);return new Ss(i,o,e._key,s,new Ao(t.hasPendingWrites,t.fromCache),e.converter)}function wD(i){return oA(i,{count:iA()})}function oA(i,e){const t=Dt(i.firestore,Cn),s=Ir(t),o=yC(e,((u,c)=>new JC(c,u.aggregateType,u._internalFieldPath)));return X2(s,i._query,o).then((u=>(function(m,p,g){const v=new Fd(m);return new Bw(p,v,g)})(t,i,u)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Wo(e)}set(e,t,s){this._verifyNotCommitted();const o=Ep(e,this._firestore),u=Wg(o.converter,t,s),c=Kg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(c.toMutation(o._key,gn.none())),this}update(e,t,s,...o){this._verifyNotCommitted();const u=Ep(e,this._firestore);let c;return c=typeof(t=Re(t))=="string"||t instanceof Xo?Gw(this._dataReader,"WriteBatch.update",u._key,t,s,o):Hw(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,gn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ep(e,this._firestore);return this._mutations=this._mutations.concat(new Vd(t._key,gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new se(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ep(i,e){if((i=Re(i)).firestore!==e)throw new se(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(i){return Ir(i=Dt(i,Cn)),new lA(i,(e=>el(i,e)))}(function(e,t=!0){(function(o){Go=o})(Ho),ba(new Cs("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),m=new Cn(new eC(s.getProvider("auth-internal")),new iC(c,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new se(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Po(g.options.projectId,v)})(c,o),c);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ni(rE,sE,e),Ni(rE,sE,"esm2017")})();const Lh=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:nA,AggregateField:zw,AggregateQuerySnapshot:Bw,Bytes:zn,CACHE_SIZE_UNLIMITED:Uw,CollectionReference:Er,DocumentReference:ct,DocumentSnapshot:Ss,FieldPath:Xo,FieldValue:jd,Firestore:Cn,FirestoreError:se,GeoPoint:hi,Query:qn,QueryCompositeFilterConstraint:Ca,QueryConstraint:Jo,QueryDocumentSnapshot:vu,QueryEndAtConstraint:Xu,QueryFieldFilterConstraint:Zo,QueryLimitConstraint:Qu,QueryOrderByConstraint:qd,QuerySnapshot:Rs,QueryStartAtConstraint:Yu,SnapshotMetadata:Ao,Timestamp:nt,VectorValue:di,WriteBatch:lA,_AutoId:wd,_ByteString:Gt,_DatabaseId:Po,_DocumentKey:ge,_EmptyAuthCredentialsProvider:_T,_FieldPath:Ht,_cast:Dt,_logWarn:Vi,_validateIsNotUsedTogether:ET,addDoc:bD,and:uD,clearIndexedDbPersistence:eD,collection:Lw,collectionGroup:W2,connectFirestoreEmulator:Mw,count:iA,deleteDoc:sA,disableNetwork:nD,doc:Hg,enableNetwork:tD,endAt:gD,endBefore:pD,ensureFirestoreConfigured:Ir,executeWrite:el,getAggregateFromServer:oA,getCountFromServer:wD,getDoc:_D,getDocs:rA,getFirestore:J2,initializeFirestore:jw,limit:hD,limitToLast:dD,onSnapshot:TD,or:lD,orderBy:cD,query:Ww,setDoc:vD,startAfter:mD,startAt:fD,updateDoc:ED,where:Jw,writeBatch:AD},Symbol.toStringTag,{value:"Module"}));var SD="firebase",RD="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(SD,RD,"app");function Jg(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function uA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cA=uA,hA=new ju("auth","Firebase",uA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new hg("@firebase/auth");function ID(i,...e){dd.logLevel<=Me.WARN&&dd.warn(`Auth (${Ho}): ${i}`,...e)}function $h(i,...e){dd.logLevel<=Me.ERROR&&dd.error(`Auth (${Ho}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(i,...e){throw ey(i,...e)}function xn(i,...e){return ey(i,...e)}function Zg(i,e,t){const s=Object.assign(Object.assign({},cA()),{[e]:t});return new ju("auth","Firebase",s).create(e,{appName:i.name})}function yn(i){return Zg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hd(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&ni(i,"argument-error"),Zg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ey(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return hA.create(i,...e)}function ce(i,e,...t){if(!i)throw ey(e,...t)}function yr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw $h(e),new Error(e)}function Ar(i,e){i||yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function ty(){return rb()==="http:"||rb()==="https:"}function rb(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ty()||PI()||"connection"in navigator)?navigator.onLine:!0}function CD(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ar(t>e,"Short delay should be less than long delay!"),this.isMobile=NI()||VI()}get(){return xD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(i,e){Ar(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OD=new Wu(3e4,6e4);function Mt(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Lt(i,e,t,s,o={}){return fA(i,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const m=Fo(Object.assign({key:i.config.apiKey},c)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return OI()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Ms(i.emulatorConfig.host)&&(g.credentials="include"),dA.fetch()(await mA(i,i.config.apiHost,t,m),g)})}async function fA(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},ND),e);try{const o=new VD(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw fu(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw fu(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw fu(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw fu(i,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Zg(i,v,g);ni(i,v)}}catch(o){if(o instanceof ji)throw o;ni(i,"network-request-failed",{message:String(o)})}}async function xr(i,e,t,s,o={}){const u=await Lt(i,e,t,s,o);return"mfaPendingCredential"in u&&ni(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function mA(i,e,t,s){const o=`${e}${t}?${s}`,u=i,c=u.config.emulator?ny(i.config,o):`${i.config.apiScheme}://${o}`;return DD.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function PD(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(xn(this.auth,"network-request-failed")),OD.get())})}}function fu(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=xn(i,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(i){return i!==void 0&&i.getResponse!==void 0}function ab(i){return i!==void 0&&i.enterprise!==void 0}class pA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return PD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(i){return(await Lt(i,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function gA(i,e){return Lt(i,"GET","/v2/recaptchaConfig",Mt(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(i,e){return Lt(i,"POST","/v1/accounts:delete",e)}async function LD(i,e){return Lt(i,"POST","/v1/accounts:update",e)}async function fd(i,e){return Lt(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yA(i,e=!1){const t=Re(i),s=await t.getIdToken(e),o=Gd(s);ce(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:Eu(bp(o.auth_time)),issuedAtTime:Eu(bp(o.iat)),expirationTime:Eu(bp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function bp(i){return Number(i)*1e3}function Gd(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return $h("JWT malformed, contained fewer than 3 sections"),null;try{const o=Jb(t);return o?JSON.parse(o):($h("Failed to decode base64 JWT payload"),null)}catch(o){return $h("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ob(i){const e=Gd(i);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ji&&UD(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function UD({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(i){var e;const t=i.auth,s=await i.getIdToken(),o=await Aa(i,fd(t,{idToken:s}));ce(o?.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const c=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?vA(u.providerUserInfo):[],m=zD(i.providerData,c),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!m?.length,v=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Zp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,T)}async function _A(i){const e=Re(i);await Vu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zD(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function vA(i){return i.map(e=>{var{providerId:t}=e,s=Jg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(i,e){const t=await fA(i,{},async()=>{const s=Fo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await mA(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Ms(i.emulatorConfig.host)&&(p.credentials="include"),dA.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qD(i,e){return Lt(i,"POST","/v2/accounts:revokeToken",Mt(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ob(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const t=ob(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await BD(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,c=new Io;return s&&(ce(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(ce(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(ce(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(i,e){ce(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ci{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Jg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Zp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Aa(this,this.stsTokenManager.getToken(this.auth,e));return ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return yA(this,e)}reload(){return _A(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Vu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xt(this.auth.app))return Promise.reject(yn(this.auth));const e=await this.getIdToken();return await Aa(this,MD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,c,m,p,g,v;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,C=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,O=(c=t.photoURL)!==null&&c!==void 0?c:void 0,q=(m=t.tenantId)!==null&&m!==void 0?m:void 0,L=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ne=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:ie,emailVerified:me,isAnonymous:re,providerData:pe,stsTokenManager:D}=t;ce(ie&&D,e,"internal-error");const R=Io.fromJSON(this.name,D);ce(typeof ie=="string",e,"internal-error"),ys(T,e.name),ys(A,e.name),ce(typeof me=="boolean",e,"internal-error"),ce(typeof re=="boolean",e,"internal-error"),ys(C,e.name),ys(O,e.name),ys(q,e.name),ys(L,e.name),ys(Y,e.name),ys(ne,e.name);const I=new ci({uid:ie,auth:e,email:A,emailVerified:me,displayName:T,isAnonymous:re,photoURL:O,phoneNumber:C,tenantId:q,stsTokenManager:R,createdAt:Y,lastLoginAt:ne});return pe&&Array.isArray(pe)&&(I.providerData=pe.map(P=>Object.assign({},P))),L&&(I._redirectEventId=L),I}static async _fromIdTokenResponse(e,t,s=!1){const o=new Io;o.updateFromServerResponse(t);const u=new ci({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Vu(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];ce(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?vA(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Io;m.updateFromIdToken(s);const p=new ci({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Zp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=new Map;function _r(i){Ar(i instanceof Function,"Expected a class definition");let e=lb.get(i);return e?(Ar(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,lb.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}EA.type="NONE";const eg=EA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(i,e,t){return`firebase:${i}:${e}:${t}`}class xo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Qh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Qh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await fd(this.auth,{idToken:e}).catch(()=>{});return t?ci._fromGetAccountInfoResponse(this.auth,t,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new xo(_r(eg),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||_r(eg);const c=Qh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const v=await g._get(c);if(v){let T;if(typeof v=="string"){const A=await fd(e,{idToken:v}).catch(()=>{});if(!A)break;T=await ci._fromGetAccountInfoResponse(e,A,v)}else T=ci._fromJSON(e,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new xo(u,e,s):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new xo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RA(e))return"Blackberry";if(IA(e))return"Webos";if(TA(e))return"Safari";if((e.includes("chrome/")||wA(e))&&!e.includes("edge/"))return"Chrome";if(SA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function bA(i=kt()){return/firefox\//i.test(i)}function TA(i=kt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wA(i=kt()){return/crios\//i.test(i)}function AA(i=kt()){return/iemobile/i.test(i)}function SA(i=kt()){return/android/i.test(i)}function RA(i=kt()){return/blackberry/i.test(i)}function IA(i=kt()){return/webos/i.test(i)}function iy(i=kt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function FD(i=kt()){var e;return iy(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HD(){return kI()&&document.documentMode===10}function xA(i=kt()){return iy(i)||SA(i)||IA(i)||RA(i)||/windows phone/i.test(i)||AA(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(i,e=[]){let t;switch(i){case"Browser":t=ub(kt());break;case"Worker":t=`${ub(kt())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ho}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((c,m)=>{try{const p=e(u);c(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(i,e={}){return Lt(i,"GET","/v2/passwordPolicy",Mt(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=6;class QD{constructor(e){var t,s,o,u;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:$D,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,c,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cb(this),this.idTokenSubscription=new cb(this),this.beforeStateQueue=new GD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_r(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fd(this,{idToken:e}),s=await ci._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(xt(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===m)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xt(this.app))return Promise.reject(yn(this));const t=e?Re(e):null;return t&&ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xt(this.app)?Promise.reject(yn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xt(this.app)?Promise.reject(yn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KD(this),t=new QD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await qD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_r(e)||this._popupRedirectResolver;ce(t,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[_r(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&ID(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Kt(i){return Re(i)}class cb{constructor(e){this.auth=e,this.observer=null,this.addObserver=qI(t=>this.observer=t)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XD(i){Ju=i}function ry(i){return Ju.loadJS(i)}function WD(){return Ju.recaptchaV2Script}function JD(){return Ju.recaptchaEnterpriseScript}function ZD(){return Ju.gapiScript}function NA(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=500,tO=6e4,Uh=1e12;class nO{constructor(e){this.auth=e,this.counter=Uh,this._widgets=new Map}render(e,t){const s=this.counter;return this._widgets.set(s,new sO(e,this.auth.name,t||{})),this.counter++,s}reset(e){var t;const s=e||Uh;(t=this._widgets.get(s))===null||t===void 0||t.delete(),this._widgets.delete(s)}getResponse(e){var t;const s=e||Uh;return((t=this._widgets.get(s))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const s=e||Uh;return(t=this._widgets.get(s))===null||t===void 0||t.execute(),""}}class iO{constructor(){this.enterprise=new rO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class rO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class sO{constructor(e,t,s){this.params=s,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof e=="string"?document.getElementById(e):e;ce(o,"argument-error",{appName:t}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=aO(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},tO)},eO))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function aO(i){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<i;s++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const oO="recaptcha-enterprise",bu="NO_RECAPTCHA";class DA{constructor(e){this.type=oO,this.auth=Kt(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{gA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new pA(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;ab(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(bu)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iO().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(m=>{if(!t&&ab(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=JD();p.length!==0&&(p+=m),ry(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function ou(i,e,t,s=!1,o=!1){const u=new DA(i);let c;if(o)c=bu;else try{c=await u.verify(t)}catch{c=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Is(i,e,t,s,o){var u,c;if(o==="EMAIL_PASSWORD_PROVIDER")if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const m=await ou(i,e,t,t==="getOobCode");return s(i,m)}else return s(i,e).catch(async m=>{if(m.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await ou(i,e,t,t==="getOobCode");return s(i,p)}else return Promise.reject(m)});else if(o==="PHONE_PROVIDER")if(!((c=i._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("PHONE_PROVIDER")){const m=await ou(i,e,t);return s(i,m).catch(async p=>{var g;if(((g=i._getRecaptchaConfig())===null||g===void 0?void 0:g.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(p.code==="auth/missing-recaptcha-token"||p.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const v=await ou(i,e,t,!1,!0);return s(i,v)}return Promise.reject(p)})}else{const m=await ou(i,e,t,!1,!0);return s(i,m)}else return Promise.reject(o+" provider is not supported.")}async function lO(i){const e=Kt(i),t=await gA(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new pA(t);e.tenantId==null?e._agentRecaptchaConfig=s:e._tenantRecaptchaConfigs[e.tenantId]=s,s.isAnyProviderEnabled()&&new DA(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(i,e){const t=zu(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(xs(u,e??{}))return o;ni(o,"already-initialized")}return t.initialize({options:e})}function uO(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(_r);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function OA(i,e,t){const s=Kt(i);ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=PA(e),{host:c,port:m}=cO(e),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ce(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ce(xs(g,s.config.emulator)&&xs(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Ms(c)?(Td(`${u}//${c}${p}`),cg("Auth",!0)):hO()}function PA(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function cO(i){const e=PA(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:hb(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:hb(c)}}}function hb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function hO(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yr("not implemented")}_getIdTokenResponse(e){return yr("not implemented")}_linkToIdToken(e,t){return yr("not implemented")}_getReauthenticationResolver(e){return yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(i,e){return Lt(i,"POST","/v1/accounts:resetPassword",Mt(i,e))}async function fO(i,e){return Lt(i,"POST","/v1/accounts:update",e)}async function mO(i,e){return Lt(i,"POST","/v1/accounts:signUp",e)}async function pO(i,e){return Lt(i,"POST","/v1/accounts:update",Mt(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(i,e){return xr(i,"POST","/v1/accounts:signInWithPassword",Mt(i,e))}async function Kd(i,e){return Lt(i,"POST","/v1/accounts:sendOobCode",Mt(i,e))}async function yO(i,e){return Kd(i,e)}async function _O(i,e){return Kd(i,e)}async function vO(i,e){return Kd(i,e)}async function EO(i,e){return Kd(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(i,e){return xr(i,"POST","/v1/accounts:signInWithEmailLink",Mt(i,e))}async function TO(i,e){return xr(i,"POST","/v1/accounts:signInWithEmailLink",Mt(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends Zu{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new jo(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new jo(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Is(e,t,"signInWithPassword",gO,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return bO(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Is(e,s,"signUpPassword",mO,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return TO(e,{idToken:t,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(i,e){return xr(i,"POST","/v1/accounts:signInWithIdp",Mt(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="http://localhost";class Mi extends Zu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ni("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Jg(t,["providerId","signInMethod"]);if(!s||!o)return null;const c=new Mi(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Co(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Co(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Co(e,t)}buildRequest(){const e={requestUri:wO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fo(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function db(i,e){return Lt(i,"POST","/v1/accounts:sendVerificationCode",Mt(i,e))}async function AO(i,e){return xr(i,"POST","/v1/accounts:signInWithPhoneNumber",Mt(i,e))}async function SO(i,e){const t=await xr(i,"POST","/v1/accounts:signInWithPhoneNumber",Mt(i,e));if(t.temporaryProof)throw fu(i,"account-exists-with-different-credential",t);return t}const RO={USER_NOT_FOUND:"user-not-found"};async function IO(i,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return xr(i,"POST","/v1/accounts:signInWithPhoneNumber",Mt(i,t),RO)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Zu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new No({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new No({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return AO(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return SO(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return IO(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:s,verificationCode:o}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:s,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:s,phoneNumber:o,temporaryProof:u}=e;return!s&&!t&&!o&&!u?null:new No({verificationId:t,verificationCode:s,phoneNumber:o,temporaryProof:u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CO(i){const e=lu(uu(i)).link,t=e?lu(uu(e)).deep_link_id:null,s=lu(uu(i)).deep_link_id;return(s?lu(uu(s)).link:null)||s||t||e||i}class ec{constructor(e){var t,s,o,u,c,m;const p=lu(uu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(s=p.oobCode)!==null&&s!==void 0?s:null,T=xO((o=p.mode)!==null&&o!==void 0?o:null);ce(g&&v&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=v,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=CO(e);try{return new ec(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.providerId=js.PROVIDER_ID}static credential(e,t){return jo._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ec.parseLink(t);return ce(s,"argument-error"),jo._fromEmailAndCode(e,s.code,s.tenantId)}}js.PROVIDER_ID="password";js.EMAIL_PASSWORD_SIGN_IN_METHOD="password";js.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends tl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Tu extends nl{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ce("providerId"in t&&"signInMethod"in t,"argument-error"),Mi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ce(e.idToken||e.accessToken,"argument-error"),Mi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Tu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Tu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:u,nonce:c,providerId:m}=e;if(!s&&!o&&!t&&!u||!m)return null;try{return new Tu(m)._credential({idToken:t,accessToken:s,nonce:c,pendingToken:u})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends nl{constructor(){super("facebook.com")}static credential(e){return Mi._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Mi._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return mr.credential(t,s)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends nl{constructor(){super("github.com")}static credential(e){return Mi._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends nl{constructor(){super("twitter.com")}static credential(e,t){return Mi._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return gr.credential(t,s)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(i,e){return xr(i,"POST","/v1/accounts:signUp",Mt(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ci._fromIdTokenResponse(e,s,o),c=fb(s);return new Li({user:u,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=fb(s);return new Li({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function fb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(i){var e;if(xt(i.app))return Promise.reject(yn(i));const t=Kt(i);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Li({user:t.currentUser,providerId:null,operationType:"signIn"});const s=await VA(t,{returnSecureToken:!0}),o=await Li._fromIdTokenResponse(t,"signIn",s,!0);return await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md extends ji{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,md.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new md(e,t,s,o)}}function kA(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?md._fromErrorAndOperation(i,u,e,s):u})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(i){return new Set(i.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(i,e){const t=Re(i);await $d(!0,t,e);const{providerUserInfo:s}=await LD(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),o=MA(s||[]);return t.providerData=t.providerData.filter(u=>o.has(u.providerId)),o.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function LA(i,e,t=!1){const s=await Aa(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Li._forOperation(i,"link",s)}async function $d(i,e,t){await Vu(e);const s=MA(e.providerData),o=i===!1?"provider-already-linked":"no-such-provider";ce(s.has(t)===i,e.auth,o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(i,e,t=!1){const{auth:s}=i;if(xt(s.app))return Promise.reject(yn(s));const o="reauthenticate";try{const u=await Aa(i,kA(s,o,e,i),t);ce(u.idToken,s,"internal-error");const c=Gd(u.idToken);ce(c,s,"internal-error");const{sub:m}=c;return ce(i.uid===m,s,"user-mismatch"),Li._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ni(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(i,e,t=!1){if(xt(i.app))return Promise.reject(yn(i));const s="signIn",o=await kA(i,s,e),u=await Li._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function Qd(i,e){return UA(Kt(i),e)}async function jA(i,e){const t=Re(i);return await $d(!1,t,e.providerId),LA(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(i,e){return xr(i,"POST","/v1/accounts:signInWithCustomToken",Mt(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(i,e){if(xt(i.app))return Promise.reject(yn(i));const t=Kt(i),s=await PO(t,{token:e,returnSecureToken:!0}),o=await Li._fromIdTokenResponse(t,"signIn",s);return await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(i,e,t){var s;ce(((s=t.url)===null||s===void 0?void 0:s.length)>0,i,"invalid-continue-uri"),ce(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,i,"invalid-dynamic-link-domain"),ce(typeof t.linkDomain>"u"||t.linkDomain.length>0,i,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ce(t.iOS.bundleId.length>0,i,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ce(t.android.packageName.length>0,i,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ay(i){const e=Kt(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kO(i,e,t){const s=Kt(i),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Yd(s,o,t),await Is(s,o,"getOobCode",_O,"EMAIL_PASSWORD_PROVIDER")}async function MO(i,e,t){await dO(Re(i),{oobCode:e,newPassword:t}).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ay(i),s})}async function LO(i,e){await pO(Re(i),{oobCode:e})}async function UO(i,e,t){if(xt(i.app))return Promise.reject(yn(i));const s=Kt(i),c=await Is(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VA,"EMAIL_PASSWORD_PROVIDER").catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ay(i),p}),m=await Li._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function jO(i,e,t){return xt(i.app)?Promise.reject(yn(i)):Qd(Re(i),js.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ay(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(i,e,t){const s=Kt(i),o={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function u(c,m){ce(m.handleCodeInApp,s,"argument-error"),m&&Yd(s,c,m)}u(o,t),await Is(s,o,"getOobCode",vO,"EMAIL_PASSWORD_PROVIDER")}function BO(i,e){const t=ec.parseLink(e);return t?.operation==="EMAIL_SIGNIN"}async function qO(i,e,t){if(xt(i.app))return Promise.reject(yn(i));const s=Re(i),o=js.credentialWithLink(e,t||Pu());return ce(o._tenantId===(s.tenantId||null),s,"tenant-id-mismatch"),Qd(s,o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(i,e){return Lt(i,"POST","/v1/accounts:createAuthUri",Mt(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(i,e){const t=ty()?Pu():"http://localhost",s={identifier:e,continueUri:t},{signinMethods:o}=await FO(Re(i),s);return o||[]}async function GO(i,e){const t=Re(i),o={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()};e&&Yd(t.auth,o,e);const{email:u}=await yO(t.auth,o);u!==i.email&&await i.reload()}async function KO(i,e,t){const s=Re(i),u={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await i.getIdToken(),newEmail:e};t&&Yd(s.auth,u,t);const{email:c}=await EO(s.auth,u);c!==i.email&&await i.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O(i,e){return Lt(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=Re(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Aa(s,$O(s.auth,u));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function YO(i,e){const t=Re(i);return xt(t.auth.app)?Promise.reject(yn(t.auth)):zA(t,e,null)}function XO(i,e){return zA(Re(i),null,e)}async function zA(i,e,t){const{auth:s}=i,u={idToken:await i.getIdToken(),returnSecureToken:!0};e&&(u.email=e),t&&(u.password=t);const c=await Aa(i,fO(s,u));await i._updateTokensIfNecessary(c,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(i){var e,t;if(!i)return null;const{providerId:s}=i,o=i.rawUserInfo?JSON.parse(i.rawUserInfo):{},u=i.isNewUser||i.kind==="identitytoolkit#SignupNewUserResponse";if(!s&&i?.idToken){const c=(t=(e=Gd(i.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(c){const m=c!=="anonymous"&&c!=="custom"?c:null;return new Do(u,m)}}if(!s)return null;switch(s){case"facebook.com":return new JO(u,o);case"github.com":return new ZO(u,o);case"google.com":return new eP(u,o);case"twitter.com":return new tP(u,o,i.screenName||null);case"custom":case"anonymous":return new Do(u,null);default:return new Do(u,s,o)}}class Do{constructor(e,t,s={}){this.isNewUser=e,this.providerId=t,this.profile=s}}class BA extends Do{constructor(e,t,s,o){super(e,t,s),this.username=o}}class JO extends Do{constructor(e,t){super(e,"facebook.com",t)}}class ZO extends BA{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}}class eP extends Do{constructor(e,t){super(e,"google.com",t)}}class tP extends BA{constructor(e,t,s){super(e,"twitter.com",t,s)}}function nP(i){const{user:e,_tokenResponse:t}=i;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:WO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(i,e){return Re(i).setPersistence(e)}function qA(i,e,t,s){return Re(i).onIdTokenChanged(e,t,s)}function FA(i,e,t){return Re(i).beforeAuthStateChanged(e,t)}function rP(i){return Re(i).signOut()}function sP(i,e){return Kt(i).revokeAccessToken(e)}async function aP(i){return Re(i).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(i,e){return Lt(i,"POST","/v2/accounts/mfaEnrollment:start",Mt(i,e))}const pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=1e3,lP=10;class GA extends HA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);HD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,lP):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},oP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}GA.type="LOCAL";const oy=GA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA extends HA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}KA.type="SESSION";const ly=KA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Xd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(t.origin,u)),p=await uP(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Wd("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return window}function hP(i){It().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(){return typeof It().WorkerGlobalScope<"u"&&typeof It().importScripts=="function"}async function dP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fP(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function mP(){return uy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firebaseLocalStorageDb",pP=1,gd="firebaseLocalStorage",QA="fbase_key";class tc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jd(i,e){return i.transaction([gd],e?"readwrite":"readonly").objectStore(gd)}function gP(){const i=indexedDB.deleteDatabase($A);return new tc(i).toPromise()}function tg(){const i=indexedDB.open($A,pP);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(gd,{keyPath:QA})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(gd)?e(s):(s.close(),await gP(),e(await tg()))})})}async function pb(i,e,t){const s=Jd(i,!0).put({[QA]:e,value:t});return new tc(s).toPromise()}async function yP(i,e){const t=Jd(i,!1).get(e),s=await new tc(t).toPromise();return s===void 0?null:s.value}function gb(i,e){const t=Jd(i,!0).delete(e);return new tc(t).toPromise()}const _P=800,vP=3;class YA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>vP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xd._getInstance(mP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await dP(),!this.activeServiceWorker)return;this.sender=new cP(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tg();return await pb(e,pd,"1"),await gb(e,pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>pb(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>yP(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Jd(o,!1).getAll();return new tc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_P)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YA.type="LOCAL";const XA=YA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(i,e){return Lt(i,"POST","/v2/accounts/mfaSignIn:start",Mt(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=NA("rcb"),EP=new Wu(3e4,6e4);class bP{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=It().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return ce(TP(t),e,"argument-error"),this.shouldResolveImmediately(t)&&sb(It().grecaptcha)?Promise.resolve(It().grecaptcha):new Promise((s,o)=>{const u=It().setTimeout(()=>{o(xn(e,"network-request-failed"))},EP.get());It()[Tp]=()=>{It().clearTimeout(u),delete It()[Tp];const m=It().grecaptcha;if(!m||!sb(m)){o(xn(e,"internal-error"));return}const p=m.render;m.render=(g,v)=>{const T=p(g,v);return this.counter++,T},this.hostLanguage=t,s(m)};const c=`${WD()}?${Fo({onload:Tp,render:"explicit",hl:t})}`;ry(c).catch(()=>{clearTimeout(u),o(xn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=It().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function TP(i){return i.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(i)}class wP{async load(e){return new nO(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu="recaptcha",AP={theme:"light",type:"image"};class SP{constructor(e,t,s=Object.assign({},AP)){this.parameters=s,this.type=wu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kt(e),this.isInvisible=this.parameters.size==="invisible",ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof t=="string"?document.getElementById(t):t;ce(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wP:new bP,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),s=t.getResponse(e);return s||new Promise(o=>{const u=c=>{c&&(this.tokenChangeListeners.delete(u),o(c))};this.tokenChangeListeners.add(u),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(s=>s(t)),typeof e=="function")e(t);else if(typeof e=="string"){const s=It()[e];typeof s=="function"&&s(t)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ce(ty()&&!uy(),this.auth,"internal-error"),await RP(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await kD(this.auth);ce(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function RP(){let i=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}i=()=>e(),window.addEventListener("load",i)}).catch(e=>{throw i&&window.removeEventListener("load",i),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=No._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function IP(i,e,t){if(xt(i.app))return Promise.reject(yn(i));const s=Kt(i),o=await JA(s,e,Re(t));return new WA(o,u=>Qd(s,u))}async function xP(i,e,t){const s=Re(i);await $d(!1,s,"phone");const o=await JA(s.auth,e,Re(t));return new WA(o,u=>jA(s,u))}async function JA(i,e,t){var s;if(!i._getRecaptchaConfig())try{await lO(i)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){const u=o.session;if("phoneNumber"in o){ce(u.type==="enroll",i,"internal-error");const c={idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Is(i,c,"mfaSmsEnrollment",async(v,T)=>{if(T.phoneEnrollmentInfo.captchaResponse===bu){ce(t?.type===wu,v,"argument-error");const A=await wp(v,T,t);return mb(v,A)}return mb(v,T)},"PHONE_PROVIDER").catch(v=>Promise.reject(v))).phoneSessionInfo.sessionInfo}else{ce(u.type==="signin",i,"internal-error");const c=((s=o.multiFactorHint)===null||s===void 0?void 0:s.uid)||o.multiFactorUid;ce(c,i,"missing-multi-factor-info");const m={mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Is(i,m,"mfaSmsSignIn",async(T,A)=>{if(A.phoneSignInInfo.captchaResponse===bu){ce(t?.type===wu,T,"argument-error");const C=await wp(T,A,t);return yb(T,C)}return yb(T,A)},"PHONE_PROVIDER").catch(T=>Promise.reject(T))).phoneResponseInfo.sessionInfo}}else{const u={phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Is(i,u,"sendVerificationCode",async(g,v)=>{if(v.captchaResponse===bu){ce(t?.type===wu,g,"argument-error");const T=await wp(g,v,t);return db(g,T)}return db(g,v)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).sessionInfo}}finally{t?._reset()}}async function wp(i,e,t){ce(t.type===wu,i,"argument-error");const s=await t.verify();ce(typeof s=="string",i,"argument-error");const o=Object.assign({},e);if("phoneEnrollmentInfo"in o){const u=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.captchaResponse,m=o.phoneEnrollmentInfo.clientType,p=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:s,captchaResponse:c,clientType:m,recaptchaVersion:p}}),o}else if("phoneSignInInfo"in o){const u=o.phoneSignInInfo.captchaResponse,c=o.phoneSignInInfo.clientType,m=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:u,clientType:c,recaptchaVersion:m}}),o}else return Object.assign(o,{recaptchaToken:s}),o}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(i,e){return e?_r(e):(ce(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy extends Zu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Co(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function CP(i){return UA(i.auth,new cy(i),i.bypassAuthState)}function NP(i){const{auth:e,user:t}=i;return ce(t,e,"internal-error"),OO(t,new cy(i),i.bypassAuthState)}async function DP(i){const{auth:e,user:t}=i;return ce(t,e,"internal-error"),LA(t,new cy(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CP;case"linkViaPopup":case"linkViaRedirect":return DP;case"reauthViaPopup":case"reauthViaRedirect":return NP;default:ni(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=new Wu(2e3,1e4);async function PP(i,e,t){if(xt(i.app))return Promise.reject(xn(i,"operation-not-supported-in-this-environment"));const s=Kt(i);Hd(i,e,tl);const o=nc(s,t);return new Es(s,"signInViaPopup",e,o).executeNotNull()}async function VP(i,e,t){const s=Re(i);Hd(s.auth,e,tl);const o=nc(s.auth,t);return new Es(s.auth,"linkViaPopup",e,o,s).executeNotNull()}class Es extends ZA{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const e=Wd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OP.get())};e()}}Es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="pendingRedirect",Yh=new Map;class MP extends ZA{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Yh.get(this.auth._key());if(!e){try{const s=await LP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Yh.set(this.auth._key(),e)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LP(i,e){const t=nS(e),s=tS(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}async function eS(i,e){return tS(i)._set(nS(e),"true")}function UP(i,e){Yh.set(i._key(),e)}function tS(i){return _r(i._redirectPersistence)}function nS(i){return Qh(kP,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(i,e,t){return zP(i,e,t)}async function zP(i,e,t){if(xt(i.app))return Promise.reject(yn(i));const s=Kt(i);Hd(i,e,tl),await s._initializationPromise;const o=nc(s,t);return await eS(o,s),o._openRedirect(s,e,"signInViaRedirect")}function BP(i,e,t){return qP(i,e,t)}async function qP(i,e,t){const s=Re(i);Hd(s.auth,e,tl),await s.auth._initializationPromise;const o=nc(s.auth,t);await $d(!1,s,e.providerId),await eS(o,s.auth);const u=await HP(s);return o._openRedirect(s.auth,e,"linkViaRedirect",u)}async function FP(i,e){return await Kt(i)._initializationPromise,iS(i,e,!1)}async function iS(i,e,t=!1){if(xt(i.app))return Promise.reject(yn(i));const s=Kt(i),o=nc(s,e),c=await new MP(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}async function HP(i){const e=Wd(`${i.uid}:::`);return i._redirectEventId=e,await i.auth._setRedirectUser(i),await i.auth._persistUserIfCurrent(i),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=600*1e3;class KP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$P(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!rS(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(xn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GP&&this.cachedEventUids.clear(),this.cachedEventUids.has(_b(e))}saveEventToCache(e){this.cachedEventUids.add(_b(e)),this.lastProcessedEventTime=Date.now()}}function _b(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function rS({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function $P(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(i,e={}){return Lt(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XP=/^https?/;async function WP(i){if(i.config.emulator)return;const{authorizedDomains:e}=await QP(i);for(const t of e)try{if(JP(t))return}catch{}ni(i,"unauthorized-domain")}function JP(i){const e=Pu(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!XP.test(t))return!1;if(YP.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=new Wu(3e4,6e4);function vb(){const i=It().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function eV(i){return new Promise((e,t)=>{var s,o,u;function c(){vb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vb(),t(xn(i,"network-request-failed"))},timeout:ZP.get()})}if(!((o=(s=It().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=It().gapi)===null||u===void 0)&&u.load)c();else{const m=NA("iframefcb");return It()[m]=()=>{gapi.load?c():t(xn(i,"network-request-failed"))},ry(`${ZD()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Xh=null,e})}let Xh=null;function tV(i){return Xh=Xh||eV(i),Xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=new Wu(5e3,15e3),iV="__/auth/iframe",rV="emulator/auth/iframe",sV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oV(i){const e=i.config;ce(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?ny(e,rV):`https://${i.config.authDomain}/${iV}`,s={apiKey:e.apiKey,appName:i.name,v:Ho},o=aV.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Fo(s).slice(1)}`}async function lV(i){const e=await tV(i),t=It().gapi;return ce(t,i,"internal-error"),e.open({where:document.body,url:oV(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sV,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=xn(i,"network-request-failed"),m=It().setTimeout(()=>{u(c)},nV.get());function p(){It().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cV=500,hV=600,dV="_blank",fV="http://localhost";class Eb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mV(i,e,t,s=cV,o=hV){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},uV),{width:s.toString(),height:o.toString(),top:u,left:c}),g=kt().toLowerCase();t&&(m=wA(g)?dV:t),bA(g)&&(e=e||fV,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[C,O])=>`${A}${C}=${O},`,"");if(FD(g)&&m!=="_self")return pV(e||"",m),new Eb(null);const T=window.open(e||"",m,v);ce(T,i,"popup-blocked");try{T.focus()}catch{}return new Eb(T)}function pV(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="__/auth/handler",yV="emulator/auth/handler",_V=encodeURIComponent("fac");async function bb(i,e,t,s,o,u){ce(i.config.authDomain,i,"auth-domain-config-required"),ce(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Ho,eventId:o};if(e instanceof tl){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",BI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof nl){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${_V}=${encodeURIComponent(p)}`:"";return`${vV(i)}?${Fo(m).slice(1)}${g}`}function vV({config:i}){return i.emulator?ny(i,yV):`https://${i.authDomain}/${gV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="webStorageSupport";class EV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ly,this._completeRedirectFn=iS,this._overrideRedirectResult=UP}async _openPopup(e,t,s,o){var u;Ar((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await bb(e,t,s,Pu(),o);return mV(e,c,Wd())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await bb(e,t,s,Pu(),o);return hP(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await lV(e),s=new KP(e);return t.register("authEvent",o=>(ce(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ap,{type:Ap},o=>{var u;const c=(u=o?.[0])===null||u===void 0?void 0:u[Ap];c!==void 0&&t(!!c),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=WP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xA()||TA()||iy()}}const sS=EV;var Tb="@firebase/auth",wb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wV(i){ba(new Cs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;ce(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CA(i)},g=new YD(s,o,u,p);return uO(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ba(new Cs("auth-internal",e=>{const t=Kt(e.getProvider("auth").getImmediate());return(s=>new bV(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ni(Tb,wb,TV(i)),Ni(Tb,wb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=300,SV=iT("authIdTokenMaxAge")||AV;let Ab=null;const RV=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>SV)return;const o=t?.token;Ab!==o&&(Ab=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function IV(i=fg()){const e=zu(i,"auth");if(e.isInitialized())return e.getImmediate();const t=sy(i,{popupRedirectResolver:sS,persistence:[XA,oy,ly]}),s=iT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=RV(u.toString());FA(t,c,()=>c(t.currentUser)),qA(t,m=>c(m))}}const o=eT("auth");return o&&OA(t,`http://${o}`),t}function xV(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}XD({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=xn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",xV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wV("Browser");const Sp=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:ec,AuthCredential:Zu,EmailAuthCredential:jo,EmailAuthProvider:js,FacebookAuthProvider:fr,GithubAuthProvider:pr,GoogleAuthProvider:mr,OAuthCredential:Mi,OAuthProvider:Tu,PhoneAuthCredential:No,RecaptchaVerifier:SP,TwitterAuthProvider:gr,applyActionCode:LO,beforeAuthStateChanged:FA,browserLocalPersistence:oy,browserPopupRedirectResolver:sS,browserSessionPersistence:ly,confirmPasswordReset:MO,connectAuthEmulator:OA,createUserWithEmailAndPassword:UO,deleteUser:aP,fetchSignInMethodsForEmail:HO,getAdditionalUserInfo:nP,getAuth:IV,getIdTokenResult:yA,getRedirectResult:FP,inMemoryPersistence:eg,indexedDBLocalPersistence:XA,initializeAuth:sy,isSignInWithEmailLink:BO,linkWithCredential:jA,linkWithPhoneNumber:xP,linkWithPopup:VP,linkWithRedirect:BP,onIdTokenChanged:qA,prodErrorMap:cA,reload:_A,revokeAccessToken:sP,sendEmailVerification:GO,sendPasswordResetEmail:kO,sendSignInLinkToEmail:zO,setPersistence:iP,signInAnonymously:NO,signInWithCredential:Qd,signInWithCustomToken:VO,signInWithEmailAndPassword:jO,signInWithEmailLink:qO,signInWithPhoneNumber:IP,signInWithPopup:PP,signInWithRedirect:jP,signOut:rP,unlink:DO,updateEmail:YO,updatePassword:XO,updateProfile:QO,verifyBeforeUpdateEmail:KO},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV="type.googleapis.com/google.protobuf.Int64Value",NV="type.googleapis.com/google.protobuf.UInt64Value";function aS(i,e){const t={};for(const s in i)i.hasOwnProperty(s)&&(t[s]=e(i[s]));return t}function yd(i){if(i==null)return null;if(i instanceof Number&&(i=i.valueOf()),typeof i=="number"&&isFinite(i)||i===!0||i===!1||Object.prototype.toString.call(i)==="[object String]")return i;if(i instanceof Date)return i.toISOString();if(Array.isArray(i))return i.map(e=>yd(e));if(typeof i=="function"||typeof i=="object")return aS(i,e=>yd(e));throw new Error("Data cannot be encoded in JSON: "+i)}function zo(i){if(i==null)return i;if(i["@type"])switch(i["@type"]){case CV:case NV:{const e=Number(i.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+i);return e}default:throw new Error("Data cannot be decoded from JSON: "+i)}return Array.isArray(i)?i.map(e=>zo(e)):typeof i=="function"||typeof i=="object"?aS(i,e=>zo(e)):i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class In extends ji{constructor(e,t,s){super(`${hy}/${e}`,t||""),this.details=s,Object.setPrototypeOf(this,In.prototype)}}function DV(i){if(i>=200&&i<300)return"ok";switch(i){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function _d(i,e){let t=DV(i),s=t,o;try{const u=e&&e.error;if(u){const c=u.status;if(typeof c=="string"){if(!Sb[c])return new In("internal","internal");t=Sb[c],s=c}const m=u.message;typeof m=="string"&&(s=m),o=u.details,o!==void 0&&(o=zo(o))}}catch{}return t==="ok"?null:new In(t,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,t,s,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,xt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||t.get().then(u=>this.auth=u,()=>{}),this.messaging||s.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o?.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="us-central1",PV=/^data: (.*?)(?:\n|$)/;function VV(i){let e=null;return{promise:new Promise((t,s)=>{e=setTimeout(()=>{s(new In("deadline-exceeded","deadline-exceeded"))},i)}),cancel:()=>{e&&clearTimeout(e)}}}class kV{constructor(e,t,s,o,u=ng,c=(...m)=>fetch(...m)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new OV(e,t,s,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(u);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=ng}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function MV(i,e,t){const s=Ms(e);i.emulatorOrigin=`http${s?"s":""}://${e}:${t}`,s&&(Td(i.emulatorOrigin),cg("Functions",!0))}function LV(i,e,t){const s=o=>jV(i,e,o,{});return s.stream=(o,u)=>BV(i,e,o,u),s}async function UV(i,e,t,s){t["Content-Type"]="application/json";let o;try{o=await s(i,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let u=null;try{u=await o.json()}catch{}return{status:o.status,json:u}}async function oS(i,e){const t={},s=await i.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(t.Authorization="Bearer "+s.authToken),s.messagingToken&&(t["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=s.appCheckToken),t}function jV(i,e,t,s){const o=i._url(e);return zV(i,o,t,s)}async function zV(i,e,t,s){t=yd(t);const o={data:t},u=await oS(i,s),c=s.timeout||7e4,m=VV(c),p=await Promise.race([UV(e,o,u,i.fetchImpl),m.promise,i.cancelAllRequests]);if(m.cancel(),!p)throw new In("cancelled","Firebase Functions instance was deleted.");const g=_d(p.status,p.json);if(g)throw g;if(!p.json)throw new In("internal","Response is not valid JSON object.");let v=p.json.data;if(typeof v>"u"&&(v=p.json.result),typeof v>"u")throw new In("internal","Response is missing data field.");return{data:zo(v)}}function BV(i,e,t,s){const o=i._url(e);return qV(i,o,t,s||{})}async function qV(i,e,t,s){var o;t=yd(t);const u={data:t},c=await oS(i,s);c["Content-Type"]="application/json",c.Accept="text/event-stream";let m;try{m=await i.fetchImpl(e,{method:"POST",body:JSON.stringify(u),headers:c,signal:s?.signal})}catch(C){if(C instanceof Error&&C.name==="AbortError"){const q=new In("cancelled","Request was cancelled.");return{data:Promise.reject(q),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(q)}}}}}}const O=_d(0,null);return{data:Promise.reject(O),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(O)}}}}}}let p,g;const v=new Promise((C,O)=>{p=C,g=O});(o=s?.signal)===null||o===void 0||o.addEventListener("abort",()=>{const C=new In("cancelled","Request was cancelled.");g(C)});const T=m.body.getReader(),A=FV(T,p,g,s?.signal);return{stream:{[Symbol.asyncIterator](){const C=A.getReader();return{async next(){const{value:O,done:q}=await C.read();return{value:O,done:q}},async return(){return await C.cancel(),{done:!0,value:void 0}}}}},data:v}}function FV(i,e,t,s){const o=(c,m)=>{const p=c.match(PV);if(!p)return;const g=p[1];try{const v=JSON.parse(g);if("result"in v){e(zo(v.result));return}if("message"in v){m.enqueue(zo(v.message));return}if("error"in v){const T=_d(0,v);m.error(T),t(T);return}}catch(v){if(v instanceof In){m.error(v),t(v);return}}},u=new TextDecoder;return new ReadableStream({start(c){let m="";return p();async function p(){if(s?.aborted){const g=new In("cancelled","Request was cancelled");return c.error(g),t(g),Promise.resolve()}try{const{value:g,done:v}=await i.read();if(v){m.trim()&&o(m.trim(),c),c.close();return}if(s?.aborted){const A=new In("cancelled","Request was cancelled");c.error(A),t(A),await i.cancel();return}m+=u.decode(g,{stream:!0});const T=m.split(`
`);m=T.pop()||"";for(const A of T)A.trim()&&o(A.trim(),c);return p()}catch(g){const v=g instanceof In?g:_d(0,null);c.error(v),t(v)}}},cancel(){return i.cancel()}})}const Rb="@firebase/functions",Ib="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="auth-internal",GV="app-check-internal",KV="messaging-internal";function $V(i){const e=(t,{instanceIdentifier:s})=>{const o=t.getProvider("app").getImmediate(),u=t.getProvider(HV),c=t.getProvider(KV),m=t.getProvider(GV);return new kV(o,u,c,m,s)};ba(new Cs(hy,e,"PUBLIC").setMultipleInstances(!0)),Ni(Rb,Ib,i),Ni(Rb,Ib,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(i=fg(),e=ng){const s=zu(Re(i),hy).getImmediate({identifier:e}),o=tT("functions");return o&&YV(s,...o),s}function YV(i,e,t){MV(Re(i),e,t)}function XV(i,e,t){return LV(Re(i),e)}$V();console.log(" Starting Firebase init...");console.log(" Firebase imports loaded");const WV={apiKey:"AIzaSyBPvb63rhkyCJdsm0ZuPc6DbeG7ds-gD7c",authDomain:"ascension-app-e3d00.firebaseapp.com",projectId:"ascension-app-e3d00",storageBucket:"ascension-app-e3d00.firebasestorage.app",messagingSenderId:"942940274103",appId:"1:942940274103:ios:502983e5779d820167bc32",measurementId:"G-YN28QXJDE6"};console.log(" Config ready");const dy=oT(WV);console.log(" Firebase initialized");const lS=sy(dy,{persistence:oy});console.log(" Auth ready with browser persistence");const ig=jw(dy,{cacheSizeBytes:Uw});console.log(" Firestore ready with unlimited cache");const uS=QV(dy,"us-central1");console.log(" Functions ready");const bs=Object.freeze(Object.defineProperty({__proto__:null,auth:lS,db:ig,functions:uS},Symbol.toStringTag,{value:"Module"})),JV="modulepreload",ZV=function(i){return"/"+i},xb={},ot=function(e,t,s){let o=Promise.resolve();if(t&&t.length>0){let p=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),m=c?.nonce||c?.getAttribute("nonce");o=p(t.map(g=>{if(g=ZV(g),g in xb)return;xb[g]=!0;const v=g.endsWith(".css"),T=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const A=document.createElement("link");if(A.rel=v?"stylesheet":JV,v||(A.as="script"),A.crossOrigin="",A.href=g,m&&A.setAttribute("nonce",m),document.head.appendChild(A),v)return new Promise((C,O)=>{A.addEventListener("load",C),A.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return o.then(c=>{for(const m of c||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var Bo;(function(i){i.Unimplemented="UNIMPLEMENTED",i.Unavailable="UNAVAILABLE"})(Bo||(Bo={}));class Rp extends Error{constructor(e,t,s){super(e),this.message=e,this.code=t,this.data=s}}const ek=i=>{var e,t;return i?.androidBridge?"android":!((t=(e=i?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},tk=i=>{const e=i.CapacitorCustomPlatform||null,t=i.Capacitor||{},s=t.Plugins=t.Plugins||{},o=()=>e!==null?e.name:ek(i),u=()=>o()!=="web",c=T=>{const A=g.get(T);return!!(A?.platforms.has(o())||m(T))},m=T=>{var A;return(A=t.PluginHeaders)===null||A===void 0?void 0:A.find(C=>C.name===T)},p=T=>i.console.error(T),g=new Map,v=(T,A={})=>{const C=g.get(T);if(C)return console.warn(`Capacitor plugin "${T}" already registered. Cannot register plugins twice.`),C.proxy;const O=o(),q=m(T);let L;const Y=async()=>(!L&&O in A?L=typeof A[O]=="function"?L=await A[O]():L=A[O]:e!==null&&!L&&"web"in A&&(L=typeof A.web=="function"?L=await A.web():L=A.web),L),ne=(R,I)=>{var P,V;if(q){const U=q?.methods.find(x=>I===x.name);if(U)return U.rtype==="promise"?x=>t.nativePromise(T,I.toString(),x):(x,Xe)=>t.nativeCallback(T,I.toString(),x,Xe);if(R)return(P=R[I])===null||P===void 0?void 0:P.bind(R)}else{if(R)return(V=R[I])===null||V===void 0?void 0:V.bind(R);throw new Rp(`"${T}" plugin is not implemented on ${O}`,Bo.Unimplemented)}},ie=R=>{let I;const P=(...V)=>{const U=Y().then(x=>{const Xe=ne(x,R);if(Xe){const it=Xe(...V);return I=it?.remove,it}else throw new Rp(`"${T}.${R}()" is not implemented on ${O}`,Bo.Unimplemented)});return R==="addListener"&&(U.remove=async()=>I()),U};return P.toString=()=>`${R.toString()}() { [capacitor code] }`,Object.defineProperty(P,"name",{value:R,writable:!1,configurable:!1}),P},me=ie("addListener"),re=ie("removeListener"),pe=(R,I)=>{const P=me({eventName:R},I),V=async()=>{const x=await P;re({eventName:R,callbackId:x},I)},U=new Promise(x=>P.then(()=>x({remove:V})));return U.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await V()},U},D=new Proxy({},{get(R,I){switch(I){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return q?pe:me;case"removeListener":return re;default:return ie(I)}}});return s[T]=D,g.set(T,{name:T,proxy:D,platforms:new Set([...Object.keys(A),...q?[O]:[]])}),D};return t.convertFileSrc||(t.convertFileSrc=T=>T),t.getPlatform=o,t.handleError=p,t.isNativePlatform=u,t.isPluginAvailable=c,t.registerPlugin=v,t.Exception=Rp,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},nk=i=>i.Capacitor=tk(i),ku=nk(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),cS=ku.registerPlugin;class hS{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(t);const u=this.windowListeners[e];u&&!u.registered&&this.addWindowListener(u),s&&this.sendRetainedArgumentsForEvent(e);const c=async()=>this.removeListener(e,t);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,s){const o=this.listeners[e];if(!o){if(s){let u=this.retainedEventArguments[e];u||(u=[]),u.push(t),this.retainedEventArguments[e]=u}return}o.forEach(u=>u(t))}hasListeners(e){var t;return!!(!((t=this.listeners[e])===null||t===void 0)&&t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:s=>{this.notifyListeners(t,s)}}}unimplemented(e="not implemented"){return new ku.Exception(e,Bo.Unimplemented)}unavailable(e="not available"){return new ku.Exception(e,Bo.Unavailable)}async removeListener(e,t){const s=this.listeners[e];if(!s)return;const o=s.indexOf(t);this.listeners[e].splice(o,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(s=>{this.notifyListeners(e,s)}))}}const Cb=i=>encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Nb=i=>i.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class ik extends hS{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[o,u]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=Nb(o).trim(),u=Nb(u).trim(),t[o]=u}),t}async setCookie(e){try{const t=Cb(e.key),s=Cb(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,u=(e.path||"/").replace("path=",""),c=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${s||""}${o}; path=${u}; ${c};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}cS("CapacitorCookies",{web:()=>new ik});const rk=async i=>new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{const o=s.result;e(o.indexOf(",")>=0?o.split(",")[1]:o)},s.onerror=o=>t(o),s.readAsDataURL(i)}),sk=(i={})=>{const e=Object.keys(i);return Object.keys(i).map(o=>o.toLocaleLowerCase()).reduce((o,u,c)=>(o[u]=i[e[c]],o),{})},ak=(i,e=!0)=>i?Object.entries(i).reduce((s,o)=>{const[u,c]=o;let m,p;return Array.isArray(c)?(p="",c.forEach(g=>{m=e?encodeURIComponent(g):g,p+=`${u}=${m}&`}),p.slice(0,-1)):(m=e?encodeURIComponent(c):c,p=`${u}=${m}`),`${s}&${p}`},"").substr(1):null,ok=(i,e={})=>{const t=Object.assign({method:i.method||"GET",headers:i.headers},e),o=sk(i.headers)["content-type"]||"";if(typeof i.data=="string")t.body=i.data;else if(o.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[c,m]of Object.entries(i.data||{}))u.set(c,m);t.body=u.toString()}else if(o.includes("multipart/form-data")||i.data instanceof FormData){const u=new FormData;if(i.data instanceof FormData)i.data.forEach((m,p)=>{u.append(p,m)});else for(const m of Object.keys(i.data))u.append(m,i.data[m]);t.body=u;const c=new Headers(t.headers);c.delete("content-type"),t.headers=c}else(o.includes("application/json")||typeof i.data=="object")&&(t.body=JSON.stringify(i.data));return t};class lk extends hS{async request(e){const t=ok(e,e.webFetchExtra),s=ak(e.params,e.shouldEncodeUrlParams),o=s?`${e.url}?${s}`:e.url,u=await fetch(o,t),c=u.headers.get("content-type")||"";let{responseType:m="text"}=u.ok?e:{};c.includes("application/json")&&(m="json");let p,g;switch(m){case"arraybuffer":case"blob":g=await u.blob(),p=await rk(g);break;case"json":p=await u.json();break;case"document":case"text":default:p=await u.text()}const v={};return u.headers.forEach((T,A)=>{v[A]=T}),{data:p,headers:v,status:u.status,url:u.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}cS("CapacitorHttp",{web:()=>new lk});const Ci=ku.isNativePlatform(),uk=ku.getPlatform();console.log(` Firebase Platform: ${uk} (native: ${Ci})`);const Ip=i=>JSON.parse(JSON.stringify(i)),jh={signIn:async(i,e)=>{if(Ci){console.log(" Native sign in...");const{FirebaseAuthentication:t}=await ot(async()=>{const{FirebaseAuthentication:o}=await import("./index-BAvQtOXE.js");return{FirebaseAuthentication:o}},[]);return{user:(await t.signInWithEmailAndPassword({email:i,password:e})).user}}else{console.log(" Web sign in...");const{signInWithEmailAndPassword:t}=await ot(async()=>{const{signInWithEmailAndPassword:o}=await Promise.resolve().then(()=>Sp);return{signInWithEmailAndPassword:o}},void 0),{auth:s}=await ot(async()=>{const{auth:o}=await Promise.resolve().then(()=>bs);return{auth:o}},void 0);return await t(s,i,e)}},signUp:async(i,e)=>{if(Ci){const{FirebaseAuthentication:t}=await ot(async()=>{const{FirebaseAuthentication:o}=await import("./index-BAvQtOXE.js");return{FirebaseAuthentication:o}},[]);return{user:(await t.createUserWithEmailAndPassword({email:i,password:e})).user}}else{const{createUserWithEmailAndPassword:t}=await ot(async()=>{const{createUserWithEmailAndPassword:o}=await Promise.resolve().then(()=>Sp);return{createUserWithEmailAndPassword:o}},void 0),{auth:s}=await ot(async()=>{const{auth:o}=await Promise.resolve().then(()=>bs);return{auth:o}},void 0);return await t(s,i,e)}},signOut:async()=>{if(Ci){const{FirebaseAuthentication:i}=await ot(async()=>{const{FirebaseAuthentication:e}=await import("./index-BAvQtOXE.js");return{FirebaseAuthentication:e}},[]);await i.signOut()}else{const{signOut:i}=await ot(async()=>{const{signOut:t}=await Promise.resolve().then(()=>Sp);return{signOut:t}},void 0),{auth:e}=await ot(async()=>{const{auth:t}=await Promise.resolve().then(()=>bs);return{auth:t}},void 0);await i(e)}},onAuthStateChanged:i=>{if(Ci)return console.log(" Setting up NATIVE auth listener"),ot(async()=>{const{FirebaseAuthentication:e}=await import("./index-BAvQtOXE.js");return{FirebaseAuthentication:e}},[]).then(({FirebaseAuthentication:e})=>{e.addListener("authStateChange",t=>{console.log(" Native auth state changed:",t.user),i(t.user||null)}),e.getCurrentUser().then(t=>{console.log(" Current native user:",t.user),i(t.user||null)}).catch(t=>{console.log(" No current user:",t),i(null)})}),()=>{ot(async()=>{const{FirebaseAuthentication:e}=await import("./index-BAvQtOXE.js");return{FirebaseAuthentication:e}},[]).then(({FirebaseAuthentication:e})=>{e.removeAllListeners()})};{console.log(" Setting up WEB auth listener");const{onAuthStateChanged:e}=require("firebase/auth"),{auth:t}=require("../config/firebase");return e(t,i)}},getCurrentUser:async()=>{if(Ci){const{FirebaseAuthentication:i}=await ot(async()=>{const{FirebaseAuthentication:t}=await import("./index-BAvQtOXE.js");return{FirebaseAuthentication:t}},[]);return(await i.getCurrentUser()).user}else{const{auth:i}=await ot(async()=>{const{auth:e}=await Promise.resolve().then(()=>bs);return{auth:e}},void 0);return i.currentUser}}},Ea={getDoc:async(i,e)=>{if(Ci){console.log(` Native getDoc: ${i}/${e}`);const{FirebaseFirestore:t}=await ot(async()=>{const{FirebaseFirestore:o}=await import("./index-CWc3_UT8.js");return{FirebaseFirestore:o}},[]),s=await t.getDocument({reference:`${i}/${e}`});return{exists:()=>s.snapshot.exists,data:()=>s.snapshot.data,id:e}}else{const{doc:t,getDoc:s}=await ot(async()=>{const{doc:c,getDoc:m}=await Promise.resolve().then(()=>Lh);return{doc:c,getDoc:m}},void 0),{db:o}=await ot(async()=>{const{db:c}=await Promise.resolve().then(()=>bs);return{db:c}},void 0),u=t(o,i,e);return await s(u)}},setDoc:async(i,e,t)=>{if(Ci){console.log(` Native setDoc: ${i}/${e}`,t);const{FirebaseFirestore:s}=await ot(async()=>{const{FirebaseFirestore:u}=await import("./index-CWc3_UT8.js");return{FirebaseFirestore:u}},[]),o=Ip(t);await s.setDocument({reference:`${i}/${e}`,data:o}),console.log(" Native setDoc complete")}else{const{doc:s,setDoc:o}=await ot(async()=>{const{doc:m,setDoc:p}=await Promise.resolve().then(()=>Lh);return{doc:m,setDoc:p}},void 0),{db:u}=await ot(async()=>{const{db:m}=await Promise.resolve().then(()=>bs);return{db:m}},void 0),c=s(u,i,e);await o(c,t)}},addDoc:async(i,e)=>{if(Ci){console.log(` Native addDoc to: ${i}`,e);const{FirebaseFirestore:t}=await ot(async()=>{const{FirebaseFirestore:u}=await import("./index-CWc3_UT8.js");return{FirebaseFirestore:u}},[]),s=Ip(e);console.log(" Serialized data:",s);const o=await t.addDocument({reference:i,data:s});return console.log(" Native addDoc complete:",o),{id:o.reference.split("/").pop()}}else{const{collection:t,addDoc:s}=await ot(async()=>{const{collection:c,addDoc:m}=await Promise.resolve().then(()=>Lh);return{collection:c,addDoc:m}},void 0),{db:o}=await ot(async()=>{const{db:c}=await Promise.resolve().then(()=>bs);return{db:c}},void 0),u=t(o,i);return await s(u,e)}},updateDoc:async(i,e,t)=>{if(Ci){console.log(` Native updateDoc: ${i}/${e}`,t);const{FirebaseFirestore:s}=await ot(async()=>{const{FirebaseFirestore:u}=await import("./index-CWc3_UT8.js");return{FirebaseFirestore:u}},[]),o=Ip(t);await s.updateDocument({reference:`${i}/${e}`,data:o}),console.log(" Native updateDoc complete")}else{const{doc:s,updateDoc:o}=await ot(async()=>{const{doc:m,updateDoc:p}=await Promise.resolve().then(()=>Lh);return{doc:m,updateDoc:p}},void 0),{db:u}=await ot(async()=>{const{db:m}=await Promise.resolve().then(()=>bs);return{db:m}},void 0),c=s(u,i,e);await o(c,t)}}},dS=G.createContext();function ck({children:i}){const[e,t]=G.useState(null),[s,o]=G.useState(!1),[u,c]=G.useState(!0),[m,p]=G.useState(null);G.useEffect(()=>{console.log(" [1/3] Setting up Firebase Auth listener...");const C=setTimeout(()=>{console.error(" TIMEOUT: Firebase Auth did not respond in 30 seconds"),p("Firebase connection timeout. Please check your internet connection."),c(!1)},3e4);try{const O=jh.onAuthStateChanged(async q=>{if(clearTimeout(C),console.log(" [2/3] Auth state changed:",q?.email||"no user"),q){t(q);try{const L=await Ea.getDoc("users",q.uid);if(L.exists()){const Y=L.data();o(Y.isPremium===!0),console.log(" User is premium:",Y.isPremium)}else console.log(" No user document found"),o(!1)}catch(L){console.error(" Error fetching user data:",L),o(!1)}}else console.log(" No user logged in"),t(null),o(!1);c(!1),console.log(" [3/3] Auth initialization complete")});return()=>{clearTimeout(C),O&&O()}}catch(O){console.error(" FATAL: Failed to setup auth listener:",O),p("Failed to initialize authentication: "+O.message),c(!1),clearTimeout(C)}},[]);const A={user:e,isPremium:s,loading:u,error:m,login:async(C,O)=>{const q=await jh.signIn(C,O),L=await Ea.getDoc("users",q.user.uid);return L.exists()&&o(L.data().isPremium===!0),q},signup:async(C,O)=>{const q=await jh.signUp(C,O);return await Ea.setDoc("users",q.user.uid,{email:C,isPremium:!1,createdAt:new Date().toISOString()}),o(!1),q},logout:()=>jh.signOut()};return m?b.jsxs("div",{style:{position:"fixed",inset:0,backgroundColor:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"20px",textAlign:"center"},children:[b.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),b.jsx("h2",{style:{fontSize:"24px",marginBottom:"10px"},children:"Connection Error"}),b.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:m}),b.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"12px 24px",backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",cursor:"pointer"},children:"Retry"})]}):b.jsx(dS.Provider,{value:A,children:i})}function Na(){return G.useContext(dS)}function hk({isOpen:i,onClose:e,onSuccess:t}){const[s,o]=G.useState(!0),[u,c]=G.useState(""),[m,p]=G.useState(""),[g,v]=G.useState(""),[T,A]=G.useState(!1),{signup:C,login:O}=Na();if(!i)return null;const q=async L=>{L.preventDefault(),v(""),A(!0);try{s?await O(u,m):await C(u,m),t?.(),e()}catch(Y){v(Y.message)}finally{A(!1)}};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s?"Welcome Back":"Create Account"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:""})]}),b.jsxs("form",{onSubmit:q,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),b.jsx("input",{type:"email",value:u,onChange:L=>c(L.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"you@example.com",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),b.jsx("input",{type:"password",value:m,onChange:L=>p(L.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0,minLength:6})]}),g&&b.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:g}),b.jsx("button",{type:"submit",disabled:T,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:T?"Please wait...":s?"Log In":"Sign Up"})]}),b.jsx("div",{className:"mt-6 text-center",children:b.jsx("button",{onClick:()=>o(!s),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:s?"Don't have an account? Sign up":"Already have an account? Log in"})})]})})}function dk({onStartCalculator:i}){const[e,t]=G.useState(!1);return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"max-w-2xl w-full text-center space-y-8",children:[b.jsx("div",{className:"flex justify-center",children:b.jsx("div",{className:"bg-blue-600 text-white w-20 h-20 rounded-2xl flex items-center justify-center text-4xl shadow-lg",children:""})}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h1",{className:"text-5xl font-bold text-gray-900",children:"Refurbly"}),b.jsx("p",{className:"text-xl text-gray-600",children:"Get instant refurbishment estimates"}),b.jsx("p",{className:"text-lg text-gray-500",children:"Powered by real UK trade rates"})]}),b.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[b.jsxs("button",{onClick:()=>t(!0),className:"w-full bg-white border-2 border-gray-200 text-gray-900 py-4 px-6 rounded-xl font-semibold hover:border-blue-500 hover:bg-blue-50 transition shadow-sm flex items-center justify-center gap-3 group",children:[b.jsx("span",{className:"text-2xl",children:""}),b.jsxs("div",{className:"text-left",children:[b.jsx("div",{className:"font-bold",children:"Login / Sign Up"}),b.jsx("div",{className:"text-sm text-gray-500 font-normal",children:"Access your saved quotes"})]})]}),b.jsxs("button",{onClick:i,className:"w-full bg-blue-600 text-white py-4 px-6 rounded-xl font-semibold hover:bg-blue-700 transition shadow-lg flex items-center justify-center gap-3",children:[b.jsx("span",{className:"text-2xl",children:""}),b.jsxs("div",{className:"text-left",children:[b.jsx("div",{className:"font-bold",children:"Start Calculator"}),b.jsx("div",{className:"text-sm text-blue-100 font-normal",children:"No login required"})]})]})]}),b.jsx("div",{className:"pt-8 text-sm text-gray-500",children:b.jsx("p",{children:"For estate agents and property professionals"})})]})}),b.jsx(hk,{isOpen:e,onClose:()=>t(!1),onSuccess:()=>{}})]})}function fS({quoteData:i}){const[e,t]=G.useState(!1),[s,o]=G.useState(""),{user:u}=Na(),c=async()=>{if(!u){o("Please sign in first");return}t(!0),o("");try{const m=lS.currentUser;if(!m)throw new Error("Please sign in again");await m.getIdToken(!0),console.log("Creating checkout session...");const g=await XV(uS,"createCheckoutSession")({quoteData:i});console.log("Checkout session created:",g.data);const{url:v}=g.data;window.location.href=v}catch(m){console.error("Payment error:",m),m.code==="unauthenticated"?o("Please sign out and sign in again, then try payment."):o(m.message||"Payment failed. Please try again."),t(!1)}};return b.jsxs("div",{children:[b.jsx("button",{onClick:c,disabled:e||!u,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Redirecting to payment...":"Unlock Now - 9.99 one-time"}),s&&b.jsx("div",{className:"mt-2 text-red-600 text-sm",children:s}),!u&&b.jsx("div",{className:"mt-2 text-amber-600 text-sm",children:"Please sign in first to unlock premium features"})]})}const fk={flat:{1:45,2:65,3:85,4:100,5:120},house:{2:75,3:95,4:120,5:150},maisonette:{2:70,3:90,4:110,5:135}},on={decoration:{labour:{budget:8,standard:12,premium:18},materials:{budget:5,standard:8,premium:15}},flooring:{labour:{budget:15,standard:20,premium:30},materials:{budget:20,standard:40,premium:70}},plastering:{labour:{budget:25,standard:35,premium:50},materials:{budget:8,standard:12,premium:18}},kitchen:{labour:{budget:1500,standard:2e3,premium:3e3},materials:{budget:3500,standard:6e3,premium:12e3}},bathroom:{labour:{budget:1200,standard:1800,premium:2500},materials:{budget:1800,standard:2700,premium:5e3}},rewire:{labour:{budget:1500,standard:2e3,premium:3e3},materials:{budget:1e3,standard:1500,premium:2e3}},heating:{labour:{budget:1500,standard:2e3,premium:2500},materials:{budget:1500,standard:2e3,premium:3500}},windows:{labour:{budget:1e3,standard:1500,premium:2e3},materials:{budget:3e3,standard:4500,premium:7e3}}};function mk({onQuoteSaved:i,editingQuote:e,quotesCount:t,maxQuotes:s,onEditComplete:o}){const[u,c]=G.useState(1),{user:m,isPremium:p}=Na(),[g,v]=G.useState(!1),[T,A]=G.useState(!1),C=!!e,[O,q]=G.useState({bedrooms:"2",bathrooms:"1",propertyType:"house",location:"",quality:"standard",needsDecoration:!0,needsFlooring:!0,needsPlastering:!1,needsKitchen:!0,needsBathroom:!0,needsRewire:!1,needsHeating:!1,needsWindows:!1});G.useEffect(()=>{e&&q({bedrooms:String(e.bedrooms||"2"),bathrooms:String(e.bathrooms||"1"),propertyType:e.propertyType||"house",location:e.location||"",quality:e.quality||"standard",needsDecoration:e.needsDecoration!==!1,needsFlooring:e.needsFlooring!==!1,needsPlastering:e.needsPlastering||!1,needsKitchen:e.needsKitchen!==!1,needsBathroom:e.needsBathroom!==!1,needsRewire:e.needsRewire||!1,needsHeating:e.needsHeating||!1,needsWindows:e.needsWindows||!1})},[e]);const L=(re,pe)=>{q(D=>({...D,[re]:pe}))},Y=G.useMemo(()=>{const re=parseInt(O.bedrooms)||2,pe=parseInt(O.bathrooms)||1,D=O.propertyType,R=O.quality,I=fk[D]?.[re]||75;let P={},V={};O.needsDecoration&&(P.decoration=I*on.decoration.labour[R],V.decoration=I*on.decoration.materials[R]),O.needsFlooring&&(P.flooring=I*on.flooring.labour[R],V.flooring=I*on.flooring.materials[R]),O.needsPlastering&&(P.plastering=I*on.plastering.labour[R],V.plastering=I*on.plastering.materials[R]),O.needsKitchen&&(P.kitchen=on.kitchen.labour[R],V.kitchen=on.kitchen.materials[R]),O.needsBathroom&&(P.bathrooms=on.bathroom.labour[R]*pe,V.bathrooms=on.bathroom.materials[R]*pe),O.needsRewire&&(P.rewire=on.rewire.labour[R],V.rewire=on.rewire.materials[R]),O.needsHeating&&(P.heating=on.heating.labour[R],V.heating=on.heating.materials[R]),O.needsWindows&&(P.windows=on.windows.labour[R],V.windows=on.windows.materials[R]);const U=Object.values(P).reduce((Pe,ze)=>Pe+ze,0),x=Object.values(V).reduce((Pe,ze)=>Pe+ze,0),Xe=U+x,it=Math.round(Xe*.15),X=Xe+it,le=Math.round(X*.8),ye=Math.round(X*1.2);return{labourBreakdown:P,materialsBreakdown:V,totalLabour:U,totalMaterials:x,subtotal:Xe,contingency:it,total:X,rangeMin:le,rangeMax:ye,totalSqm:I}},[O]),ne=async()=>{if(!m){alert("Please sign in to save quotes");return}if(!C&&t>=s){alert(p?"You've reached the maximum of 10 saved quotes. Please delete some quotes to add new ones.":"You've reached your free limit of 5 quotes. Upgrade to Premium to save more!");return}v(!0),A(!1);try{const re={userId:m.uid,location:O.location||"No location specified",propertyType:O.propertyType,bedrooms:parseInt(O.bedrooms),bathrooms:parseInt(O.bathrooms),totalSqm:Y.totalSqm,quality:O.quality,needsDecoration:O.needsDecoration,needsFlooring:O.needsFlooring,needsPlastering:O.needsPlastering,needsKitchen:O.needsKitchen,needsBathroom:O.needsBathroom,needsRewire:O.needsRewire,needsHeating:O.needsHeating,needsWindows:O.needsWindows,estimate:Y.total,rangeMin:Y.rangeMin,rangeMax:Y.rangeMax,breakdown:{labour:Y.labourBreakdown,materials:Y.materialsBreakdown},updatedAt:new Date().toISOString()};C?(await Ea.updateDoc("quotes",e.id,re),A(!0),setTimeout(()=>{o&&o()},1500)):(re.createdAt=new Date().toISOString(),await Ea.addDoc("quotes",re),A(!0),i&&i(),setTimeout(()=>A(!1),3e3))}catch(re){console.error("Error saving quote:",re),alert("Failed to save quote. Please try again.")}finally{v(!1)}},ie=()=>c(re=>Math.min(re+1,3)),me=()=>c(re=>Math.max(re-1,1));return b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs("div",{className:"mb-8",children:[b.jsx("div",{className:"flex items-center justify-between mb-2",children:[1,2,3].map(re=>b.jsxs("div",{className:"flex items-center flex-1",children:[b.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all ${re<=u?"bg-blue-600 text-white shadow-lg":"bg-slate-200 text-slate-400"}`,children:re}),re<3&&b.jsx("div",{className:`h-1 flex-1 mx-2 rounded transition-all ${re<u?"bg-blue-600":"bg-slate-200"}`})]},re))}),b.jsxs("div",{className:"flex justify-between text-xs sm:text-sm text-slate-600 mt-2",children:[b.jsx("span",{children:"Property"}),b.jsx("span",{children:"What's Needed"}),b.jsx("span",{children:"Estimate"})]})]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-200 p-6 sm:p-8",children:[u===1&&b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Property Details"}),b.jsx("p",{className:"text-slate-600 mb-6",children:"Tell us about the property"}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Property Type"}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:["flat","house","maisonette"].map(re=>b.jsx("button",{type:"button",onClick:()=>L("propertyType",re),className:`p-4 rounded-xl border-2 font-medium transition-all capitalize ${O.propertyType===re?"border-blue-600 bg-blue-50 text-blue-700":"border-slate-200 hover:border-slate-300 text-slate-700"}`,children:re},re))})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Bedrooms"}),b.jsx("select",{value:O.bedrooms,onChange:re=>L("bedrooms",re.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:border-blue-600 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[1,2,3,4,5].map(re=>b.jsx("option",{value:re,children:re},re))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Bathrooms"}),b.jsx("select",{value:O.bathrooms,onChange:re=>L("bathrooms",re.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:border-blue-600 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[1,2,3].map(re=>b.jsx("option",{value:re,children:re},re))})]})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Property Location ",b.jsx("span",{className:"font-normal text-slate-500",children:"(Optional)"})]}),b.jsx("input",{type:"text",value:O.location,onChange:re=>L("location",re.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:border-blue-600 focus:ring-4 focus:ring-blue-100 outline-none transition-all",placeholder:"e.g., 123 Oak Street, Manchester"})]})]})]}),u===2&&b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"What Needs Doing?"}),b.jsx("p",{className:"text-slate-600 mb-6",children:"Select all that apply"}),b.jsx("div",{className:"space-y-3",children:[{field:"needsDecoration",label:"Full Decoration",desc:"Painting, decorating throughout"},{field:"needsFlooring",label:"New Flooring",desc:"Carpets, laminate, or tiles"},{field:"needsPlastering",label:"Plastering",desc:"Walls and ceilings"},{field:"needsKitchen",label:"New Kitchen",desc:"Full kitchen replacement"},{field:"needsBathroom",label:"New Bathroom(s)",desc:"Complete bathroom refurb"},{field:"needsRewire",label:"Full Rewire",desc:"Complete electrical rewiring"},{field:"needsHeating",label:"New Heating System",desc:"Boiler and radiators"},{field:"needsWindows",label:"Replace Windows",desc:"New double glazing"}].map(re=>b.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl border-2 cursor-pointer transition-all ${O[re.field]?"border-blue-600 bg-blue-50":"border-slate-200 hover:border-slate-300"}`,children:[b.jsx("input",{type:"checkbox",checked:O[re.field],onChange:pe=>L(re.field,pe.target.checked),className:"w-5 h-5 mt-0.5 rounded border-slate-300 text-blue-600"}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"font-semibold text-slate-900",children:re.label}),b.jsx("div",{className:"text-sm text-slate-600",children:re.desc})]})]},re.field))}),b.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Quality Level"}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{value:"budget",label:"Budget",icon:"",desc:"Basic, functional finish"},{value:"standard",label:"Standard",icon:"",desc:"Good quality, mid-range"},{value:"premium",label:"Premium",icon:"",desc:"High-end finishes"}].map(re=>b.jsxs("button",{type:"button",onClick:()=>L("quality",re.value),className:`p-4 rounded-xl border-2 text-left transition-all ${O.quality===re.value?"border-blue-600 bg-blue-50":"border-slate-200 hover:border-slate-300"}`,children:[b.jsx("div",{className:"text-2xl mb-2",children:re.icon}),b.jsx("div",{className:"font-semibold text-slate-900",children:re.label}),b.jsx("div",{className:"text-sm text-slate-600",children:re.desc})]},re.value))})]})]}),u===3&&b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:C?"Updated Estimate":"Your Estimate"}),b.jsxs("p",{className:"text-slate-600 mb-6",children:[O.location&&`${O.location}  `,O.bedrooms," bed ",O.propertyType,"  ",O.quality," quality"]}),p?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-6 text-white shadow-lg mb-6",children:[b.jsx("div",{className:"text-sm opacity-90 mb-1",children:"Total Estimated Cost"}),b.jsxs("div",{className:"text-4xl font-bold",children:["",Y.total.toLocaleString()]}),b.jsx("div",{className:"text-sm opacity-75 mt-2",children:"Including 15% contingency"})]}),b.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-6",children:b.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[b.jsx("span",{className:"text-xl",children:""}),b.jsx("span",{className:"font-semibold",children:"Premium - Full breakdown unlocked"})]})}),b.jsxs("div",{className:"space-y-4 mb-6",children:[b.jsx("div",{className:"bg-blue-50 rounded-xl p-4",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("span",{className:"font-semibold text-blue-900",children:"Total Labour"}),b.jsxs("span",{className:"text-xl font-bold text-blue-900",children:["",Y.totalLabour.toLocaleString()]})]})}),Object.entries(Y.labourBreakdown).map(([re,pe])=>b.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-slate-200 ml-4",children:[b.jsxs("span",{className:"text-slate-700 capitalize",children:[re," Labour"]}),b.jsxs("span",{className:"font-semibold text-slate-900",children:["",Math.round(pe).toLocaleString()]})]},re)),b.jsx("div",{className:"bg-purple-50 rounded-xl p-4 mt-4",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("span",{className:"font-semibold text-purple-900",children:"Total Materials"}),b.jsxs("span",{className:"text-xl font-bold text-purple-900",children:["",Y.totalMaterials.toLocaleString()]})]})}),Object.entries(Y.materialsBreakdown).map(([re,pe])=>b.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-slate-200 ml-4",children:[b.jsxs("span",{className:"text-slate-700 capitalize",children:[re," Materials"]}),b.jsxs("span",{className:"font-semibold text-slate-900",children:["",Math.round(pe).toLocaleString()]})]},re)),b.jsx("div",{className:"bg-amber-50 rounded-xl p-4 mt-4",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("span",{className:"font-semibold text-amber-900",children:"Contingency (15%)"}),b.jsxs("span",{className:"text-xl font-bold text-amber-900",children:["",Y.contingency.toLocaleString()]})]})})]})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-6 text-white shadow-lg mb-6",children:[b.jsx("div",{className:"text-sm opacity-90 mb-1",children:"Estimated Cost Range"}),b.jsxs("div",{className:"text-4xl font-bold",children:["",Y.rangeMin.toLocaleString()," - ",Y.rangeMax.toLocaleString()]}),b.jsx("div",{className:"text-sm opacity-75 mt-2",children:"Based on UK trade rates"})]}),b.jsxs("div",{className:"relative mb-6",children:[b.jsx("div",{className:"blur-sm pointer-events-none select-none",children:b.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[b.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Cost Breakdown"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex justify-between py-3 border-b",children:[b.jsx("span",{children:"Labour Costs"}),b.jsxs("span",{className:"font-bold",children:["",Y.totalLabour.toLocaleString()]})]}),b.jsxs("div",{className:"flex justify-between py-3 border-b",children:[b.jsx("span",{children:"Materials"}),b.jsxs("span",{className:"font-bold",children:["",Y.totalMaterials.toLocaleString()]})]}),Object.keys(Y.labourBreakdown).map(re=>b.jsxs("div",{className:"text-sm text-gray-600 ml-4",children:[re,": Labour XXX + Materials XXX"]},re))]})]})}),b.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 text-center max-w-sm",children:[b.jsx("div",{className:"text-4xl mb-4",children:""}),b.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Unlock Full Breakdown"}),b.jsx("p",{className:"text-gray-600 mb-4",children:"See detailed labour and material costs for each item"}),m?b.jsx(fS,{quoteData:O}):b.jsx("div",{className:"text-amber-700 text-sm",children:"Sign in to unlock premium features"})]})})]})]}),T&&b.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:b.jsxs("p",{className:"text-green-800 font-semibold",children:[" Quote ",C?"updated":"saved"," successfully!"]})}),b.jsxs("div",{className:"flex flex-col gap-3",children:[m&&b.jsx("button",{onClick:ne,disabled:g,className:"w-full px-6 py-3 rounded-xl bg-green-600 hover:bg-green-700 text-white font-semibold transition-all disabled:opacity-50",children:g?C?"Updating...":"Saving...":C?" Update Quote":" Save Quote"}),!C&&b.jsx("button",{type:"button",onClick:()=>c(1),className:"w-full px-6 py-3 rounded-xl bg-white border-2 border-slate-200 hover:border-slate-300 text-slate-700 font-semibold transition-all",children:" Start Again"})]})]}),u<3&&b.jsxs("div",{className:"flex gap-3 mt-8 pt-6 border-t border-slate-200",children:[u>1&&b.jsx("button",{type:"button",onClick:me,className:"px-6 py-3 rounded-xl bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold transition-all",children:"Back"}),b.jsx("button",{type:"button",onClick:ie,className:"flex-1 px-6 py-3 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-semibold transition-all shadow-lg",children:u===2?"Get Estimate":"Next"})]})]})]})}function pk({quoteId:i,onClose:e,onEdit:t}){const[s,o]=G.useState(null),[u,c]=G.useState(!0),{isPremium:m}=Na();G.useEffect(()=>{p()},[i]);const p=async()=>{try{const g=await Ea.getDoc("quotes",i);g.exists()&&o({id:g.id,...g.data()})}catch(g){console.error("Error loading quote:",g)}finally{c(!1)}};return u?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:b.jsx("div",{className:"bg-white rounded-2xl p-8 max-w-4xl w-full",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),b.jsx("p",{className:"mt-4 text-gray-600",children:"Loading quote..."})]})})}):s?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full my-8",children:[b.jsxs("div",{className:"border-b border-gray-200 p-6 flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s.location||"No location"}),b.jsxs("p",{className:"text-gray-600 mt-1",children:[s.bedrooms," bed ",s.propertyType,"  ",s.totalSqm," sqm  ",s.quality," quality"]})]}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none",children:""})]}),b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-6 text-white mb-6",children:[b.jsx("div",{className:"text-sm opacity-90 mb-1",children:"Total Estimated Cost"}),b.jsxs("div",{className:"text-4xl font-bold",children:["",s.estimate?.toLocaleString()||"0"]}),b.jsx("div",{className:"text-sm opacity-75 mt-2",children:"Including 15% contingency"})]}),m&&b.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-6 flex items-center gap-2",children:[b.jsx("span",{className:"text-green-600 text-xl",children:""}),b.jsx("span",{className:"text-green-800 font-semibold",children:"Premium Account - Full breakdown unlocked"})]}),m&&s.breakdown?b.jsxs("div",{className:"space-y-3 mb-6",children:[b.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Cost Breakdown"}),s.breakdown.decorationLabour&&b.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-900 font-medium",children:"Decoration Labour"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Professional painting throughout"})]}),b.jsxs("span",{className:"font-bold text-gray-900",children:["",s.breakdown.decorationLabour.toLocaleString()]})]}),s.breakdown.flooringTotal&&b.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[b.jsxs("div",{children:[b.jsxs("span",{className:"text-gray-900 font-medium",children:["Flooring (",s.totalSqm," sqm)"]}),b.jsx("p",{className:"text-sm text-gray-500",children:"Materials and installation"})]}),b.jsxs("span",{className:"font-bold text-gray-900",children:["",Math.round(s.breakdown.flooringTotal).toLocaleString()]})]}),s.breakdown.plastering&&b.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[b.jsxs("div",{children:[b.jsxs("span",{className:"text-gray-900 font-medium",children:["Plastering (",s.totalSqm," sqm)"]}),b.jsx("p",{className:"text-sm text-gray-500",children:"Walls and ceilings"})]}),b.jsxs("span",{className:"font-bold text-gray-900",children:["",Math.round(s.breakdown.plastering).toLocaleString()]})]}),s.breakdown.kitchen&&b.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-900 font-medium",children:"Kitchen Refurbishment"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Complete kitchen renewal"})]}),b.jsxs("span",{className:"font-bold text-gray-900",children:["",s.breakdown.kitchen.toLocaleString()]})]}),s.breakdown.bathrooms&&b.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-900 font-medium",children:"Bathroom Refurbishment"}),b.jsxs("p",{className:"text-sm text-gray-500",children:[s.bathrooms," bathroom(s)"]})]}),b.jsxs("span",{className:"font-bold text-gray-900",children:["",s.breakdown.bathrooms.toLocaleString()]})]}),s.breakdown.rewire&&b.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-900 font-medium",children:"Full Electrical Rewire"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Complete rewiring"})]}),b.jsxs("span",{className:"font-bold text-gray-900",children:["",s.breakdown.rewire.toLocaleString()]})]}),s.breakdown.heating&&b.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-900 font-medium",children:"New Heating System"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Boiler and radiators"})]}),b.jsxs("span",{className:"font-bold text-gray-900",children:["",s.breakdown.heating.toLocaleString()]})]}),s.breakdown.windows&&b.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-900 font-medium",children:"Window Replacement"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Double glazed throughout"})]}),b.jsxs("span",{className:"font-bold text-gray-900",children:["",s.breakdown.windows.toLocaleString()]})]})]}):b.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-6 mb-6",children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("span",{className:"text-3xl",children:""}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Upgrade to see full breakdown"}),b.jsx("p",{className:"text-gray-700 text-sm",children:"Premium members get detailed cost breakdowns showing decoration, flooring, plastering, and more."})]})]})}),b.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[b.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Project Scope"}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Refurb Level"}),b.jsx("p",{className:"font-semibold capitalize",children:s.refurbLevel})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Quality"}),b.jsx("p",{className:"font-semibold capitalize",children:s.quality})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Kitchen"}),b.jsx("p",{className:"font-semibold",children:s.includeKitchen?"Included":"Not included"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Bathroom"}),b.jsx("p",{className:"font-semibold",children:s.includeBathroom?"Included":"Not included"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Rewire"}),b.jsx("p",{className:"font-semibold",children:s.includeRewire?"Yes":"No"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Heating"}),b.jsx("p",{className:"font-semibold",children:s.includeHeating?"Yes":"No"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Windows"}),b.jsx("p",{className:"font-semibold",children:s.includeWindows?"Yes":"No"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Created"}),b.jsx("p",{className:"font-semibold",children:new Date(s.createdAt).toLocaleDateString()})]})]})]})]}),b.jsxs("div",{className:"border-t border-gray-200 p-6 flex gap-3",children:[m&&b.jsx("button",{onClick:()=>t(s),className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:" Edit Quote"}),b.jsx("button",{onClick:e,className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-200 transition",children:"Close"})]})]})}):null}function Db(){const{user:i,isPremium:e,logout:t}=Na(),[s,o]=G.useState(!1),[u,c]=G.useState(!1),[m,p]=G.useState(""),[g,v]=G.useState(!1),T=G.useRef(null);G.useEffect(()=>{function C(O){T.current&&!T.current.contains(O.target)&&o(!1)}return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const A=async C=>{C.preventDefault(),v(!0),alert("Thanks for your message! We'll get back to you soon."),p(""),c(!1),v(!1)};return i?b.jsxs("div",{className:"relative",ref:T,children:[b.jsxs("button",{onClick:()=>o(!s),className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-gray-100 transition",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center font-semibold",children:i.email[0].toUpperCase()}),b.jsx("span",{className:"text-sm font-medium text-gray-700 hidden sm:block",children:i.email.split("@")[0]})]}),s&&b.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white rounded-xl shadow-xl border border-gray-200 z-50",children:[b.jsxs("div",{className:"p-4 border-b border-gray-200",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold text-xl",children:i.email[0].toUpperCase()}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"font-semibold text-gray-900",children:i.email.split("@")[0]}),b.jsx("p",{className:"text-xs text-gray-500 truncate",children:i.email})]})]}),e?b.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2 mt-3",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-green-600 text-lg",children:""}),b.jsx("span",{className:"text-sm font-semibold text-green-800",children:"Premium Account"})]}),b.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Full access to all features"})]}):b.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-2 mt-3",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-gray-600",children:""}),b.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"Free Account"})]}),b.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Up to 5 saved quotes"})]})]}),b.jsxs("div",{className:"p-2",children:[b.jsx("button",{onClick:()=>{c(!0),o(!1)},className:"w-full text-left px-4 py-2 rounded-lg hover:bg-gray-100 transition text-sm text-gray-700",children:" Contact Support"}),b.jsx("button",{onClick:()=>{t(),o(!1)},className:"w-full text-left px-4 py-2 rounded-lg hover:bg-gray-100 transition text-sm text-red-600",children:" Sign Out"})]})]}),u&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Contact Support"}),b.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),b.jsxs("form",{onSubmit:A,children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Email"}),b.jsx("input",{type:"text",value:i.email,disabled:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 bg-gray-50 text-gray-600"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message"}),b.jsx("textarea",{value:m,onChange:C=>p(C.target.value),required:!0,rows:5,className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-600 focus:ring-4 focus:ring-blue-100 outline-none transition-all resize-none",placeholder:"How can we help you?"})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-4 py-2 rounded-lg border-2 border-gray-200 hover:border-gray-300 text-gray-700 font-semibold transition",children:"Cancel"}),b.jsx("button",{type:"submit",disabled:g||!m.trim(),className:"flex-1 px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-semibold transition disabled:opacity-50",children:g?"Sending...":"Send"})]})]})]})})]}):null}function gk(){const{user:i,loading:e,logout:t,isPremium:s}=Na(),[o,u]=G.useState("home"),[c,m]=G.useState([]),[p,g]=G.useState(!1),[v,T]=G.useState(null),[A,C]=G.useState(null),O=s?10:5;G.useEffect(()=>{console.log(" isPremium:",s)},[s]),G.useEffect(()=>{i&&o==="home"&&u("dashboard")},[i,o]),G.useEffect(()=>{o==="dashboard"&&i&&q()},[o,i]);const q=async()=>{if(i){g(!0);try{const ie=Ww(Lw(ig,"quotes"),Jw("userId","==",i.uid)),me=await rA(ie),re=[];me.forEach(pe=>{re.push({id:pe.id,...pe.data()})}),re.sort((pe,D)=>new Date(D.createdAt)-new Date(pe.createdAt)),m(re)}catch(ie){console.error("Error loading quotes:",ie)}finally{g(!1)}}},L=async ie=>{if(window.confirm("Are you sure you want to delete this quote?"))try{await sA(Hg(ig,"quotes",ie)),m(me=>me.filter(re=>re.id!==ie))}catch(me){console.error("Error deleting quote:",me),alert("Failed to delete quote")}},Y=ie=>{C(ie),T(null),u("calculator")},ne=()=>{o==="dashboard"&&q()};return e?b.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),b.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):b.jsxs(b.Fragment,{children:[o==="home"&&b.jsx(dk,{onStartCalculator:()=>u("calculator")}),o==="calculator"&&b.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[b.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:()=>{C(null),u(i?"dashboard":"home")},className:"text-2xl hover:opacity-70 transition",children:""}),b.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Refurbly"})]}),!i&&b.jsx("button",{onClick:()=>u("home"),className:"px-4 py-2 text-blue-600 font-semibold hover:bg-blue-50 rounded-lg transition",children:"Sign In"}),i&&b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>{C(null),u("dashboard")},className:"px-4 py-2 text-blue-600 font-semibold hover:bg-blue-50 rounded-lg transition",children:"My Quotes"}),b.jsx(Db,{})]})]}),b.jsx("div",{className:"p-6",children:b.jsx(mk,{onQuoteSaved:ne,editingQuote:A,quotesCount:c.length,maxQuotes:O,onEditComplete:()=>{C(null),u("dashboard"),q()}})})]}),o==="dashboard"&&b.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[b.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 pb-4 flex justify-between items-center",style:{paddingTop:"calc(env(safe-area-inset-top) + 1rem)"},children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"My Saved Quotes"}),b.jsxs("p",{className:"text-sm text-gray-600",children:[c.length," / ",O," quotes used",s&&b.jsx("span",{className:"ml-2 text-green-600 font-semibold",children:" Premium"})]})]}),b.jsx(Db,{})]}),b.jsx("div",{className:"p-6",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[!s&&c.length>=5&&b.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl p-8 mb-6 text-white shadow-xl",children:b.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("h2",{className:"text-2xl font-bold mb-2",children:"You've reached your free quote limit!"}),b.jsx("p",{className:"text-blue-100 mb-4",children:"Upgrade to Premium to save up to 10 quotes, get full breakdowns, and edit your saved quotes."})]}),b.jsxs("div",{className:"bg-white rounded-xl p-6 text-center min-w-[250px]",children:[b.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"9.99"}),b.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"One-time payment"}),b.jsx(fS,{quoteData:{}})]})]})}),b.jsx("div",{className:"mb-6",children:b.jsx("button",{onClick:()=>{if(!s&&c.length>=5){alert("You've reached your free limit of 5 quotes. Upgrade to Premium to save more!");return}if(s&&c.length>=10){alert("You've reached the maximum of 10 saved quotes. Please delete some quotes to add new ones.");return}C(null),u("calculator")},className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"+ Create New Quote"})}),p?b.jsxs("div",{className:"text-center py-12",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),b.jsx("p",{className:"mt-4 text-gray-600",children:"Loading quotes..."})]}):c.length===0?b.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[b.jsx("div",{className:"text-6xl mb-4",children:""}),b.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No saved quotes yet"}),b.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first quote to see it here"})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(ie=>b.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 p-6 hover:shadow-xl transition",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-bold text-lg text-gray-900 truncate",children:ie.location||"No location"}),b.jsxs("p",{className:"text-sm text-gray-600",children:[ie.bedrooms," bed ",ie.propertyType]})]}),b.jsx("button",{onClick:()=>L(ie.id),className:"text-red-500 hover:text-red-700 text-xl ml-2",title:"Delete quote",children:""})]}),b.jsxs("div",{className:"space-y-2 mb-4",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600",children:"Floor area:"}),b.jsxs("span",{className:"font-semibold",children:[ie.totalSqm," sqm"]})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600",children:"Quality:"}),b.jsx("span",{className:"font-semibold capitalize",children:ie.quality})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600",children:"Refurb level:"}),b.jsx("span",{className:"font-semibold",children:"Custom refurb"})]})]}),b.jsxs("div",{className:"border-t pt-4 mb-4",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("span",{className:"text-gray-600",children:"Total estimate:"}),b.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["",ie.estimate?.toLocaleString()||"0"]})]}),b.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Saved: ",new Date(ie.createdAt).toLocaleDateString()]})]}),b.jsx("div",{className:"flex gap-2",children:s?b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>T(ie.id),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-blue-700 transition",children:" View Details"}),b.jsx("button",{onClick:()=>Y(ie),className:"flex-1 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg text-sm font-semibold hover:bg-gray-200 transition",children:" Edit"})]}):b.jsx("button",{disabled:!0,className:"flex-1 bg-gray-100 text-gray-400 px-4 py-2 rounded-lg text-sm font-semibold cursor-not-allowed",title:"Upgrade to Premium to view details",children:" Upgrade to View"})})]},ie.id))})]})})]}),v&&b.jsx(pk,{quoteId:v,onClose:()=>T(null),onEdit:Y})]})}function yk(){Bb();const{user:i}=Na(),[e,t]=G.useState(5);return G.useEffect(()=>{(async()=>{i&&await Ea.setDoc("users",i.uid,{isPremium:!0,upgradedAt:new Date().toISOString()},{merge:!0})})();const o=setInterval(()=>{t(u=>u<=1?(clearInterval(o),window.location.href="/",0):u-1)},1e3);return()=>clearInterval(o)},[i]),b.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-2xl w-full",children:[b.jsxs("div",{className:"text-center mb-6",children:[b.jsx("div",{className:"text-6xl mb-4",children:""}),b.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to Premium!"}),b.jsx("p",{className:"text-gray-600",children:"Your payment was successful. You now have access to all premium features!"})]}),b.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 mb-6",children:[b.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"What's Unlocked:"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("span",{className:"text-2xl",children:""}),b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold text-gray-900",children:"Save up to 10 quotes"}),b.jsx("p",{className:"text-sm text-gray-600",children:"Increased from 5 free quotes"})]})]}),b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("span",{className:"text-2xl",children:""}),b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold text-gray-900",children:"Full cost breakdown"}),b.jsx("p",{className:"text-sm text-gray-600",children:"See detailed costs for decoration, flooring, plastering, kitchen, bathroom, and extras"})]})]}),b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("span",{className:"text-2xl",children:""}),b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold text-gray-900",children:"Edit saved quotes"}),b.jsx("p",{className:"text-sm text-gray-600",children:"Update any quote and see costs recalculate instantly"})]})]}),b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("span",{className:"text-2xl",children:""}),b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold text-gray-900",children:"Local contractor contacts"}),b.jsx("p",{className:"text-sm text-gray-600",children:"Coming soon - connect with trusted tradespeople"})]})]}),b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("span",{className:"text-2xl",children:""}),b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold text-gray-900",children:"PDF export"}),b.jsx("p",{className:"text-sm text-gray-600",children:"Coming soon - download professional quotes"})]})]})]})]}),b.jsxs("div",{className:"text-center",children:[b.jsxs("p",{className:"text-gray-600 mb-2",children:["Redirecting to your dashboard in ",b.jsx("span",{className:"font-bold text-blue-600",children:e})," seconds..."]}),b.jsx("button",{onClick:()=>window.location.href="/",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Go to Dashboard Now "})]})]})})}console.log(" App loading");XR.createRoot(document.getElementById("root")).render(b.jsx(G.StrictMode,{children:b.jsx(ck,{children:b.jsx(uI,{children:b.jsxs(z1,{children:[b.jsx(Cp,{path:"/",element:b.jsx(gk,{})}),b.jsx(Cp,{path:"/success",element:b.jsx(yk,{})})]})})})}));console.log(" React rendered");export{ED as $,OA as A,KO as B,jP as C,PP as D,js as E,fr as F,pr as G,BP as H,VP as I,jA as J,Mi as K,nP as L,eg as M,XA as N,Tu as O,ly as P,oy as Q,SP as R,J2 as S,gr as T,bD as U,Lw as V,hS as W,vD as X,Hg as Y,_D as Z,ot as _,LO as a,sA as a0,AD as a1,rA as a2,wD as a3,eD as a4,tD as a5,nD as a6,Mw as a7,TD as a8,Ww as a9,W2 as aa,uD as ab,lD as ac,Jw as ad,pD as ae,gD as af,mD as ag,fD as ah,dD as ai,hD as aj,cD as ak,MO as b,UO as c,aP as d,FP as e,HO as f,IV as g,mr as h,BO as i,_A as j,sP as k,xP as l,kO as m,zO as n,iP as o,NO as p,VO as q,cS as r,GO as s,jO as t,qO as u,IP as v,DO as w,YO as x,XO as y,QO as z};
